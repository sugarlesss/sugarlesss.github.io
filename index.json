[{"categories":["Mark"],"content":"å†…å®¹ä¸å®šæœŸæŒç»­æ›´æ–°ï¼Œæ„Ÿè°¢æ¯ä¸€ä½å¼€æºé¡¹ç›®ä½œè€…ä¸ºå…¨ä¸–ç•Œå¼€å‘è€…åšå‡ºçš„æ°å‡ºè´¡çŒ®ã€‚æœ¬æ–‡ä¸»è¦åˆ†äº«ä¸€äº›æˆ‘å¹³æ—¶æ”¶é›†åˆ°çš„ä¸€äº›å¥½ç‰©ï¼Œä¸œè¥¿å¯èƒ½æ¯”è¾ƒæ‚ä¹±ã€‚æ¶µç›–å¼€æºé¡¹ç›®ã€å…è´¹çš„å·¥å…·ç«™ã€å¥½ç”¨çš„å®¢æˆ·ç«¯å·¥å…·ã€ä¼˜ç§€çš„ä»˜è´¹ç½‘ç«™å’Œæ¥è·¯ä¸æ˜çš„æ²™é›•ç½‘ç«™ã€‚ Github å¼€æºé¡¹ç›® ","date":"2019-12-31","objectID":"/posts/mark/1.html:0:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"åŠŸèƒ½æ€§ç½‘ç«™ ","date":"2019-12-31","objectID":"/posts/mark/1.html:1:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€å…°ç©ºå›¾åºŠ ä½¿ç”¨ thinkphp + mysql å¼€å‘ï¼Œç•Œé¢ç®€æ´æ˜“ç”¨ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹äº‘å‚¨å­˜å’Œè¿œç¨‹ FTP å­˜å‚¨ã€‚å¹¶ä¸”æœ‰å¼€æºçš„æµè§ˆå™¨æ’ä»¶æ”¯æŒã€‚ï¼ˆçœŸé¦™ï¼‰ å®˜ç½‘ï¼šhttps://www.lsky.pro GitHubï¼šhttps://github.com/wisp-x/lsky-pro æµè§ˆå™¨æ‰©å±•ï¼šhttps://github.com/wisp-x/lsky-pro-chrome-extension ","date":"2019-12-31","objectID":"/posts/mark/1.html:1:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€åŸºäº php+html çš„è½»é‡çº§ç½‘ç»œæµ‹è¯•ç«™ç‚¹ HTML5 Speedtest å¯ç”¨äºæŸ¥çœ‹ä¸‹è½½é€Ÿåº¦ã€ping é€Ÿåº¦ã€ä¸Šä¼ é€Ÿåº¦ï¼›å¾ˆå°å·§æ–¹ä¾¿ï¼Œç›´æ¥æ‰“å¼€é¡µé¢ç‚¹å‡»ä¸€ä¸‹ start å°±èƒ½è‡ªåŠ¨æ£€æµ‹ï¼Œä½ æœ¬æœºåˆ°è¿œç¨‹æœåŠ¡å™¨çš„ç½‘ç»œçŠ¶å†µï¼Œå¿«é€Ÿå¾—åˆ°è§‚æµ‹æ•°æ® Githubï¼šhttps://github.com/librespeed/speedtest ","date":"2019-12-31","objectID":"/posts/mark/1.html:1:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€flarum è®ºå› åŸºäº PHP Laravel æ¡†æ¶æ„å»ºçš„ä¸€æ¬¾ä¼˜é›…ç®€æ´è®ºå›è½¯ä»¶ã€‚å‘å¸–åŠè·Ÿå¸–å›å¤ä½¿ç”¨ markdown è¯­æ³•æ˜¯ä¸€ä¸ªäº®ç‚¹ã€‚ å®˜ç½‘ï¼šhttps://flarum.org ä¸­æ–‡å®˜ç½‘ï¼šhttps://flarum.org.cn Githubï¼šhttps://github.com/flarum/flarum ","date":"2019-12-31","objectID":"/posts/mark/1.html:1:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å‘½ä»¤è¡Œå·¥å…· ","date":"2019-12-31","objectID":"/posts/mark/1.html:2:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€annie åŸºäº Go å¼€å‘çš„ä¸€æ¬¾å‘½ä»¤è¡Œè§†é¢‘ä¸‹è½½å™¨ï¼Œæ”¯æŒçš„å¹³å°å¾ˆå¤šï¼ŒåŒ…æ‹¬ MacOSã€Windowsã€Linux ç­‰ã€‚ç›®å‰æ”¯æŒ bilibili å’Œ youtube çš„æ’­æ”¾åˆ—è¡¨æ‰¹é‡ä¸‹è½½ï¼Œå…¶ä»–ç½‘ç«™åªæ”¯æŒå•ä¸ªè§†é¢‘ä¸‹è½½ã€‚ Githubï¼šhttps://github.com/iawia002/annie ","date":"2019-12-31","objectID":"/posts/mark/1.html:2:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€youtube-dl ä¸‹è½½ youtube è§†é¢‘çš„ç¥å™¨ Githubï¼šhttps://github.com/ytdl-org/youtube-dl å®˜ç½‘ï¼šhttp://ytdl-org.github.io/youtube-dl/ ","date":"2019-12-31","objectID":"/posts/mark/1.html:2:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å¼€å‘å·¥å…· ","date":"2019-12-31","objectID":"/posts/mark/1.html:3:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€AnotherRedisDesktopManager ä¸€ä¸ª GUI Redis æ¡Œé¢ç®¡ç†å™¨ï¼Œå…¼å®¹ Linuxã€Windowsã€Macã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨åŠ è½½å¤§é‡çš„é”®æ—¶ï¼Œå®ƒä¸ä¼šå´©æºƒã€‚ Githubï¼šhttps://github.com/qishibo/AnotherRedisDesktopManager ","date":"2019-12-31","objectID":"/posts/mark/1.html:3:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€SwitchHosts SwitchHosts æ˜¯ä¸€ä¸ªç®¡ç†ã€åˆ‡æ¢å¤šä¸ª hosts æ–¹æ¡ˆçš„å·¥å…·ã€‚ Githubï¼šhttps://github.com/oldj/SwitchHosts å®˜ç½‘ï¼šhttps://swh.app/zh/ ","date":"2019-12-31","objectID":"/posts/mark/1.html:3:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"UI æ¡†æ¶ ","date":"2019-12-31","objectID":"/posts/mark/1.html:4:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€LayUI å¯¹éä¸“ä¸šå‰ç«¯çš„å¼€å‘äººå‘˜éå¸¸å‹å¥½ï¼Œç»„ä»¶ä¸°å¯Œï¼Œæä½é—¨æ§›ï¼Œå¼€ç®±å³ç”¨ã€‚ å®˜ç½‘ï¼šhttps://www.layui.com GitHubï¼šhttps://github.com/sentsin/layui ","date":"2019-12-31","objectID":"/posts/mark/1.html:4:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€vant-weapp æœ‰èµå‡ºå“çš„å¼€æºå°ç¨‹åº UI ç»„ä»¶åº“ å®˜ç½‘ï¼šhttps://youzan.github.io/vant-weapp GitHubï¼šhttps://github.com/youzan/vant-weapp ","date":"2019-12-31","objectID":"/posts/mark/1.html:4:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€ElementUI é¥¿äº†ä¹ˆå¼€å‘çš„åŸºäº Vue 2.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“ å®˜ç½‘ï¼šhttps://element.eleme.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:4:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"WordPress ä¸»é¢˜ ","date":"2019-12-31","objectID":"/posts/mark/1.html:5:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€argon-theme åšå®¢ã€æ–‡ç« å‘ä¸»é¢˜ Githubï¼šhttps://github.com/solstice23/argon-theme Demoï¼šhttps://solstice23.top/archives/746 ","date":"2019-12-31","objectID":"/posts/mark/1.html:5:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€Puock åšå®¢ã€æ–‡ç« ä¸»é¢˜ Githubï¼šhttps://github.com/Licoy/wordpress-theme-puock Demoï¼šhttps://www.licoy.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:5:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€WebStack ç½‘å€å¯¼èˆªä¸»é¢˜ Githubï¼šhttps://github.com/owen0o0/WebStack ","date":"2019-12-31","objectID":"/posts/mark/1.html:5:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"JavaScript ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€intro.js ç½‘ç«™é¡µé¢ / æ–°åŠŸèƒ½ å¼•å¯¼æµç¨‹æ’ä»¶ å®˜ç½‘ï¼šhttp://introjs.com GitHubï¼šhttps://github.com/usablica/intro.js ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€clipboard.js js å®ç°ä¸€é”®å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿æ’ä»¶ å®˜ç½‘ï¼šhttps://clipboardjs.com GitHubï¼šhttps://github.com/zenorocha/clipboard.js ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€viewer.js js å›¾ç‰‡æµè§ˆæ’ä»¶ å®˜ç½‘ï¼šhttps://fengyuanchen.github.io/viewerjs Githubï¼šhttps://github.com/fengyuanchen/viewerjs ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"4ã€context.js å³é”®èœå•æ’ä»¶ å®˜ç½‘ï¼šhttp://lab.jakiestfu.com/contextjs Githubï¼šhttps://github.com/jakiestfu/Context.js ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:4","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"5ã€moment.js JavaScript æ—¥æœŸå¤„ç†ç±»åº“ï¼Œå¤šè¯­è¨€æ”¯æŒ å®˜ç½‘ï¼šhttps://momentjs.com / http://momentjs.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:5","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"6ã€highlight.js ä»£ç é«˜äº® / æ”¯æŒ 189 ç§ç¼–ç¨‹è¯­è¨€ / 95 ç§é«˜äº®æ ·å¼ Githubï¼šhttps://github.com/highlightjs/highlight.js å®˜ç½‘ï¼šhttps://highlightjs.org / https://highlightjs.org/static/demo ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:6","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"7ã€Pangu.js ä¸­æ–‡å­—å’Œè‹±æ–‡ã€æ•°å­—ã€ç¬¦å·ä¹‹é—´è‡ªåŠ¨æ’å…¥ç©ºæ ¼ Githubï¼šhttps://github.com/vinta/pangu.js å®˜ç½‘ï¼šæš‚æ—  ","date":"2019-12-31","objectID":"/posts/mark/1.html:6:7","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"M3U ç›´æ’­æº ","date":"2019-12-31","objectID":"/posts/mark/1.html:7:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€wtv è§£å†³ç”µè„‘ã€æ‰‹æœºçœ‹ç”µè§†ç›´æ’­çš„è‹¦æ¼ï¼Œæ”¶é›†å„ç§ç›´æ’­æºï¼Œç”µè§†ç›´æ’­ç½‘ç«™ã€‚å»ºè®®é…åˆ potplayer ä½¿ç”¨ã€‚ Githubï¼šhttps://github.com/biancangming/wtv ","date":"2019-12-31","objectID":"/posts/mark/1.html:7:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å®¢æˆ·ç«¯è½¯ä»¶ ","date":"2019-12-31","objectID":"/posts/mark/1.html:8:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€ContextMenuManager ä¸€ä¸ªçº¯ç²¹çš„ Windows å³é”®èœå•ç®¡ç†ç¨‹åº Githubï¼šhttps://github.com/BluePointLilac/ContextMenuManager å®˜ç½‘ï¼šhttps://bluepointlilac.github.io/ContextMenuManager å·¥å…·ç«™ç‚¹ ","date":"2019-12-31","objectID":"/posts/mark/1.html:8:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å¼€å‘ ","date":"2019-12-31","objectID":"/posts/mark/1.html:9:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€requestcatcher.com Debug web hooks, http clients, etc. Request Catcher will create a subdomain on which you can test an application. All requests sent to any path on the subdomain are forwarded to your browser in real time. å®˜ç½‘ï¼šhttps://requestcatcher.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:9:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€json.cn json æ ¼å¼åŒ– å®˜ç½‘ï¼šhttp://json.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:9:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€searchcode æ˜¯ä¸€ä¸ªæºç æœç´¢å¼•æ“ï¼Œç›®å‰æ”¯æŒä» Githubã€Bitbucketã€Google Codeã€CodePlexã€SourceForge å’Œ Fedora Project å¹³å°æœç´¢å…¬å¼€çš„æºç ã€‚ å®˜ç½‘ï¼šhttps://searchcode.com è®¾è®¡ 1ã€åˆ›å®¢è´´ ä»˜è´¹ç½‘ç«™ï¼Œä½†æä¾›ä¸€äº›å…è´¹èµ„æºï¼Œæ¯”è¾ƒçµæ´»çš„åœ¨çº¿è®¾è®¡å·¥å…·ã€‚é£æ ¼æ¯”è¾ƒåå‘ MG åŠ¨ç”»ï¼Œå¯ä»¥æå‡ºå¾ˆèŠ±å“¨çš„ banner å’Œé•¿å›¾æµ·æŠ¥ä¹‹ç±»çš„ï¼Œç®—æ˜¯ä¸ªä¸é”™çš„è®¾è®¡èµ„æºç½‘ç«™ã€‚ å®˜ç½‘ï¼šhttps://www.chuangkit.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:9:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"ä¹¦ç± ","date":"2019-12-31","objectID":"/posts/mark/1.html:10:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€é¸ æ‘©æœç´¢ é¸ æ‘©æ˜¯ä¸€ä¸ªç”µå­ä¹¦æœç´¢å¼•æ“ï¼Œç•Œé¢ç®€æ´ã€å†…å®¹çº¯å‡€ï¼Œä¸“ä¸šè€Œé«˜æ•ˆã€‚ å®˜ç½‘ï¼šhttps://www.jiumodiary.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:10:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€thefuture ä¹¦ç±æœç´¢ å°ç«™ï¼ŒçŸ¥ååº¦ä¸é«˜ï¼Œä½†è¯•ç€æœç´¢äº†å‡ æœ¬ä¹¦ï¼Œæ„Ÿè§‰è¿˜æŒºå¥½ç”¨ã€‚ å®˜ç½‘ï¼šhttps://bks.thefuture.top ","date":"2019-12-31","objectID":"/posts/mark/1.html:10:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"ç”Ÿäº§åŠ› ","date":"2019-12-31","objectID":"/posts/mark/1.html:11:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€GitMind åœ¨çº¿æ€ç»´å¯¼å›¾ https://gitmind.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:11:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å›¾åƒ ","date":"2019-12-31","objectID":"/posts/mark/1.html:12:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€AI äººå·¥æ™ºèƒ½å›¾ç‰‡æ— æŸæ”¾å¤§ https://bigjpg.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:12:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€æ¶ˆé™¤å›¾ç‰‡ä¸­çš„èƒŒæ™¯ / AI è‡ªåŠ¨æŠ å›¾ https://www.remove.bg/zh ","date":"2019-12-31","objectID":"/posts/mark/1.html:12:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å†…å®¹åˆ›ä½œ ","date":"2019-12-31","objectID":"/posts/mark/1.html:13:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€Emojiå¤§å…¨ | Emojiè¡¨æƒ…ç¬¦å·è¯å…¸ ğŸ““ https://www.emojiall.com/zh-hans ","date":"2019-12-31","objectID":"/posts/mark/1.html:13:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€DeepL ç¿»è¯‘ https://www.deepl.com/translator ","date":"2019-12-31","objectID":"/posts/mark/1.html:13:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"KMS ","date":"2019-12-31","objectID":"/posts/mark/1.html:14:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€æ²§æ°´ KMS https://kms.cangshui.net ","date":"2019-12-31","objectID":"/posts/mark/1.html:14:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€moerats KMS https://www.moerats.com/kms ","date":"2019-12-31","objectID":"/posts/mark/1.html:14:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å…¶ä»– ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€å°é£è·¯å¾„æŸ¥è¯¢ http://typhoon.zjwater.gov.cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€é»‘å®¢æ¨¡æ‹Ÿå™¨ http://geektyper.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"3ã€ä¸–ç•ŒæŠ¤ç…§å¤§å…¨ https://www.passportindex.org/cn ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:3","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"4ã€æŸ¥æ— æ­¤äºº / AI ç”Ÿæˆäººè„¸ https://thispersondoesnotexist.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:4","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"5ã€ç½‘é¡µç‰ˆ windows93 http://www.windows93.net ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:5","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"6ã€å‡è£…ç³»ç»Ÿåœ¨å‡çº§ http://fakeupdate.net ","date":"2019-12-31","objectID":"/posts/mark/1.html:15:6","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"å¥½åƒæœ‰é‚£ä¹ˆç‚¹ç”¨ ","date":"2019-12-31","objectID":"/posts/mark/1.html:16:0","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"1ã€å…¨å†å² https://www.allhistory.com ","date":"2019-12-31","objectID":"/posts/mark/1.html:16:1","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Mark"],"content":"2ã€è¥¿çª—çƒ› / å¤è¯— http://lib.xcz.im/library ","date":"2019-12-31","objectID":"/posts/mark/1.html:16:2","series":null,"tags":[],"title":"[ ç½®é¡¶ ] ğŸš© Github é¡¹ç›® / å·¥å…·ç«™ç‚¹ / æœ‰è¶£çš„ç«™ç‚¹","uri":"/posts/mark/1.html"},{"categories":["Python"],"content":"æœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œåšæˆæ¯æ—¥è‡ªåŠ¨æäº¤ï¼Œæˆ–è€… webhook è§¦å‘ç­‰ã€‚ ç™¾åº¦æäº¤é¡µé¢ï¼šhttps://ziyuan.baidu.com/linksubmit/index é€šè¿‡æ­¤é¡µé¢å¯ä»¥å‘ç™¾åº¦æœç´¢ä¸»åŠ¨æ¨é€èµ„æºï¼ŒåŒæ—¶ç™¾åº¦ä¹Ÿæä¾›äº† API æäº¤æ¥å£ï¼Œè¿™æ ·å¯ä»¥ç¼©çŸ­çˆ¬è™«å‘ç°ç½‘ç«™é“¾æ¥çš„æ—¶é—´ï¼Œä½†ç™¾åº¦ä¸ä¿è¯æ”¶å½•å’Œå±•ç°æ•ˆæœã€‚ ä»¥æœ¬ç«™ä¸ºä¾‹ï¼Œç™¾åº¦æä¾›äº† API æäº¤çš„æ ·ä¾‹å‚æ•°ã€‚ æºç  è§£æç«™ç‚¹å½“å‰çš„ sitemap.xml æ–‡ä»¶å†…å®¹ï¼Œå‘ç™¾åº¦æ‰¹é‡æäº¤ url ã€‚ ä½¿ç”¨å‰éœ€è¦æ³¨æ„æ›¿æ¢çœŸå®å‚æ•°ï¼š site token sitemap_path # -*- coding: UTF-8 -*- import requests import json import re class Pusher: # åˆå§‹åŒ–å‚æ•° def __init__(self, site, token, sitemap_path): self.site = site self.token = token self.sitemap_path = sitemap_path # æ‰¹é‡æäº¤ url def post(self, urls): post_url = f\"http://data.zz.baidu.com/urls?site={self.site}\u0026token={self.token}\" headers = { 'User-Agent': 'curl/7.12.1', 'Host': 'data.zz.baidu.com', 'Content-Type': 'text/plain', 'Content-Length': str(len(urls)), } response = requests.post(post_url, headers=headers, data=urls) if response.status_code != 200: print(f\"æ¨é€å¤±è´¥ï¼ˆå¼‚å¸¸çŠ¶æ€ç ï¼‰ï¼š{response.status_code}\") print() return None response = response.text response = json.loads(response) if \"error\" in response: print(f\"æ¨é€å¤±è´¥ï¼ˆerrorï¼‰\") print(response) print() return None if \"success\" not in response: print(f\"æ¨é€å¼‚å¸¸ï¼ˆç™¾åº¦å·²æ›´æ”¹è¿”å›ä½“æ ¼å¼ï¼‰\") print(response) print() return None print(f\"å·²æˆåŠŸæ¨é€ {response['success']}æ¡ url\") print(f\"å½“å¤©å‰©ä½™çš„å¯æ¨é€ url æ¡æ•° ---\u003e {response['remain']}\") print() return None # è·å–ç«™ç‚¹ sitemap.xml æ–‡ä»¶å†…å®¹, è§£æ url def get_url_from_sitemap(self): url = f\"{self.site}{self.sitemap_path}\" headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36', } response = requests.get(url, headers=headers) if response.status_code != 200: print(f\"è·å–ç«™ç‚¹ xml æ–‡ä»¶å¤±è´¥ï¼ˆå¼‚å¸¸çŠ¶æ€ç ï¼‰ï¼š{response.status_code}\") print() exit(0) sitemap_xml = response.text urls = re.findall(r'\u003cloc\u003e(.+?)\u003c/loc\u003e', sitemap_xml, re.S) if urls is None or urls == [] or urls == \"\": print(f\"è§£æ url å¤±è´¥ï¼ˆè¯¥ç«™ç‚¹ä¸å­˜åœ¨ sitemap.xml æˆ–å†…å®¹ä¸ºç©ºï¼‰\") print() exit(0) print(f\"è·å–ç«™ç‚¹ xml æ–‡ä»¶æˆåŠŸ, å…±æœ‰ï¼š{len(urls)}æ¡ url\") print(urls) print() return urls # å…¥å£ def main(self): urls = self.get_url_from_sitemap() body = \"\" for url in urls: body += f\"{url}\\n\" self.post(body) if __name__ == '__main__': # ç«™ç‚¹ site = \"https://sugarless.top\" # ç™¾åº¦æäº¤é¡µé¢æä¾›çš„ token token = \"JvNXvshHiebMYkve\" # ç«™ç‚¹ sitemap uri # sitemap_path = \"/zh-cn/sitemap.xml\" sitemap_path = \"/sitemap.xml\" pusher = Pusher(site, token, sitemap_path) pusher.main() REF https://blog.csdn.net/minge89/article/details/108031025 ","date":"2021-08-31","objectID":"/posts/baidu-seo-submission-tool-developed-using-python.html:0:0","series":null,"tags":["Python","SEO","ç™¾åº¦","è„šæœ¬"],"title":"Python ç™¾åº¦ SEO å·¥å…·è„šæœ¬ | ç™¾åº¦æ™®é€šæ”¶å½• API æäº¤å·¥å…·","uri":"/posts/baidu-seo-submission-tool-developed-using-python.html"},{"categories":[],"content":"æ­¤ä¸“æ å†…å®¹ä¸º LeetCode å‰‘æŒ‡ Offer ï¼ˆç¬¬äºŒç‰ˆï¼‰ é¢˜è§£ï¼Œæˆ‘ä¼šæŒ‰ç…§ LeetCode å®˜æ–¹ç»™é¢˜ç›®çš„é¢˜ç›®å‡ºç°é¢‘ç‡ç”±é«˜åˆ°ä½æ’åºã€‚ è§£é¢˜æ€è·¯å’Œå®ç°ä»£ç å‚è€ƒå®˜æ–¹é¢˜è§£å’Œè¯„è®ºåŒºï¼Œæ­¤ä¸“æ ä¸ºæˆ‘åœ¨åˆ·é¢˜è¿‡ç¨‹ä¸­æ•´ç†çš„ç¬”è®°ï¼Œåå‘æ”¶å½•æ•´ç†æ€§è´¨ï¼Œå†…å®¹å¹¶éå…¨éƒ¨åŸåˆ›ã€‚ å¸Œæœ›èƒ½å¸®åŠ©åˆ°æ›´å¤šå­¦ä¹ ç®—æ³•çš„æœ‹å‹ä»¬ã€‚ ç›®å½• 01 | å…³äºæ­¤ä¸“æ /ç›®å½• ","date":"2021-08-28","objectID":"/algorithm-leetcode-jzoffer2-java/about.html:0:0","series":null,"tags":[],"title":"å…³äºæ­¤ä¸“æ  / ç›®å½•","uri":"/algorithm-leetcode-jzoffer2-java/about.html"},{"categories":[],"content":"æ­¤ä¸“æ è®²è§£äº†å¸¸è§çš„æ’åºç®—æ³•ï¼Œæ˜¯æˆ‘åœ¨å­¦ä¹ ä¸­æ•´ç†çš„ç¬”è®°ï¼Œå†…å®¹éå®Œå…¨åŸåˆ› å¸Œæœ›èƒ½å¸®åŠ©åˆ°æ›´å¤šå­¦ä¹ ç®—æ³•çš„æœ‹å‹ä»¬ã€‚ ç›®å½• 01 | å…³äºæ­¤ä¸“æ /ç›®å½• ","date":"2021-08-28","objectID":"/algorithm-sort/about.html:0:0","series":null,"tags":[],"title":"å…³äºæ­¤ä¸“æ  / ç›®å½•","uri":"/algorithm-sort/about.html"},{"categories":["æŠ˜è…¾"],"content":"å¦‚æœä½ æäº¤ç‰ˆæœ¬åéœ€è¦æ‰‹åŠ¨è¿›å…¥æœåŠ¡å™¨ shell å» git pull ï¼Œé‚£ä¹ˆæœ¬æ–‡æˆ–è®¸å¯¹ä½ æœ‰äº›å¸®åŠ©ã€‚ ä¸€ã€å…³äº webhook ä¸ºäº†è®©ä½ ç›´è§‚çš„äº†è§£åˆ° webhook èƒ½åšä»€ä¹ˆï¼Œæˆ‘ä¾‹ä¸¾äº†ä¸¤ä¸ªæ¯”è¾ƒå¸¸è§çš„åº”ç”¨åœºæ™¯ï¼š 1ï¼‰ä½ åœ¨ Github ä¸Šå¼€æºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œä½ å¸Œæœ›åœ¨ git push æäº¤æ–°ç‰ˆæœ¬åˆ° Github åï¼Œéƒ¨ç½²äº†å®å¡”é¢æ¿çš„æœåŠ¡å™¨èƒ½è‡ªåŠ¨æ‰§è¡Œ git pull å‘½ä»¤ï¼Œä» Github æ‹‰å–æœ€æ–°ç‰ˆæœ¬ä»£ç ã€‚ 2ï¼‰ä½ åœ¨ gitee æˆ–è‡ªå»ºçš„ gogs ï¼ˆä¸€æ¬¾å¼€æº git server ï¼‰ä¸Šæ‰˜ç®¡ä»£ç ï¼Œä½ å¸Œæœ›åœ¨ git push æäº¤æ–°ç‰ˆæœ¬åˆ°è¿œç¨‹ä»“åº“åï¼ŒæœåŠ¡å™¨èƒ½è‡ªåŠ¨æ‰§è¡Œ git pull å‘½ä»¤ï¼Œä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„ä»£ç ï¼Œå¹¶é‡å¯æœåŠ¡ã€‚ å®é™…ä¸Šï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹åšä¸€ç§äº‹ä»¶è§¦å‘å™¨ã€‚å½“æ»¡è¶³æŸç§ç‰¹å®šæ¡ä»¶æ—¶ï¼Œæ‰§è¡Œä¸€ç³»åˆ—ç‰¹å®šæ“ä½œã€‚å…¶ä¸­ï¼Œä¸€æ–¹æ˜¯äº‹ä»¶å‘èµ·è€…ï¼Œå¦ä¸€æ–¹æ˜¯äº‹ä»¶æ¥æ”¶è€…ã€‚ ä»¥ç¬¬ä¸€ä¸ªä¾‹å­æ¥è§£é‡Šï¼ŒGithub æ¥æ”¶åˆ° push åï¼Œå‘èµ·ä¸€ä¸ª HTTP(S) è¯·æ±‚ï¼Œå“åº”è€…æ¥æ”¶åˆ°è¯·æ±‚åæ‰§è¡Œç‰¹å®šå‘½ä»¤æˆ–ä¸šåŠ¡é€»è¾‘ã€‚Github æ˜¯äº‹ä»¶å‘èµ·è€…ï¼Œéƒ¨ç½²äº†å®å¡”é¢æ¿çš„æœåŠ¡å™¨æ˜¯äº‹ä»¶æ‰§è¡Œè€…ã€‚ äºŒã€é…ç½®å®å¡”é¢æ¿ webhook æˆ‘çš„åšå®¢éƒ¨ç½²åœ¨è…¾è®¯äº‘çš„æœåŠ¡å™¨ä¸Šï¼Œå› ä¸ºåšå®¢æ¡†æ¶ç”¨çš„æ˜¯ hugo ï¼Œç”Ÿæˆçš„ç«™ç‚¹å®é™…ä¸Šå°±æ˜¯é™æ€é¡µé¢ï¼Œæˆ‘æŠŠå®ƒæ‰˜ç®¡åœ¨ Github ä¸Šï¼ˆä¹‹æ‰€ä»¥ä¸ç›´æ¥ç”¨ github pages æœåŠ¡æ˜¯å› ä¸ºç™¾åº¦ä¸æ”¶å½•ï¼‰ã€‚ æ‰€ä»¥æˆ‘å¸Œæœ›åœ¨å†™å®Œæ–‡ç« å push ç»™ Github åï¼Œéƒ¨ç½²äº†å®å¡”é¢æ¿çš„è…¾è®¯äº‘æœåŠ¡å™¨èƒ½è‡ªåŠ¨æ‰§è¡Œ git pull å‘½ä»¤ï¼Œä» Github æ‹‰å–æœ€æ–°çš„ç‰ˆæœ¬è¦†ç›–ï¼Œå› ä¸ºæ˜¯é™æ€èµ„æºï¼Œæ‰€ä»¥å°±æ— éœ€é‡å¯æœåŠ¡ä¹‹ç±»çš„ã€‚ ","date":"2021-08-18","objectID":"/posts/github-webhook-and-btpanel-webhook.html:0:0","series":null,"tags":["github","webhook","å®å¡”é¢æ¿","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"github webhook é…åˆå®å¡” webhook è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/posts/github-webhook-and-btpanel-webhook.html"},{"categories":["æŠ˜è…¾"],"content":"1ï¼‰å®‰è£…å®å¡” WebHook æ’ä»¶ å»è½¯ä»¶å•†åº—å¯ä»¥æ‰¾åˆ°è¿™ç©æ„å„¿ ","date":"2021-08-18","objectID":"/posts/github-webhook-and-btpanel-webhook.html:1:0","series":null,"tags":["github","webhook","å®å¡”é¢æ¿","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"github webhook é…åˆå®å¡” webhook è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/posts/github-webhook-and-btpanel-webhook.html"},{"categories":["æŠ˜è…¾"],"content":"2ï¼‰æ·»åŠ  WebHook ","date":"2021-08-18","objectID":"/posts/github-webhook-and-btpanel-webhook.html:2:0","series":null,"tags":["github","webhook","å®å¡”é¢æ¿","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"github webhook é…åˆå®å¡” webhook è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/posts/github-webhook-and-btpanel-webhook.html"},{"categories":["æŠ˜è…¾"],"content":"3ï¼‰é…ç½®æ‰§è¡Œå‘½ä»¤ cd /www/wwwroot/sugarlesss.github.io; git pull; é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€æ¡ webhook è§„åˆ™äº†ã€‚ ","date":"2021-08-18","objectID":"/posts/github-webhook-and-btpanel-webhook.html:3:0","series":null,"tags":["github","webhook","å®å¡”é¢æ¿","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"github webhook é…åˆå®å¡” webhook è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/posts/github-webhook-and-btpanel-webhook.html"},{"categories":["æŠ˜è…¾"],"content":"4ï¼‰è·å– webhook url ç‚¹å‡»æŸ¥çœ‹ç§˜é’¥ï¼Œè“è‰²é€‰ä¸­çš„éƒ¨åˆ†å°±æ˜¯å®å¡”é¢æ¿æä¾›çš„ webhook url ï¼Œå½“é“¾æ¥è¢«è®¿é—®æ—¶ï¼Œå°±ä¼šæ‰§è¡Œæˆ‘ä»¬ä¸Šä¸€æ­¥é…ç½®çš„å‘½ä»¤ï¼Œè‡ªåŠ¨ git pull äº†ã€‚ ä¸‰ã€é…ç½® Github webhook è¿˜æ˜¯ä»¥æˆ‘çš„åšå®¢ä»“åº“ä¸ºä¾‹ï¼Œåœ¨ä»“åº“çš„ Settings -\u003e Webhooks é¡µé¢å³ä¸Šè§’ add webhook ã€‚ å°†å®å¡”æä¾›çš„ webhook url å¡«å…¥æ­¤å¤„çš„ Payload URLï¼Œå¹¶å°†ä¸‹æ–¹çš„ Content type ä¿®æ”¹ä¸º application/json ï¼Œå¦åˆ™ Github è¯·æ±‚æ­¤ URL æ—¶ï¼Œå®å¡”ä¼šè¿”å› 403 é”™è¯¯ã€‚ æ³¨æ„äº‹é¡¹ åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆä¸€å¯¹ SSH ç§˜é’¥ï¼Œå°†å…¬é’¥é…ç½®åˆ°ä½ çš„ Github è´¦å·åï¼ŒæœåŠ¡å™¨å°±å¯ä»¥ä½¿ç”¨ git pull å‘½ä»¤æ‹‰å–æœ€æ–°ç‰ˆæœ¬ï¼Œä¸éœ€è¦è¾“å…¥è´¦å·å¯†ç äº†ã€‚ å¦‚æœåœ¨é…ç½® Github webhook æ—¶ï¼ŒContent type ä½ å¿˜è®°ä¿®æ”¹ä¸º application/json ï¼Œå®å¡”ä¼šè¿”å› 403 é”™è¯¯ï¼Œä½ é…ç½®çš„ä¸€ç³»åˆ—è‡ªå®šä¹‰å‘½ä»¤å°±æ— æ³•æ‰§è¡Œäº†ã€‚ REF https://www.cnblogs.com/blibli/p/11331509.html ","date":"2021-08-18","objectID":"/posts/github-webhook-and-btpanel-webhook.html:4:0","series":null,"tags":["github","webhook","å®å¡”é¢æ¿","è‡ªåŠ¨åŒ–éƒ¨ç½²"],"title":"github webhook é…åˆå®å¡” webhook è‡ªåŠ¨åŒ–éƒ¨ç½²","uri":"/posts/github-webhook-and-btpanel-webhook.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"å¦‚ä½•ç†è§£è‡ª 2020 å¹´ 3 æœˆ 23 æ—¥èµ·ï¼ŒB ç«™è§†é¢‘çš„ AV å·å°†å…¨é¢å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ è®¤è¯†ä¸€ä¸‹ B ç«™ æ ¹æ®B ç«™ 2020 å¹´æœ«æäº¤ç»™ç¾å›½è¯åˆ¸äº¤æ˜“å§”å‘˜ä¼šï¼ˆSECï¼‰çš„FORM 20-F å¹´åº¦æŠ¥å‘Šï¼ˆ2020 å¹´åº¦æŠ¥å‘Šï¼Œå…³é”®è¯ Ordinary Shares Beneficially Ownedï¼‰è‚¡æƒç»“æ„ä¸Šçœ‹ï¼š é™ˆç¿ï¼ˆè‘£äº‹é•¿/CEOï¼‰æŒè‚¡ 14.2%ï¼Œæ‹¥æœ‰ 44.6% çš„æŠ•ç¥¨æƒï¼› å¾é€¸ï¼ˆåˆ›å§‹äºº/æ€»è£ï¼‰æŒè‚¡ 8%ï¼Œæ‹¥æœ‰ 24.7% çš„æŠ•ç¥¨æƒï¼› è…¾è®¯æŒè‚¡ 12.4%ï¼Œé˜¿é‡ŒæŒè‚¡ 6.7%ï¼› ä¸€ã€AV å·ä¸ BV å·æœ‰ä½•ä¸åŒï¼Ÿ ä¸ªäººè®¤ä¸º AV å·å’Œ BV å·çš„åŒºåˆ«å¯ä»¥ä»ä»¥ä¸‹ä¸¤æ–¹é¢çœ‹ï¼š ç›´è§‚è§„å¾‹ï¼šåŸæ¥çš„ AV å·æ˜¯çº¯æ•°å­—çš„ç¨¿ä»¶åºåˆ—å·ï¼ˆå…·å¤‡è¿ç»­æ€§ï¼‰ï¼Œå½“å‰çš„ BV å·æ˜¯ä¸€æ®µç”±æ•°å­—å’Œå¤§å°å†™å­—æ¯ç»„æˆçš„è¿‘ä¼¼å­—ç¬¦ä¸²ï¼ˆä»ç›´è§‚ä¸Šçœ‹ä¸å…·å¤‡è¿ç»­æ€§ï¼‰ï¼› æœ€å¤§å€¼ï¼šåŸæ¥çš„ AV å·æ˜¯ 8 ä½æ•°ï¼Œæœ€å¤§æ•°å€¼ä¸º 99999999ï¼ˆä¸€ä¸ªäº¿ï¼‰ï¼Œå½“å‰çš„ BV å·é•¿åº¦å·²ç»ä¸º 10 ä½ï¼Œæœ€å¤§æ•°å€¼ä¸ºï¼ˆ 58 çš„ 10 æ¬¡æ–¹ = 4.3080420689941e+17 ï¼‰ï¼› é‚£ä¹ˆï¼Œè¿™ä¸¤ä¸ªå·®å¼‚æ„å‘³ç€ä»€ä¹ˆï¼Ÿ äºŒã€AV å·ä¸ BV å·çš„å·®å¼‚æ„å‘³ç€ä»€ä¹ˆï¼Ÿ æ ¹æ® B ç«™ AV å·å…¨é¢å‡çº§è‡³ BV å·å…¬å‘Š ç»™å‡ºçš„è¯´æ³•ï¼Œæ˜¯ä¸ºäº†ä¸ºäº†ä¿æŠ¤ç¨¿ä»¶ä¿¡æ¯å®‰å…¨ï¼Œå®¹çº³æ›´å¤šæŠ•ç¨¿ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:0:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.1ã€ä¿æŠ¤ç¨¿ä»¶ä¿¡æ¯å®‰å…¨ åŸå…ˆçš„ AV å·æ˜¯ç¨¿ä»¶çš„åºåˆ—å·ï¼Œæ˜¯ä¸€ä¸²å…·å¤‡è¿ç»­æ€§çš„æ•°å­—ï¼Œæ¯ä¸ªç¨¿ä»¶æ ¹æ®æŠ•ç¨¿æ—¶é—´çš„å…ˆåé¡ºåºåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ AV å·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¶Šæ™šæŠ•ç¨¿çš„è§†é¢‘ï¼Œåˆ†é…åˆ°çš„ AV å·æ•°å€¼è¶Šå¤§ã€‚é‚£ä¹ˆé€šè¿‡çˆ¬è™«å¯ä»¥éå¸¸è½»æ¾çš„ä» AV å·çš„èµ·å§‹ä½ç½® 1 å¼€å§‹é€ä¸ªçˆ¬å– B ç«™çš„è§†é¢‘ï¼Œè¿™æ · B ç«™çš„æ ¸å¿ƒæ•°æ®ï¼ˆç¨¿ä»¶ï¼‰ä¹Ÿå°±ç›¸å½“äºå¯¹å…¨ç½‘å¼€æ”¾ä¸‹è½½äº†ã€‚ Robots åè®®å¯¹å¤§å…¬å¸å¯èƒ½è¿˜æœ‰äº›è®¸å¨æ…‘åŠ›ï¼Œå¯¹äºä¸€äº›ä¸æ˜ä¸ªäººæˆ–è¥é”€å·æ¥è¯´åŸºæœ¬æ˜¯æ²¡å•¥ç”¨çš„ã€‚ æ‰€ä»¥é˜²æ­¢å¤§é‡å…¶ä»–ç½‘ç«™åˆ©ç”¨ AV å·çš„è¿ç»­æ€§ï¼Œä½¿ç”¨çˆ¬è™«ç›—å– B ç«™æ ¸å¿ƒæ•°æ®ï¼ˆç¨¿ä»¶ï¼‰ï¼Œæ–°çš„è§„åˆ™ï¼ˆ BV å·ï¼‰æ˜¯æ— åºä¸”éšæœºçš„ï¼Œè¿™å°±æ˜¯ B ç«™å£°æ˜ä¸­çš„ â€œä¿æŠ¤ç¨¿ä»¶ä¿¡æ¯å®‰å…¨â€ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:1:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.2ã€å®¹çº³æ›´å¤šæŠ•ç¨¿ åŸæ¥çš„ AV å·æ˜¯ 8 ä½æ•°ï¼Œæœ€å¤§æ•°å€¼ä¸º 99999999ï¼ˆä¸€ä¸ªäº¿ï¼‰ï¼Œå‡è®¾ä»¥ 100 ä¸‡ä¸ª UP ä¸»æŒ‰æ¯ 3 å¤© 1 ä¸ªç¨¿ä»¶æ•°é‡æ¥è®¡ç®—ï¼Œå¹³å‡æ¯ä¸ª UP ä¸»ç´¯è®¡æŠ•ç¨¿æ•°é‡åªè¦ 100 ä¸ªï¼Œ1 äº¿çš„ AV å·è¿ä¸€å¹´éƒ½ä¸å¤Ÿç”¨ã€‚ æ”¹æˆ BV å·åæœ€å¤§æ•°å€¼ä¸ºï¼ˆ 58 çš„ 10 æ¬¡æ–¹ = 4.3080420689941e+17 ï¼‰ï¼Œä¸ºå•¥æ˜¯è¿™ä¸ªæ•°å€¼å‘¢ï¼Ÿ58 æ˜¯å› ä¸º Base58 ç¼–ç ï¼Œ10 æ¬¡æ–¹æ˜¯å› ä¸º BV å·çš„é•¿åº¦æœ‰ 10 ä½ã€‚ æ‰€ä»¥ä» AV å·è¿‡æ¸¡åˆ° BV å·ï¼Œçš„ç¡®å¯ä»¥å®¹çº³æ›´å¤šçš„ç¨¿ä»¶ã€‚ å¦å¤–ï¼ŒçŸ­è§†é¢‘æ—¶ä»£çš„åˆ°æ¥ï¼Œä½¿å¾— B ç«™ä¹Ÿåœ¨è°‹åˆ’çŸ­è§†é¢‘é¢†åŸŸï¼Œç”šè‡³ä¸“é—¨å¼€äº†ä¸€ä¸ªåˆ†åŒºå« VLOGã€‚å¯ä»¥é¢„è§çš„æ˜¯ï¼Œç«™å†…çš„çŸ­è§†é¢‘ç¨¿ä»¶è¶Šæ¥è¶Šå¤šï¼Œæœ‰çš„ VLOG UP ä¸»ä¸€å¤©æŠ•ç¨¿ 30 ä¸ªï¼Œè¿˜æœ‰æ‹¿ B ç«™å½“ VLOG ç½‘ç»œå­˜å‚¨ç”¨çš„ã€‚ ä¸‹é¢æ˜¯ 09 å¹´åˆ° 19 å¹´ B ç«™çš„ç¨¿ä»¶æ•°é‡å˜åŒ–å›¾ï¼Œåå¹´è¿‡å»äº†ï¼Œ UP ä¸»è¶Šæ¥è¶Šå¤šï¼Œåˆ¶ä½œè§†é¢‘çš„å·¥å…·ä¹Ÿåœ¨ä¸æ–­è¿›æ­¥ï¼Œåå¹´å‰çš„ç”Ÿäº§åŠ›ä¸å¦‚ä»Šç›¸æ¯”æ˜¯ä¸å¯åŒæ—¥è€Œè¯­çš„ã€‚ ä»¥ä¸Š 2 ç‚¹æ˜¯å¯ä»¥æ ¹æ® AV å·ä¸ BV å·çš„å·®å¼‚æ¨æµ‹è€Œæ¥çš„ç›´æ¥å› ç´ ï¼Œä¹Ÿæ˜¯ B ç«™çš„å®˜æ–¹å£å¾„ã€‚ç„¶è€Œæˆ‘åœ¨è¯„è®ºåŒºçœ‹åˆ°äº†ä¸€äº›å…¶ä»–è¯´æ³•ï¼Œä¸ä¸€å®šçœŸå®ï¼Œä½†å¯ä»¥ç»™ä½ æä¾›ä¸€ä¸ªæ–°çš„è§†è§’å’Œæ€è·¯ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:2:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.3ã€é˜»æ­¢ç¬¬ä¸‰æ–¹å¯¹ B ç«™çš„æ•°æ®åˆ†æ å› ä¸º AV å·æ˜¯éšæ—¶é—´é€’å¢çš„ï¼Œæ‰€ä»¥é€šè¿‡ AV å·æˆ‘ä»¬å¯ä»¥å¾—çŸ¥å½“å‰ B ç«™çš„æ€»ç¨¿ä»¶æ•°é‡ï¼Œä¹Ÿå¯ä»¥è½»æ¾æ¨æ–­å‡ºæ—¥å‡æ–°å¢ç¨¿ä»¶æ•°é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ç”±äº AV å·çš„è¿ç»­æ€§ä½¿å¾—æˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°æ¨ç®—å‡º B ç«™çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼Œå¯¹æ•°æ®è¿›è¡Œç²¾å‡†åˆ†æã€‚å¯¹äº B ç«™æ¥è¯´ï¼Œè¿™ä¹Ÿè®¸ä¸æ˜¯ä»–ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:3:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.4ã€AV å·å¹¶æ²¡æœ‰å¼ƒç”¨ï¼ˆå·²è¯å®å¹¶äº²æµ‹ï¼‰ B ç«™å®˜æ–¹çš„å£°æ˜ä¸­ç§°ï¼šâ€œè‡ª 2020 å¹´ 3 æœˆ 23 æ—¥èµ·ï¼ŒAVå·å°†å…¨é¢å‡çº§ä¸ºBVå·ã€‚â€ï¼Œä½†ç›®å‰æ ¹æ®æˆ‘æœé›†åˆ°çš„æ•°æ®æ˜¾ç¤ºï¼ŒAV å·å¹¶æ²¡æœ‰å¼ƒç”¨ã€‚ ä»¥åŠä½›å½“å‰æœ€æ–°ä¸€æœŸçš„è§†é¢‘ä¸ºä¾‹ï¼š BV å·é“¾æ¥ï¼šhttps://www.bilibili.com/video/BV1C3411r79b AV å·é“¾æ¥ï¼šhttps://www.bilibili.com/video/av419667559 è¿™ä¸¤ä¸ªé“¾æ¥å¯ä»¥è·³è½¬åˆ°åŒä¸€ä¸ªè§†é¢‘ï¼Œè€Œå¹¶æ²¡æœ‰æ˜¾ç¤ºè§†é¢‘ä¸å­˜åœ¨æˆ– 404 ä¹‹ç±»çš„é”™è¯¯æç¤ºã€‚è¿™æ„å‘³ç€ï¼Œå®é™…ä¸Š AV å·ä»ç„¶åœ¨æ–°ç¨¿ä»¶ä¸Šæ²¿ç”¨ã€‚ ä½†ä¼¼ä¹ 1 äº¿åçš„ AV å·ä¸å†è¿ç»­ï¼Œä¼¼ä¹æ˜¯å¼€å§‹éšæœºæŠ½å–çš„ï¼Œå½“ç„¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘æ²¡æœ‰å‘ç°å…¶è§„åˆ™ã€‚ æ ¹æ®çŸ¥ä¹å¤§ç¥ä¸è¯„è®ºåŒºçš„è§£æï¼Œæœ‰äººåšäº†ä¸€ä¸ªåœ¨çº¿ BV å·è½¬ AV å·çš„åœ¨çº¿è½¬æ¢å·¥å…·ï¼šhttps://b.gqxqd.cn/bv2av/ ç›®å‰æ–°çš„ BV å·è½¬å‡ºæ¥çš„ AV å·å·²ç»ä¸æ˜¯è¿ç»­çš„äº†ï¼Œå³ AV å·çš„ç”Ÿæˆå·²ç»æ¢äº†æ–°çš„æ–¹æ¡ˆã€‚B ç«™ä» AV å·å‡çº§åˆ° BV å·åï¼Œæ—§çš„ AV å·æ˜¯ä¿ç•™çš„ï¼Œæ‰€ä»¥ä¾ç„¶ä¸å½±å“çˆ¬å–æ—©æœŸæ•°æ®ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆä¸è®© 8 ä½ AV å·ä¹‹åçš„æ–° AV å·ä¸å†æ˜¯è¿ç»­çš„å‘¢ï¼Ÿå¤šåŠ å‡ ä½æ•°ä¹Ÿæ˜¯å¯ä»¥ç”¨ä¸‹å»çš„ï¼Œå¦‚æœ AV å·æ˜¯ int å‹å­˜å‚¨çš„è¯åº”è¯¥è¿˜èƒ½å­˜å¾ˆä¹…ï¼Œæ¯•ç«Ÿèƒ½åˆ°2147483647 å‘¢ï¼Œå†ä¸è¡Œå°±ç”¨ bigint å‘—â€¦ å…³äºè¿™ç‚¹ï¼Œæˆ‘ä¹Ÿä¸æ˜ç™½ B ç«™åœ¨æƒ³ä»€ä¹ˆã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:4:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.5ã€ç ´åœˆæˆé•¿ä¸å» ACG åŒ– å…¶å®è¯´å» ACG åŒ–æœ‰ç‚¹è¨€è¿‡å…¶å®ï¼Œä½†åœ¨ B ç«™ç ´åœˆæˆé•¿çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šä¼šè¸Šè·ƒå‡ºæ–°çš„å†…å®¹ï¼Œç›¸æ¯”ä¹‹ä¸‹ ACG å†…å®¹å’Œ ACG çˆ±å¥½è€…å°±è¦åšå‡ºç›¸åº”çš„å¦¥åï¼Œè®©å‡ºç›¸åº”çš„æµé‡ï¼Œä¿®æ”¹è§„åˆ™å»é€‚åº”å¤§ä¼—ã€‚B ç«™çš„ç”¨æˆ·ç¾¤ä½“ä¹Ÿä»æ—©å·²ä»å–œæ¬¢äºŒæ¬¡å…ƒçš„é’å°‘å¹´ï¼Œå˜æˆäº†é¢å‘å…¨æ°‘ã€‚ å¯¹äº AV å·ï¼Œæˆ‘ä¼°è®¡è‚¯å®šä¼šæœ‰ä¸å°‘å°ä¼™ä¼´ä¼šæœ‰ â€œAV+æ•°å­—å’Œå­—æ¯=ç•ªå·â€ è¿™ä¸€ç¬¬ä¸€å°è±¡â€¦ å¦å¤–ï¼Œä» B ç«™ APP çš„å¯åŠ¨é¡µä¹Ÿèƒ½çœ‹å‡ºä¸€äº›ç«¯å€ªï¼ŒåŸæ¥ 2233 å¨˜å¹²æ¯å°ç”µè§†ä¸è¿‡æ˜¯ä¸ªå‘å¡ï¼Œåæ¥é…’æ²¡äº†ï¼Œæœ€åäººæ²¡äº†ï¼Œç‹¬ç•™ä¸ªå°ç”µè§†åœ¨æ†¨ç¬‘ï¼ˆ B ç«™æ‰‹æœºå®¢æˆ·ç«¯ 2015-2020 å¯åŠ¨é¡µé¢å˜åŒ– ï¼‰ã€‚ å…¶å® B ç«™æœ€æ—©æ˜¯å€Ÿé‰´ niconico çš„ SM å·ï¼ˆ smile video ï¼‰çš„å‘½åæ–¹å¼æäº† AV å·ï¼ˆ acg video ï¼‰ï¼Œä¸¤ä¸ªéƒ½æ˜¯æ¶è¶£å‘³ï¼Œä¸”éƒ½è¯´è‡ªå·±ä¸æ˜¯é‚£ä¸ªæ„æ€ã€‚ bilibili å°ç”µè§†ä¹Ÿæ˜¯æ¨¡ä»¿çš„ niconico å°ç”µè§†ï¼ŒæŠŠ AV å·æ¢æ‰ä¹Ÿå§‘ä¸”èƒ½ç®—åšæ˜¯æ‘†è„±æ¶è¶£å‘³äº†ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:5:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.6ã€å‡è½»å†…å®¹é£æ§ç»™ç”¨æˆ·å¸¦æ¥çš„è´Ÿé¢æƒ…ç»ª å†…å®¹é£æ§å¯¹äºä»»ä½•ä¸€ä¸ª UGC äº§å“æ¥è¯´éƒ½æ˜¯ç»•ä¸å¼€çš„è¯é¢˜ï¼Œå†…å®¹é£æ§ä¸»è¦ â€œæ§â€ å•¥ï¼Ÿ æ”¿ç­–å±‚é¢çš„å†…å®¹åˆè§„ï¼Œè¦ç¬¦åˆç›‘ç®¡çš„è¦æ±‚ï¼› ç¤¾åŒºæ°›å›´çš„è‰¯æ€§å¯¼å‘ï¼Œå¦‚è°©éª‚ã€éšç§ç­‰ï¼› ç¤¾åŒºç”¨æˆ·å®‰å…¨çš„ä¿è¯ï¼Œéåˆ¶é»‘ç°äº§ç­‰ï¼› ä»è¿ç»­çš„ AV å·è¿‡æ¸¡åˆ°è¿‘ä¼¼æ— åºå­—ç¬¦ä¸²çš„ BV å·ï¼Œåˆ é™¤è§†é¢‘ä¹Ÿå˜å¾—éšç§˜äº†å‡ åˆ†ï¼ŒB ç«™ä¹Ÿè®¸ä¹Ÿå¸Œæœ›åœ¨å†…å®¹é£æ§çš„åŸºç¡€ä¸Šï¼Œå°½é‡å‡å°‘ç”¨æˆ·çš„æŠµè§¦æƒ…ç»ªã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:6:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"2.7ã€æŠ€æœ¯åŸå›  æœ‰å¯èƒ½æ˜¯å› ä¸º MySQL å¤§è¡¨åšè‡ªå¢ id ä¸åˆ©äºåˆ†è¡¨å’Œåˆ†å¸ƒå¼ï¼Œè¿™ç‚¹å°±ä¸å±•å¼€äº†ã€‚ ä¸‰ã€ BV å·è§„åˆ™ä¸ Base58 / 64 ç¼–ç  ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:7:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"3.1ã€BV å·çš„è§„åˆ™ æ ¹æ®çŸ¥ä¹å¤§ç¥ä¸è¯„è®ºåŒºçš„è§£æï¼ŒBV å·çš„è§„å¾‹å¤§æ¦‚å°±æ˜¯ AV å·å¼‚æˆ–æŸä¸ªéšä¾¿é€‰æ‹©çš„æ•°ï¼Œå†éšä¾¿åŠ ä¸€ä¸ªæ•°ï¼Œæœ€åå†è½¬åŒ–æˆ 58 è¿›åˆ¶ï¼ˆBase58ï¼‰ï¼Œå…¶æ•°ä½é¡ºåºæ˜¯æ‰“ä¹±çš„ï¼Œå…¶ç´¢å¼•ä»£è¡¨ 0ï½57 çš„ å­—æ¯ / æ•°å­— ä¹Ÿæ˜¯ä¹±åºçš„ã€‚ æ—¢ç„¶æåˆ°äº† Base58 ï¼Œä¹Ÿé¡ºä¾¿æä¸€ä¸‹è®² Base64 å§ã€‚ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:8:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"3.2ã€Base58 ç¼–ç  æ€»è®¡ 58 ä¸ªå­—ç¬¦ï¼Œç›¸æ¯” Base64ï¼ŒBase58 ä¸ä½¿ç”¨æ•°å­— â€œ0â€ï¼Œå­—æ¯å¤§å†™ â€œOâ€ï¼Œå­—æ¯å¤§å†™ â€œIâ€ï¼Œå’Œå­—æ¯å°å†™ â€œlâ€ï¼Œä»¥åŠ â€œ+â€ å’Œ â€œ/â€ ç¬¦å·ã€‚ Base58 æ˜¯ç”¨äº Bitcoin ä¸­ä½¿ç”¨çš„ä¸€ç§ç‹¬ç‰¹çš„ç¼–ç æ–¹å¼ï¼Œä¸»è¦ç”¨äºäº§ç”Ÿ Bitcoin çš„é’±åŒ…åœ°å€ã€‚ Base58 ç¼–ç çš„å­—ç¬¦èŒƒå›´ï¼š 123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:9:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["äº’è”ç½‘è§‚å¯Ÿ"],"content":"3.3ã€Base64 ç¼–ç  64 ä¸ªå­—ç¬¦ï¼šè‹±æ–‡å¤§å°å†™ 26 * 2 = 52 ä¸ªï¼Œé˜¿æ‹‰ä¼¯æ•°å­— 0 ~ 9 = 10 ä¸ªï¼Œç‰¹æ®Šå­—ç¬¦ + / ä¸¤ä¸ªï¼Œæ€»è®¡ 64 ä¸ªã€‚ Base64 ç¼–ç çš„å­—ç¬¦èŒƒå›´ï¼š ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ REF æŠ•ç¥¨æƒä¸è‚¡æƒä¸æˆæ­£æ¯”çš„å…³ç³»æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ B ç«™ 2020 å¹´æœ«æäº¤ç»™ç¾å›½è¯åˆ¸äº¤æ˜“å§”å‘˜ä¼šï¼ˆSECï¼‰çš„FORM 20-F å¹´åº¦æŠ¥å‘Šï¼ˆ2020 å¹´åº¦æŠ¥å‘Šï¼Œå…¶ä¸­å«è‚¡æƒç»“æ„ï¼Œå…³é”®è¯ Ordinary Shares Beneficially Ownedï¼‰ B ç«™ AV å·å…¨é¢å‡çº§è‡³ BV å·å…¬å‘Š å¦‚ä½•çœ‹å¾… 2020 å¹´ 3 æœˆ 23 æ—¥å“”å“©å“”å“©å°†ç¨¿ä»¶çš„ã€Œav å·ã€å˜æ›´ä¸ºã€ŒBV å·ã€ï¼Ÿ å¸¦ä½ çœ‹ B ç«™åå¹´ av å·çˆ†ç‚¸å¼å¢é•¿ B ç«™æ‰‹æœºå®¢æˆ·ç«¯ 2015-2020 å¯åŠ¨é¡µé¢å˜åŒ– ä»Bç«™å®¡æ ¸å˜æ…¢ç°è±¡ï¼ŒèŠèŠå†…å®¹ç¤¾åŒºäº§å“çš„å†…å®¹é£æ§è¦ç‚¹ B ç«™å…³äºè¯„è®ºåŒºåŠŸèƒ½å‡çº§çš„å…¬å‘Š ","date":"2021-08-08","objectID":"/posts/bilibili-video-numbering-rules-upgrade.html:10:0","series":null,"tags":["B ç«™"],"title":"å¦‚ä½•ç†è§£ B ç«™ AV å·è§„åˆ™å‡çº§ä¸º BV å·è¿™ä»¶äº‹ï¼Ÿ","uri":"/posts/bilibili-video-numbering-rules-upgrade.html"},{"categories":["Java","Mark"],"content":"Cloud Toolkit å¸®åŠ©å¼€å‘è€…å°†æœ¬åœ°åº”ç”¨ç¨‹åºä¸€é”®éƒ¨ç½²åˆ°ä»»æ„æœåŠ¡å™¨ã€‚ ä¿®æ”¹å®Œä»£ç åï¼Œæ— éœ€é‡å¤ã€Œæ‰“åŒ…-ä¸Šä¼ -ç™»å½•æœåŠ¡å™¨-æ›¿æ¢-éƒ¨ç½²-é‡å¯ã€çš„ç¹çæµç¨‹ã€‚ å†…ç½®ç»ˆç«¯ Terminalï¼šåœ¨ IDE å†…ï¼Œå¼€å‘è€…å¯é€šè¿‡å†…ç½®ç»ˆç«¯ Terminal å¿«é€Ÿç™»å½•è¿œç¨‹æœåŠ¡å™¨ï¼Œå‡å°‘é¢‘ç¹åˆ‡æ¢çš„çƒ¦æ¼ã€‚ ä¸ä»…æ”¯æŒé˜¿é‡Œäº‘æœåŠ¡å™¨ ECSï¼Œä¹Ÿå¯ä»¥ç”¨äºæ‰€æœ‰æ”¯æŒæ ‡å‡† SSH åè®®çš„æœºå™¨ã€‚ æ–‡ä»¶ä¸Šä¼ ï¼šCloud Toolkit å¸®åŠ©å¼€å‘è€…åœ¨ IDE å†…ï¼Œä¸€é”®å°†æœ¬åœ°æˆ–è¿œç¨‹ URL æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡å™¨æŒ‡å®šç›®å½•ã€‚ ç®€åŒ–ç¹ççš„ä¸Šä¼ ç¯èŠ‚ï¼Œæ— éœ€å„ç§ FTPã€SCP å·¥å…·é¢‘ç¹åˆ‡æ¢ã€‚ æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œæ–‡ä»¶ä¸Šä¼ å®Œæ¯•åï¼Œè¿˜æ”¯æŒæ–‡ä»¶è§£å‹ç¼©ã€ç¨‹åºå¯åŠ¨ç­‰å‘½ä»¤æ‰§è¡Œã€‚ cloud toolkit å®˜ç½‘ï¼šhttps://www.aliyun.com/product/cloudtoolkit ä¸€ã€å®‰è£… Alibaba Cloud Toolkit ç¡®ä¿ IntelliJ IDEA åœ¨ 2018.1 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼› æ‰“å¼€ Settings - Plugins æœç´¢å®‰è£… Alibaba Cloud Toolkitï¼› å¦‚æœè¿Ÿè¿Ÿå®‰è£…ä¸ä¸Šï¼Œå¯ä»¥è¯•è¯•è®¾ç½®ä¸€ä¸‹ IDEA socks ä»£ç†æˆ–è€…å»å®ƒçš„å®˜ç½‘æ‰¾ç¦»çº¿å®‰è£…åŒ…ï¼› äºŒã€é…ç½® ","date":"2021-08-06","objectID":"/posts/how-to-use-alibaba-cloud-toolkit.html:0:0","series":null,"tags":["IDEA","Cloud Toolkit","Spring Boot","ä¸€é”®éƒ¨ç½²"],"title":"IDEA ä½¿ç”¨ Alibaba Cloud Toolkit æ’ä»¶ä¸€é”®éƒ¨ç½² Spring Boot é¡¹ç›®","uri":"/posts/how-to-use-alibaba-cloud-toolkit.html"},{"categories":["Java","Mark"],"content":"2.1ã€æ·»åŠ è¿œç¨‹æœåŠ¡å™¨ åœ¨ idea åº•éƒ¨æœ‰ä¸€ä¸ª tab æ˜¯ Alibaba Cloud View ï¼Œå³ä¸Šè§’ Add Host è¾“å…¥æœåŠ¡å™¨çš„ IP åŠ SSH è¿æ¥ä¿¡æ¯ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯è´¦å·å¯†ç å¼ã€‚ Edit Configurations é€‰æ‹© Deploy to Host ","date":"2021-08-06","objectID":"/posts/how-to-use-alibaba-cloud-toolkit.html:1:0","series":null,"tags":["IDEA","Cloud Toolkit","Spring Boot","ä¸€é”®éƒ¨ç½²"],"title":"IDEA ä½¿ç”¨ Alibaba Cloud Toolkit æ’ä»¶ä¸€é”®éƒ¨ç½² Spring Boot é¡¹ç›®","uri":"/posts/how-to-use-alibaba-cloud-toolkit.html"},{"categories":["Java","Mark"],"content":"2.2ã€æ·»åŠ è¯¦ç»†é…ç½® ä¸‹é¢æ˜¯ä¸Šå›¾æ·»åŠ è¯¦ç»†é…ç½®æ—¶ç”¨åˆ°çš„å‘½ä»¤ï¼š # éƒ¨ç½²è·¯å¾„ï¼ˆ Target Directory ï¼‰ /www/wwwroot/SpringBootDeployTestJar # éƒ¨ç½²å‰æ‰§è¡Œå‘½ä»¤ï¼ˆï¼‰ pkill -f main-0.0.1-SNAPSHOT.jar; # éƒ¨ç½²åæ‰§è¡Œå‘½ä»¤ ï¼ˆ After deploy ï¼‰ nohup java -jar /www/wwwroot/SpringBootDeployTestJar/main-0.0.1-SNAPSHOT.jar --server.port=18080\u003e /www/wwwroot/SpringBootDeployTestJar/nohup.out 2\u003e\u00261 \u0026 # å®æ—¶æ—¥å¿— tail -f /www/wwwroot/SpringBootDeployTestJar/nohup.out -n500 å¡«å†™å®Œæˆå Apply ã€‚ ä¸‰ã€ä¸€é”®éƒ¨ç½² åˆ‡æ¢åˆ°ä¸€é”®éƒ¨ç½²ï¼Œrunã€‚ æ­¤æ—¶ idea ä¼šè‡ªåŠ¨è¿æ¥ä¸ŠæœåŠ¡å™¨çš„ shell ï¼Œä½¿ç”¨ä¸Šé¢é…ç½®çš„å‘½ä»¤æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚ REF https://www.bilibili.com/video/BV1ga4y1474K ","date":"2021-08-06","objectID":"/posts/how-to-use-alibaba-cloud-toolkit.html:2:0","series":null,"tags":["IDEA","Cloud Toolkit","Spring Boot","ä¸€é”®éƒ¨ç½²"],"title":"IDEA ä½¿ç”¨ Alibaba Cloud Toolkit æ’ä»¶ä¸€é”®éƒ¨ç½² Spring Boot é¡¹ç›®","uri":"/posts/how-to-use-alibaba-cloud-toolkit.html"},{"categories":["Spring Boot"],"content":"åœ¨é…ç½®æ–‡ä»¶ application.properties æˆ– application.yaml ä¸­ï¼Œé…ç½®é¡¹å¦‚æœå¡«å†™çš„æ˜¯ä¸­æ–‡ï¼Œè¯»å–åæ˜¯ä¹±ç ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ unicode ç¼–ç æ–¹å¼è¿›è¡Œä¹¦å†™ï¼Œåˆ™å¯ä»¥æ­£ç¡®è¯†åˆ«ã€‚è¿™æ˜¯å› ä¸º .properties æ–‡ä»¶çš„é»˜è®¤è¯»å–é…ç½®æ˜¯ä½¿ç”¨çš„æ˜¯ ISO_8859_1 ç¼–ç ï¼Œè¿™ä¸ªç¼–ç æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ã€‚ è§£å†³æ–¹æ¡ˆ ","date":"2021-08-05","objectID":"/posts/spring-boot-configuration-file-chinese-encoding-error.html:0:0","series":null,"tags":["Spring","Spring Boot","ä¸­æ–‡ä¹±ç "],"title":"Spring Boot é…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç ","uri":"/posts/spring-boot-configuration-file-chinese-encoding-error.html"},{"categories":["Spring Boot"],"content":"1ã€ä¿®æ”¹ IDEA ç¼–ç è®¾ç½®ä¸º UTF-8 ï¼Œåˆ é™¤å¹¶é‡æ–°åˆ›å»º application.properties æ–‡ä»¶ æˆ‘ä½¿ç”¨çš„æ˜¯ IDEA ï¼Œé¦–å…ˆ File-\u003esettings-\u003eCode style-\u003eFile Encoding ï¼ŒæŠŠæ‰€æœ‰çš„ç¼–ç éƒ½è®¾ä¸º UTF-8 ï¼Œåˆ é™¤å¹¶é‡æ–°åˆ›å»º application.properties æ–‡ä»¶å³å¯ã€‚ REF https://blog.csdn.net/chenfei2341/article/details/98854474 ","date":"2021-08-05","objectID":"/posts/spring-boot-configuration-file-chinese-encoding-error.html:1:0","series":null,"tags":["Spring","Spring Boot","ä¸­æ–‡ä¹±ç "],"title":"Spring Boot é…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç ","uri":"/posts/spring-boot-configuration-file-chinese-encoding-error.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆ CDN èƒ½åŠ é€Ÿç½‘ç«™è®¿é—®ï¼Ÿ CDN æœ‰å¤šè´µï¼Ÿ ä¸€ã€CDN æ˜¯ä»€ä¹ˆï¼Ÿ CDN çš„å…¨ç§°æ˜¯ Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN æ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDN çš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚ CDN è¿™ä¸ªæ¦‚å¿µå§‹äº1996å¹´ï¼Œæ˜¯ç¾å›½éº»çœç†å·¥å­¦é™¢çš„ä¸€ä¸ªç ”ç©¶å°ç»„ä¸ºæ”¹å–„äº’è”ç½‘çš„æœåŠ¡è´¨é‡è€Œæå‡ºçš„ã€‚ä¸ºäº†èƒ½åœ¨ä¼ ç»ŸIPç½‘ä¸Šå‘å¸ƒä¸°å¯Œçš„å®½å¸¦åª’ä½“å†…å®¹ï¼Œä»–ä»¬æå‡ºåœ¨ç°æœ‰äº’è”ç½‘åŸºç¡€ä¸Šå»ºç«‹ä¸€ä¸ªå†…å®¹åˆ†å‘å¹³å°ä¸“é—¨ä¸ºç½‘ç«™æä¾›æœåŠ¡ï¼Œå¹¶äº 1999 å¹´æˆç«‹äº†ä¸“é—¨çš„ CDN æœåŠ¡å…¬å¸ï¼Œä¸º Yahoo æä¾›ä¸“ä¸šæœåŠ¡ã€‚ç”±äº CDN æ˜¯ä¸ºåŠ å¿«ç½‘ç»œè®¿é—®é€Ÿåº¦è€Œè¢«ä¼˜åŒ–çš„ç½‘ç»œè¦†ç›–å±‚ï¼Œå› æ­¤è¢«å½¢è±¡åœ°ç§°ä¸ºâ€œç½‘ç»œåŠ é€Ÿå™¨â€ã€‚ äºŒã€CDN åŠ é€ŸåŸç† ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:0:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"2.1ã€åŸç† ä»¥æ¥å…¥è…¾è®¯äº‘ CDN ä¸ºä¾‹ï¼Œå‡è®¾ä¸šåŠ¡æºç«™åŸŸåä¸º www.test.comï¼ŒåŸŸåæ¥å…¥ CDN å¼€å§‹ä½¿ç”¨åŠ é€ŸæœåŠ¡åï¼Œå½“ç”¨æˆ·å‘èµ· HTTP è¯·æ±‚æ—¶ï¼Œå®é™…çš„å¤„ç†æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š ç”¨æˆ·å‘ www.test.com ä¸‹çš„æŸå›¾ç‰‡èµ„æºï¼ˆå¦‚ï¼š1.jpgï¼‰å‘èµ·è¯·æ±‚ï¼Œä¼šå…ˆå‘ Local DNS å‘èµ·åŸŸåè§£æè¯·æ±‚ã€‚ å½“ Local DNS è§£æ www.test.com æ—¶ï¼Œä¼šå‘ç°å·²ç»é…ç½®äº† CNAME www.test.com.cdn.dnsv1.comï¼Œè§£æè¯·æ±‚ä¼šå‘é€è‡³ Tencent DNSï¼ˆGSLBï¼‰ï¼ŒGSLB ä¸ºè…¾è®¯äº‘è‡ªä¸»ç ”å‘çš„è°ƒåº¦ä½“ç³»ï¼Œä¼šä¸ºè¯·æ±‚åˆ†é…æœ€ä½³èŠ‚ç‚¹ IPã€‚ Local DNS è·å– Tencent DNS è¿”å›çš„è§£æ IPã€‚ ç”¨æˆ·è·å–è§£æ IPã€‚ ç”¨æˆ·å‘è·å–çš„ IP å‘èµ·å¯¹èµ„æº 1.jpg çš„è®¿é—®è¯·æ±‚ã€‚ è‹¥è¯¥ IP å¯¹åº”çš„èŠ‚ç‚¹ç¼“å­˜æœ‰ 1.jpgï¼Œåˆ™ä¼šå°†æ•°æ®ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼ˆ10ï¼‰ï¼Œæ­¤æ—¶è¯·æ±‚ç»“æŸã€‚è‹¥è¯¥èŠ‚ç‚¹æœªç¼“å­˜ 1.jpgï¼Œåˆ™èŠ‚ç‚¹ä¼šå‘ä¸šåŠ¡æºç«™å‘èµ·å¯¹ 1.jpg çš„è¯·æ±‚ï¼ˆ6ã€7ã€8ï¼‰ï¼Œè·å–èµ„æºåï¼Œç»“åˆç”¨æˆ·è‡ªå®šä¹‰é…ç½®çš„ç¼“å­˜ç­–ç•¥ï¼ˆå¯å‚è€ƒäº§å“æ–‡æ¡£ä¸­çš„ç¼“å­˜è¿‡æœŸé…ç½®ï¼Œå°†èµ„æºç¼“å­˜è‡³èŠ‚ç‚¹ï¼ˆ9ï¼‰ï¼Œå¹¶è¿”å›ç»™ç”¨æˆ·ï¼ˆ10ï¼‰ï¼Œæ­¤æ—¶è¯·æ±‚ç»“æŸã€‚ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:1:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"2.2ã€è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ CDN æœ‰æ•ˆåœ°è§£å†³äº†ç›®å‰äº’è”ç½‘ä¸šåŠ¡ä¸­ç½‘ç»œå±‚é¢çš„ä»¥ä¸‹é—®é¢˜ï¼š ç”¨æˆ·ä¸ä¸šåŠ¡æœåŠ¡å™¨åœ°åŸŸé—´ç‰©ç†è·ç¦»è¾ƒè¿œï¼Œéœ€è¦è¿›è¡Œå¤šæ¬¡ç½‘ç»œè½¬å‘ï¼Œä¼ è¾“å»¶æ—¶è¾ƒé«˜ä¸”ä¸ç¨³å®šã€‚ ç”¨æˆ·ä½¿ç”¨è¿è¥å•†ä¸ä¸šåŠ¡æœåŠ¡å™¨æ‰€åœ¨è¿è¥å•†ä¸åŒï¼Œè¯·æ±‚éœ€è¦è¿è¥å•†ä¹‹é—´è¿›è¡Œäº’è”è½¬å‘ã€‚ ä¸šåŠ¡æœåŠ¡å™¨ç½‘ç»œå¸¦å®½ã€å¤„ç†èƒ½åŠ›æœ‰é™ï¼Œå½“æ¥æ”¶åˆ°æµ·é‡ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œä¼šå¯¼è‡´å“åº”é€Ÿåº¦é™ä½ã€å¯ç”¨æ€§é™ä½ã€‚ ä¸” CDN æ¥å…¥æ¯”è¾ƒç®€å•ï¼Œæºç«™æ— éœ€è°ƒæ•´è‡ªèº«ä¸šåŠ¡ç»“æ„ï¼Œæˆ–æ˜¯è¿›è¡Œå¤æ‚çš„æ“ä½œé…ç½®ï¼Œå³å¯äº«å—å…¨çƒ CDN åŠ é€ŸæœåŠ¡ã€‚ ä¸‰ã€CDN ç©¶ç«Ÿæœ‰å¤šè´µï¼Ÿ è¿™é‡Œæˆ‘æ‰¾äº† 5 å®¶ä¸åŒçš„äº‘å‚å•† CDN äº§å“æ¥å¯¹æ¯”ä»–ä»¬çš„ä»·æ ¼ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼š æ­¤å¤„çš„ä»·æ ¼å¯¹æ¯”ä»…é’ˆå¯¹ä¸­å›½å¤§é™† ä»…å¯¹æ¯” 100G / 500G / 1TB ä¸‰ä¸ªæ¡£ä½çš„èµ„æºåŒ…ä»·æ ¼ èµ„æºåŒ…æœ‰æ•ˆæœŸéƒ½é€‰æ‹© 1 å¹´ å…ˆè¯´ç»“è®ºï¼šè…¾è®¯äº‘çš„ä»·æ ¼æ˜¯æœ€ä½çš„ã€‚ 100G 1å¹´æœ‰æ•ˆæœŸçš„èµ„æºåŒ…ï¼šä»·æ ¼ä» 17~21 å…ƒä¸ç­‰ï¼Œè…¾è®¯äº‘ä»·æ ¼æœ€ä½ï¼Œä¸ƒç‰›äº‘ä»·æ ¼æœ€é«˜ã€‚ 500G 1å¹´æœ‰æ•ˆæœŸçš„èµ„æºåŒ…ï¼šä»·æ ¼ä» 90-100 å…ƒä¸ç­‰ï¼Œäº¬ä¸œäº‘ä»·æ ¼æœ€ä½ï¼Œåˆæ‹äº‘ä»·æ ¼æœ€é«˜ã€‚ 1TB 1å¹´æœ‰æ•ˆæœŸçš„èµ„æºåŒ…ï¼šä»·æ ¼ä» 165-270 å…ƒä¸ç­‰ï¼Œè…¾è®¯äº‘ä»·æ ¼æœ€ä½ï¼Œåˆæ‹äº‘ä»·æ ¼æœ€é«˜ã€‚ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:2:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"3.1ã€ä¸ƒç‰›äº‘ 100G æ¡£ 21 å…ƒ 500G æ¡£ 99 å…ƒ 1TB æ¡£ 189 å…ƒ CDNä¸­å›½å¤§é™†èµ„æºåŒ…ï¼šå®˜ç½‘é“¾æ¥ ä¸ƒç‰›äº‘çš„ç‰¹è‰²æ˜¯æ”¯æŒ å…¨æ—¶æ®µ / æ—¥é—´ / é—²æ—¶ ä¸‰ç§ä¸åŒä»·æ ¼çš„èµ„æºåŒ…ï¼Œä»·æ ¼ä¹Ÿä¸åŒï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚æœ‰é’ˆå¯¹æ€§çš„è´­ä¹°ã€‚ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:3:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"3.2ã€åˆæ‹äº‘ 100G æ¡£ 20 å…ƒ 500G æ¡£ 100 å…ƒ 1TB æ¡£ 270 å…ƒ CDN å¤§é™†æµé‡åŒ…è´­ä¹°ï¼šå®˜ç½‘é“¾æ¥ åˆæ‹äº‘æœ‰é¢å¤–é™åˆ¶ï¼š100GBã€500GB å±äºç‰¹æƒ æµé‡åŒ…ï¼Œåªèƒ½äºŒé€‰ä¸€ï¼Œä¸”åœ¨æœ‰æ•ˆæœŸä¸‰ä¸ªæœˆå†…ä»…å¯è´­ä¹°ä¸€æ¬¡ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:4:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"3.3ã€äº¬ä¸œäº‘ 100G æ¡£ 18 å…ƒ 500G æ¡£ 90 å…ƒ 1TB æ¡£ 180 å…ƒ CDNèµ„æºåŒ…ï¼šå®˜ç½‘é“¾æ¥ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:5:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"3.4ã€è…¾è®¯äº‘ 100G æ¡£ 17 å…ƒ 500G æ¡£ 84 å…ƒ 1TB æ¡£ 165 å…ƒ CDNæµé‡åŒ…ï¼šå®˜ç½‘é“¾æ¥ ä¸æ„§æ˜¯è‰¯å¿ƒäº‘ï¼Œä»·æ ¼ä¼˜åŠ¿å·¨å¤§ã€‚ ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:6:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["æ€§èƒ½ä¼˜åŒ–"],"content":"3.5ã€é˜¿é‡Œäº‘ 100G æ¡£ 20 å…ƒ 500G æ¡£ 95 å…ƒ 1TB æ¡£ 180 å…ƒ CDN/å…¨ç«™åŠ é€Ÿèµ„æºåŒ…ï¼šå®˜ç½‘é“¾æ¥ REF CDN ç™¾åº¦ç™¾ç§‘ï¼šhttps://baike.baidu.com/item/CDN è…¾è®¯äº‘ CDN äº§å“æ¦‚è¿°ï¼šhttps://cloud.tencent.com/document/product/228/2939 ","date":"2021-08-02","objectID":"/posts/what-is-cdn.html:7:0","series":null,"tags":["CDN"],"title":"CDN æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰å¤šè´µï¼Ÿ","uri":"/posts/what-is-cdn.html"},{"categories":["è®¡ç®—æœºåŸºç¡€"],"content":"å››æ ¸å…«çº¿ç¨‹ï¼Œå…«æ ¸åå…­çº¿ç¨‹æ˜¯å•¥æ„æ€ï¼Ÿ ä¸€ã€å…³äºè¶…çº¿ç¨‹ è¶…çº¿ç¨‹ï¼Œå…¶å®æ˜¯è‹±ç‰¹å°”å…¬å¸å‘½åçš„æŠ€æœ¯ï¼ˆHT, Hyper-Threadingï¼‰ï¼Œä½†æ˜¯è¿™é¡¹æŠ€æœ¯æœ€æ—©èµ·æºäº IBM ï¼Œå­¦æœ¯ä¸€äº›çš„åå­—å«åŒæ—¶å¤šçº¿ç¨‹ï¼ˆSMT,Simulate Multi-Threadingï¼‰ã€‚ è¶…çº¿ç¨‹æŠ€æœ¯å…¶å®æ˜¯æŠŠä¸€ä¸ª CPU çš„ç‰©ç†æ ¸æ¨¡æ‹Ÿæˆä¸¤ä¸ªè™šæ‹Ÿæ ¸ç”¨ï¼Œé€šè¿‡æ­¤æŠ€æœ¯ï¼Œè‹±ç‰¹å°”å®ç°åœ¨ä¸€ä¸ªå®ä½“ CPU ç‰©ç†æ ¸ä¸­ï¼Œæä¾›ä¸¤ä¸ªé€»è¾‘çº¿ç¨‹ã€‚è®©å•ä¸ªç‰©ç†æ ¸å¿ƒå°±èƒ½ä½¿ç”¨çº¿ç¨‹çº§çš„å¹¶è¡Œè®¡ç®—ï¼Œè¿›è€Œå…¼å®¹å¤šçº¿ç¨‹æ“ä½œç³»ç»Ÿå’Œè½¯ä»¶ã€‚è¶…çº¿ç¨‹æŠ€æœ¯å……åˆ†åˆ©ç”¨ç©ºé—² CPU èµ„æºï¼Œåœ¨ç›¸åŒæ—¶é—´å†…å®Œæˆæ›´å¤šå·¥ä½œã€‚ è™½ç„¶é‡‡ç”¨è¶…çº¿ç¨‹æŠ€æœ¯èƒ½å¤Ÿä½¿å¾—å•ä¸ªç‰©ç†æ ¸å¿ƒåŒæ—¶æ‰§è¡Œä¸¤ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶éœ€è¦æŸä¸ªèµ„æºæ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å¿…é¡»è®©å‡ºèµ„æºæš‚æ—¶æŒ‚èµ·ï¼Œç›´åˆ°è¿™äº›èµ„æºç©ºé—²ä»¥åæ‰èƒ½ç»§ç»­ã€‚å› æ­¤ï¼Œè¶…çº¿ç¨‹çš„æ€§èƒ½å¹¶ä¸ç­‰äºä¸¤ä¸ªç‰©ç†æ ¸å¿ƒçš„æ€§èƒ½ã€‚è€Œä¸”ï¼Œè¶…çº¿ç¨‹æŠ€æœ¯çš„ CPU éœ€è¦èŠ¯ç‰‡ç»„ã€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶çš„æ”¯æŒï¼Œæ‰èƒ½æ¯”è¾ƒç†æƒ³åœ°å‘æŒ¥è¯¥é¡¹æŠ€æœ¯çš„ä¼˜åŠ¿ã€‚ äºŒã€ä¸ºä»€ä¹ˆè¶…çº¿ç¨‹åªè™šæ‹Ÿå‡ºä¸¤ä¸ªé€»è¾‘æ ¸ï¼Ÿ å…ˆè¯´ä¸€äº›è€³ç†Ÿèƒ½è¯¦çš„æ•°å­—ï¼šå››æ ¸å…«çº¿ç¨‹ã€å…«æ ¸åå…­çº¿ç¨‹ç­‰ã€‚è¿™æ˜¯å…¸å‹çš„è¶…çº¿ç¨‹æŠ€æœ¯åº”ç”¨ï¼Œä¸€ä¸ªç‰©ç†æ ¸å¿ƒè™šæ‹Ÿå‡ºä¸¤ä¸ªé€»è¾‘æ ¸ã€‚ è¶…çº¿ç¨‹çš„åŸºæœ¬åŸç†ï¼Œç”¨å¤§ç™½è¯è®²å°±æ˜¯ï¼šå•æ ¸å¿ƒå·¥ä½œé‡ä¸é¥±æ»¡ï¼Œç»™ä¸¤ä¸ªçº¿ç¨‹èƒ½æé«˜åˆ©ç”¨ç‡ã€‚å°±å¥½æ¯”æœ‰çš„æ‰“å·¥äººä¸šä½™æ—¶é—´èƒ½æä¸ªå‰¯ä¸šä¸€æ ·ï¼Œä½†å¯ä»¥å‹æ¦¨çš„å·¥ä½œé‡æ˜¾ç„¶æ˜¯æœ‰é™çš„ã€‚ æ¯ä¸ª CPU æ ¸å¿ƒé‡Œçš„ ALUï¼ŒFPU è¿™äº›è¿ç®—å•å…ƒçš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œè€Œè¶…çº¿ç¨‹çš„ç›®çš„ä¹‹ä¸€å°±æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ç”¨è¿ç®—å•å…ƒå°‘çš„æƒ…å†µä¸‹ï¼Œè®©å¦å¤–ä¸€ä¸ªçº¿ç¨‹è·‘èµ·æ¥ï¼Œä¸è®©è¿ç®—å•å…ƒé—²ç€ã€‚ä½†æ˜¯ç°åœ¨çš„CPUé‚£ä¹ˆå‘è¾¾ï¼Œæœ‰åˆ†æ”¯é¢„æµ‹ä¹±åºæ‰§è¡Œç­‰æŠ€æœ¯ï¼Œå†…å­˜ï¼ŒIOçš„é¢‘ç‡æ­£åœ¨é€æ¸æé«˜ï¼Œå·²ç»å¯ä»¥è®©CPUçš„æ ¸å¤„äºå¿™ç¢ŒçŠ¶æ€ï¼Œ2 ä¸ªå·²ç»å·®ä¸å¤šï¼Œæ— éœ€æå‡ºæ›´å¤šä¸ªçº¿ç¨‹äº†ã€‚ å¯¹äºè®¡ç®—å¯†é›†çš„ç¨‹åºï¼Œè¶…çº¿ç¨‹ç”šè‡³ä¼šæ‹–ç´¯æ€§èƒ½ã€‚ å¦‚æœå½“ä¸€ä¸ªçº¿ç¨‹æ•´æ•°ï¼Œæµ®ç‚¹è¿ç®—å„ç§å¤šï¼Œå½“å‰æ ¸å¿ƒè¿ç®—å•å…ƒæ²¡å¤šå°‘ç©ºé—²äº†ï¼Œè¿™æ—¶å€™ä½ å†å¡è¿›äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸‹å­èµ„æºå°±ç´§å¼ äº†ã€‚ä¸¤çº¿ç¨‹å°±ä¼šäº’ç›¸æŠ¢èµ„æºï¼Œæ‹–æ…¢å¯¹æ–¹é€Ÿåº¦ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„ç¨‹åºæ˜¯å•çº¿ç¨‹ï¼Œå…³äº†è¶…çº¿ç¨‹ï¼Œå…å¾—åˆ«äººæŠ¢ä½ èµ„æºï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹è¿ç®—ä¸å¤§ï¼Œè¶…çº¿ç¨‹æ¯”è¾ƒæœ‰ç”¨ã€‚ è¡¥å……ï¼š è¶…çº¿ç¨‹å¹¶ä¸ä»…é™äºä¸¤ä¸ªé€»è¾‘æ ¸ï¼Œå¦‚æœæƒ³çš„è¯å¯ä»¥æå‡ºæ¥æ›´å¤šï¼Œä»£è¡¨æ˜¯IBMçš„powerç³»åˆ—:SMT8(æ¯æ ¸8çº¿ç¨‹)çš„è®¾è®¡ï¼Œä¹Ÿæ˜¯ç›¸å½“ææ€–äº†ã€‚ä½†æ˜¯è¿™ç§è®¾è®¡å…¶å®å¹¶ä¸æ˜¯ç¬¦åˆå¤§éƒ¨åˆ†é€šç”¨åº”ç”¨çš„éœ€æ±‚ã€‚ SMTçš„å‡ºå‘ç‚¹è¿˜æ˜¯è¿˜æ˜¯å¤„ç†å™¨å†…éƒ¨çš„æ‰§è¡ŒæŒ‡ä»¤çš„æ—¶å€™ï¼Œå› ä¸ºè®¸å¤šåŸå› (æ¯”å¦‚ç­‰å¾…å†…å­˜IO)ï¼Œå¯¼è‡´CPUä¸­çš„è®¸å¤šèµ„æºç©ºé—²ï¼Œæ‰€ä»¥å¯ä»¥è®©CPUè·‘å¤šä¸ªçº¿ç¨‹ï¼Œè¿›è€Œæé«˜èµ„æºåˆ©ç”¨ç‡ï¼Œæå‡æ€§èƒ½ã€‚è¿™ç§æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼Œå¯¹äºä¸€äº›å­˜åœ¨ç¼“å­˜å…±äº«ï¼Œè´Ÿè½½ä¸é«˜çš„çº¿ç¨‹ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œåˆ†é…åˆ°ç›¸åŒæ ¸å¿ƒçš„ä¸åŒè¶…çº¿ç¨‹ä¸‹ï¼Œå¯ä»¥èŠ‚çº¦åˆ‡æ¢å¼€é”€ã€‚ ä½†æ˜¯è¿™äº›è‡ªç„¶ä¸æ˜¯å…è´¹ï¼Œè¶…çº¿ç¨‹çš„å‰¯ä½œç”¨å­˜åœ¨äºå¾ˆå¤šæ–¹é¢ã€‚ é¦–å…ˆå¾ˆæ˜æ˜¾ï¼Œå¤„ç†å™¨æ ¸å¿ƒä¸­å„ç§æ‰§è¡Œèµ„æºéƒ½æ˜¯æœ‰é™çš„ï¼ŒæŸäº›èµ„æº(æ¯”å¦‚ALU)åœ¨å‡ ä¸ªçº¿ç¨‹ä¹‹é—´äº‰ç”¨ï¼Œä¸€äº›èµ„æºéœ€è¦ç›´æ¥å¹³åˆ†ç»™å‡ ä¸ªä¸ªçº¿ç¨‹ã€‚ç»“æœå¯èƒ½å¯¼è‡´ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œçš„é€Ÿåº¦éƒ½ä¸‹é™ï¼Œç”šè‡³ä¸å¦‚å•çº¿ç¨‹è¿è¡Œï¼Œè¿™åœ¨ä¸€äº›æœ¬èº«ä¼˜åŒ–è¾ƒå¥½çš„SIMDç¨‹åºä¸­æ¯”è¾ƒå¸¸è§ã€‚æ‰€ä»¥æˆ‘ä»¬å¾ˆå¤šæ—¥å¸¸ç”¨æ”¯æŒSMTçš„å¤„ç†å™¨ï¼Œå³ä½¿bioså¼€å¯SMTï¼Œå¾ˆå¤šæ—¶å€™ï¼Œå°¤å…¶æ˜¯ä½è½½æƒ…å†µä¸‹éƒ½æ˜¯è¿è¡Œåœ¨1Tæ¨¡å¼çš„(ä¹Ÿå°±æ˜¯æ ¸å¿ƒåªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿è¡Œ)ã€‚ å„ä¸ªçº¿ç¨‹çš„ä»»åŠ¡è™½ç„¶è·‘åœ¨ä¸€ä¸ªç‰©ç†æ ¸å¿ƒä¸Šï¼Œä½†æ˜¯ä»–ä»¬çš„æŒ‡ä»¤ï¼Œå¯„å­˜å™¨ç­‰ç­‰ä»æ˜¯éœ€è¦åˆ†å¼€çš„ï¼Œå¤„ç†å™¨æ ¸å¿ƒå†…éƒ¨çš„å…¶ä»–æ‰§è¡Œèµ„æºä¹Ÿéœ€è¦è¿›è¡ŒåŠ¨æ€æˆ–è€…é™æ€çš„åˆ†é…ï¼Œè¿™äº›éƒ½éœ€è¦åœ¨å¤„ç†å™¨ä¸­æ·»åŠ é¢å¤–çš„è°ƒåº¦ï¼Œå¢åŠ æ™¶ä½“ç®¡ã€‚ä¸ä¹‹å¯¹åº”ï¼Œä¸€ä¸ªè¶…é¢‘çˆ±å¥½è€…æ¯”è¾ƒç†Ÿæ‚‰çš„ç°è±¡å°±æ˜¯å…³è¶…çº¿ç¨‹è¶…é¢‘ï¼Œå¯èƒ½æ›´å‡‰å¿«ï¼ŒåŒæ—¶é¢‘ç‡æ›´é«˜ã€‚ è¿™äº›å¤šä½™çš„æ™¶ä½“ç®¡èŠ±åœ¨SMTä¸Šæ˜¯å¦å€¼å¾—ï¼Œæ‹¿æ¥æå‡å¤„ç†å™¨å•çº¿ç¨‹æ‰§è¡Œèµ„æºçš„åˆ©ç”¨ç‡æˆ–è€…å †æ›´å¤šèµ„æºæå‡å•çº¿ç¨‹æ€§èƒ½ï¼Œæ˜¯ä¸æ˜¯ä¼šæœ‰æ›´å¤šæ”¶ç›Šå°±å˜æˆäº†ä¸€ä¸ªå€¼å¾—æƒè¡¡çš„é—®é¢˜ã€‚ å¯¹äºPowerè¿™ç§SMT8çš„æ€ªç‰©ï¼Œä¸Šé¢ä¸¤ä¸ªé—®é¢˜ä¼šå› ä¸ºSMTçº¿ç¨‹æ•°å¢å¤šè€ŒåŠ å‰§ï¼Œä¸ºäº†ç¼“è§£è¿™ç§æƒ…å†µéœ€è¦å †æ›´å¤šçš„èµ„æºï¼Œè¿™åˆä¼šå¢åŠ è°ƒåº¦å¤æ‚åº¦ï¼Œéœ€è¦æ›´å¤šçš„æ™¶ä½“ç®¡ï¼Œä¸ºäº†è§£å†³åªå¥½æŠŠéƒ¨åˆ†èµ„æºæŒ‰è¶…çº¿ç¨‹è¿›è¡Œç›´æ¥åˆ’åˆ†ï¼Œè¿™éƒ¨åˆ†èµ„æºåœ¨å•çº¿ç¨‹æ¨¡å¼ä¸‹ä¹Ÿä¼šæ— æ³•åˆ©ç”¨ï¼Œå¯¼è‡´å•æ ¸æ€§èƒ½åå¼±ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸ç¬¦åˆå¤§éƒ¨åˆ†é€šç”¨åº”ç”¨ä¸­çš„éœ€æ±‚(è¿™ä¸ªå…¶å®æŒºæ˜¾ç„¶ï¼Œå¾ˆå¤šæ—¶å€™éƒ½èƒ½ä½“ä¼šåˆ°ï¼Œä¸€éƒ¨åˆ†åœ¨äºå¾ˆå¤šç¨‹åºå¹¶æ²¡æœ‰å¾ˆå¥½çš„å¤šçº¿ç¨‹ä¼˜åŒ–è€Œä¾èµ–äºå•çº¿ç¨‹æ€§èƒ½ï¼ŒåŒæ—¶å¹¶è¡ŒåŒ–åˆ°æœ€åå®é™…çš„ç“¶é¢ˆä¹Ÿåœ¨å•çº¿ç¨‹ã€‚ REF https://www.zhihu.com/question/444841440/answer/1745910660 https://www.cnblogs.com/jiading/articles/12588488.html https://baike.baidu.com/item/%E8%B6%85%E7%BA%BF%E7%A8%8B ","date":"2021-07-25","objectID":"/posts/about-hyper-threading-technology.html:0:0","series":null,"tags":["CPU","è¶…çº¿ç¨‹"],"title":"å…³äºè¶…çº¿ç¨‹æŠ€æœ¯","uri":"/posts/about-hyper-threading-technology.html"},{"categories":null,"content":"ç®—æ³• ã€Œ æ›´æ–°ä¸­â€¦ ã€ LeetCode å‰‘æŒ‡Offer(ç¬¬äºŒç‰ˆ) é¢˜è§£ - java ã€Œ æ›´æ–°ä¸­â€¦ ã€ å¸¸è§æ’åºç®—æ³•è¯¦è§£ - java ","date":"2021-07-19","objectID":"/special.html:0:0","series":null,"tags":null,"title":"ä¸“æ ","uri":"/special.html"},{"categories":["æŠ˜è…¾","Python"],"content":"é•¿æ—¶é—´çš„ç”µè¯ / ä¼šè®®å½•éŸ³ / æ¼”è®²è§†é¢‘ä¹‹ç±»çš„å„ç§éŸ³è§†é¢‘åª’ä½“æ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¦‚æœæœ‰é•¿æœŸå­˜å‚¨çš„éœ€æ±‚çš„è¯ï¼Œä½ å¯èƒ½ä¼šå› ä¸ºä½“ç§¯ç§¯å¤ªå¤§ï¼Œä¸æ–¹ä¾¿è¿›è¡Œä¿¡æ¯æ£€ç´¢è€Œå¤´ç–¼ã€‚ä½†å¦‚æœè½¬æˆæ–‡å­—ï¼Œæ¶¦è‰²åæ•´ç†æˆæ–‡å­—ç¨¿ï¼Œæ— è®ºæ˜¯ä»å­˜å‚¨ä½“ç§¯æˆ–æ˜¯ä¿¡æ¯æ£€ç´¢æ–¹é¢ï¼Œéƒ½ä¼šæ¯”ç›´æ¥å­˜å‚¨éŸ³è§†é¢‘åª’ä½“æ›´æ–¹ä¾¿äº›ã€‚ å°éäº†å¸‚é¢ä¸Šå„ç§éŸ³é¢‘è½¬æ–‡å­—çš„é‡é¸¡äº§å“åï¼Œæˆ‘æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©ç”¨å¤§å‚æä¾›çš„ API ï¼Œto B çš„äº§å“åœ¨ä»·æ ¼å’Œå¯å®šåˆ¶æ€§ä¸Šè‚¯å®šæ¯” to C çš„äº§å“æ›´æœ‰ä¼˜åŠ¿ã€‚ å…³äºå¦‚ä½•å°†è§†é¢‘è½¬éŸ³é¢‘ï¼Œæ‰‹æ®µå¾ˆå¤šï¼Œæ¯”å¦‚ä½¿ç”¨ FFmpeg å¯ä»¥å°†è§†é¢‘è½¬ä¸ºéŸ³é¢‘ï¼š ffmpeg -i input.mp4 -vn -acodec copy audio.mp3 ä¸€ã€éŸ³é¢‘è½¬æ–‡å­—ç©¶ç«Ÿæœ‰å¤šè´µï¼Ÿ å‚è€ƒå½“å‰çš„å¤§å‹äº’è”ç½‘å‚å•†æä¾›çš„éŸ³é¢‘è½¬æ–‡å­—æœåŠ¡å®šä»·ï¼Œè®¯é£æœ€è´µã€ç™¾åº¦äº‘è®ºå•ä»·è™½ç„¶æœ€ä¾¿å®œï¼Œä½†èµ·è´­é—¨æ§›é‡‘é¢è¾ƒé«˜ï¼Œæ¯”è¾ƒé€‚åˆå•†ç”¨èµ°é‡ã€ï¼Œè…¾è®¯äº‘çš„ä»·æ ¼æœ€åˆé€‚ï¼Œè€Œä¸”æœ€å…³é”®çš„æ˜¯è…¾è®¯äº‘æ¯æœˆéƒ½æœ‰é™„èµ ä¸€å®šé‡çš„é¢åº¦ï¼Œå¯ä»¥æ— é™ç™½å«–ã€‚ ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:0:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"1.1ã€è®¯é£ è¯­éŸ³è½¬å†™ï¼šæ–‡æ¡£åœ°å€ äº§å“ä»·æ ¼ï¼šæ–‡æ¡£åœ°å€ å¥—é¤ä¸€ï¼ˆ 20 å°æ—¶ï¼‰ 168 å…ƒ / å•ä»· 8.4 å¥—é¤äºŒï¼ˆ 200 å°æ—¶ï¼‰ 980 å…ƒ / å•ä»· 4.9 å¥—é¤ä¸‰ï¼ˆ 1000 å°æ—¶ï¼‰ 3900 å…ƒ / å•ä»· 3.9 å¥—é¤å››ï¼ˆ 3000 å°æ—¶ï¼‰ 10500 å…ƒ / å•ä»· 3.5 ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:1:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"1.2ã€ç™¾åº¦äº‘ éŸ³é¢‘æ–‡ä»¶è½¬å†™ï¼šæ–‡æ¡£åœ°å€ æŒ‰å°æ—¶åŒ…é¢„ä»˜è´¹ï¼šæ–‡æ¡£åœ°å€ æŒ‰è°ƒç”¨æ—¶é•¿åä»˜è´¹ï¼šæ–‡æ¡£åœ°å€ æŒ‰å°æ—¶åŒ…é¢„ä»˜è´¹ å¥—é¤ä¸€ï¼ˆ 1000 å°æ—¶ï¼‰ 1200 å…ƒ / å•ä»· 1.2 å¥—é¤äºŒï¼ˆ 10000 å°æ—¶ï¼‰ 9000 å…ƒ / å•ä»· 0.9 å¥—é¤ä¸‰ï¼ˆ 100000 å°æ—¶ï¼‰ 70000 å…ƒ / å•ä»· 0.7 å¥—é¤å››ï¼ˆ 500000 å°æ—¶ï¼‰ 300000 å…ƒ / å•ä»· 0.6 æŒ‰è°ƒç”¨æ—¶é•¿åä»˜è´¹ æ¯å°æ—¶ 2 å…ƒï¼Œç³»ç»ŸæŒ‰ç”¨æˆ·å®é™…ä½¿ç”¨ï¼Œæ¯å°æ—¶å‡ºè´¦å•å®æ—¶æ‰£è´¹ï¼Œè´¦æˆ·å†…éœ€ä¿ç•™è¶³é‡ä½™é¢ã€‚ ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:2:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"1.3ã€è…¾è®¯äº‘ è¯­éŸ³è¯†åˆ« ASRï¼šhttps://cloud.tencent.com/product/asr å…è´¹é…é¢ï¼šhttps://console.cloud.tencent.com/asr/resourcebundle èµ„æºåŒ…è´­ä¹°åœ°å€ï¼šhttps://buy.cloud.tencent.com/asr å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼ˆäº”å°æ—¶å†…å‡ºç»“æœï¼‰ å¥—é¤ä¸€ï¼ˆ 60 å°æ—¶ï¼‰ 90 å…ƒ / å•ä»· 1.5 å¥—é¤äºŒï¼ˆ 1000 å°æ—¶ï¼‰ 1200 å…ƒ / å•ä»· 1.2 å¥—é¤ä¸‰ï¼ˆ 10000 å°æ—¶ï¼‰ 10000 å…ƒ / å•ä»· 1 å¥—é¤å››ï¼ˆ 100000 å°æ—¶ï¼‰ 80000 å…ƒ / å•ä»· 0.8 å¥—é¤äº”ï¼ˆ 300000 å°æ—¶ï¼‰ 210000 å…ƒ / å•ä»· 0.7 æ”¯æŒä¸­æ–‡æ™®é€šè¯ã€è‹±è¯­ã€ç²¤è¯­ã€æ—¥è¯­ã€æ³°è¯­ã€‚å¯¹æ—¶é•¿5å°æ—¶ä»¥å†…çš„å½•éŸ³æ–‡ä»¶è¿›è¡Œè¯†åˆ«ï¼Œå¼‚æ­¥è¿”å›è¯†åˆ«å…¨éƒ¨ç»“æœã€‚ æ”¯æŒè¯­éŸ³ URL å’Œæœ¬åœ°è¯­éŸ³æ–‡ä»¶ä¸¤ç§è¯·æ±‚æ–¹å¼ã€‚ è¯­éŸ³ URL çš„éŸ³é¢‘æ—¶é•¿ä¸èƒ½é•¿äº5å°æ—¶ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡512MBã€‚ æœ¬åœ°è¯­éŸ³æ–‡ä»¶ä¸èƒ½å¤§äº5MBã€‚ æäº¤å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚åï¼Œåœ¨5å°æ—¶å†…å®Œæˆè¯†åˆ«ï¼ˆåŠå°æ—¶å†…å‘é€è¶…è¿‡1000å°æ—¶å½•éŸ³æˆ–è€…2ä¸‡æ¡è¯†åˆ«ä»»åŠ¡çš„é™¤å¤–ï¼‰ï¼Œè¯†åˆ«ç»“æœåœ¨æœåŠ¡ç«¯å¯ä¿å­˜7å¤© æ”¯æŒå›è°ƒæˆ–è½®è¯¢çš„æ–¹å¼è·å–ç»“æœ å½•éŸ³æ–‡ä»¶è¯†åˆ«æé€Ÿç‰ˆï¼ˆå‡†å®æ—¶ï¼‰ å¥—é¤ä¸€ï¼ˆ 30 å°æ—¶ï¼‰ 72 å…ƒ / å•ä»· 2.3 å¥—é¤äºŒï¼ˆ 1000 å°æ—¶ï¼‰ 1500 å…ƒ / å•ä»· 1.5 å¥—é¤ä¸‰ï¼ˆ 10000 å°æ—¶ï¼‰ 12000 å…ƒ / å•ä»· 1.2 å¥—é¤å››ï¼ˆ 100000 å°æ—¶ï¼‰ 110000 å…ƒ / å•ä»· 1.1 å¥—é¤äº”ï¼ˆ 300000 å°æ—¶ï¼‰ 300000 å…ƒ / å•ä»· 1 ä»…æ”¯æŒä¸­æ–‡æ™®é€šè¯ï¼Œä½¿ç”¨è€…é€šè¿‡ HTTPS POST æ–¹å¼ä¸Šä¼ ä¸€æ®µéŸ³é¢‘å¹¶åœ¨æçŸ­æ—¶é—´å†…åŒæ­¥è¿”å›è¯†åˆ«ç»“æœï¼Œå¯æ»¡è¶³éŸ³è§†é¢‘å­—å¹•ã€å‡†å®æ—¶è´¨æ£€ç­‰åœºæ™¯ä¸‹å¯¹è¯­éŸ³æ–‡ä»¶è¯†åˆ«æ—¶æ•ˆæ€§çš„è¦æ±‚ã€‚ æ”¯æŒ100MBä»¥å†…éŸ³é¢‘æ–‡ä»¶çš„è¯†åˆ« ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:3:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"1.4ã€é˜¿é‡Œäº‘ å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼šæ–‡æ¡£åœ°å€ å½•éŸ³æ–‡ä»¶è¯†åˆ«èµ„æºåŒ…ï¼šè´­ä¹°é“¾æ¥ å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼ˆæé€Ÿç‰ˆï¼‰èµ„æºåŒ…ï¼šè´­ä¹°é“¾æ¥ å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼ˆå…­å°æ—¶å†…å‡ºç»“æœï¼‰ å¥—é¤ä¸€ï¼ˆ 40 å°æ—¶ï¼‰ 100 å…ƒ / å•ä»· 2.5 å¥—é¤äºŒï¼ˆ 1000 å°æ—¶ï¼‰ 1200 å…ƒ / å•ä»· 1.2 å¥—é¤ä¸‰ï¼ˆ 20000 å°æ—¶ï¼‰ 20000 å…ƒ / å•ä»· 1 å¥—é¤å››ï¼ˆ 100000 å°æ—¶ï¼‰ 90000 å…ƒ / å•ä»· 0.9 å¥—é¤äº”ï¼ˆ 250000 å°æ—¶ï¼‰ 200000 å…ƒ / å•ä»· 0.8 å½•éŸ³æ–‡ä»¶è¯†åˆ«æé€Ÿç‰ˆï¼ˆ30åˆ†é’Ÿä»¥å†…æ—¶é•¿çš„éŸ³é¢‘è½¬å†™å®Œæˆæ—¶é—´ä¸è¶…è¿‡10ç§’ï¼‰ å¥—é¤ä¸€ï¼ˆ 40 å°æ—¶ï¼‰ 90 å…ƒ / å•ä»· 2.5 å¥—é¤äºŒï¼ˆ 1000 å°æ—¶ï¼‰ 1560 å…ƒ / å•ä»· 1.56 å¥—é¤ä¸‰ï¼ˆ 20000 å°æ—¶ï¼‰ 26000 å…ƒ / å•ä»· 1.3 å¥—é¤å››ï¼ˆ 100000 å°æ—¶ï¼‰ 117000 å…ƒ / å•ä»· 1.17 å¥—é¤äº”ï¼ˆ 250000 å°æ—¶ï¼‰ 260000 å…ƒ / å•ä»· 1.04 äºŒã€å¯¹æ¥è…¾è®¯äº‘ åœ¨ä½¿ç”¨è…¾è®¯äº‘ API ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆè·å–ä¸‰ä¸ªå¿…è¦çš„å‚æ•°ã€‚ åœ¨è…¾è®¯äº‘æ§åˆ¶å°è´¦å·ä¿¡æ¯é¡µé¢æŸ¥çœ‹è´¦å· APPIDï¼šhttps://console.cloud.tencent.com/developer è®¿é—®ç®¡ç†é¡µé¢è·å– SecretID å’Œ SecretKeyï¼šhttps://console.cloud.tencent.com/cam/capi ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:4:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.1ã€å½•éŸ³æ–‡ä»¶è¯†åˆ«æé€Ÿç‰ˆï¼ˆV2ï¼‰ æé€Ÿç‰ˆæ¼”ç¤ºï¼Œç›®å‰è…¾è®¯äº‘ç»™çš„å…è´¹é…é¢æ˜¯æ¯æœˆ 5 å°æ—¶ã€‚ æé€Ÿç‰ˆä»…æ”¯æŒä¸­æ–‡æ™®é€šè¯ï¼Œé€šè¿‡ HTTPS POST æ–¹å¼ä¸Šä¼ ä¸€æ®µéŸ³é¢‘å¹¶åœ¨æçŸ­æ—¶é—´å†…åŒæ­¥è¿”å›è¯†åˆ«ç»“æœï¼Œå¯æ»¡è¶³éŸ³è§†é¢‘å­—å¹•ã€å‡†å®æ—¶è´¨æ£€ç­‰åœºæ™¯ä¸‹å¯¹è¯­éŸ³æ–‡ä»¶è¯†åˆ«æ—¶æ•ˆæ€§çš„è¦æ±‚ã€‚æ”¯æŒ100MBä»¥å†…éŸ³é¢‘æ–‡ä»¶çš„è¯†åˆ«ã€‚ 1ï¼‰å°†çœŸå®çš„å€¼å¡«å…¥ä¸‹æ–¹æºä»£ç çš„ APPIDã€SECRET_IDã€SECRET_KEY è¿™ä¸‰ä¸ªå‚æ•°ä¸­ï¼› 2ï¼‰å°†æºä»£ç ä¸­çš„ audio å‚æ•°ä¿®æ”¹ä¸ºæœ¬åœ°éŸ³é¢‘æ–‡ä»¶çš„ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼› 3ï¼‰run itã€‚ # å½•éŸ³æ–‡ä»¶è¯†åˆ«æé€Ÿç‰ˆ v2ç‰ˆæœ¬ # API æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/api/1093/52097 # ç­¾åç”Ÿæˆï¼šhttps://cloud.tencent.com/document/api/1093/52097#sign import json import requests import time import hashlib import hmac import base64 # è°ƒç”¨è€…èº«ä»½ class Credential: def __init__(self, app_id, secret_id, secret_key): self.app_id = app_id self.secret_id = secret_id self.secret_key = secret_key # æœåŠ¡ç«¯ä¿¡æ¯ class Server: def __init__(self, protocol, host, port, uri): self.protocol = protocol self.host = host self.port = port self.uri = uri # æ‰“å°æ—¥å¿— def show(title=\"\", content=object, level=\"INFO\"): print(\"[\" + level + \"] \" + title) print(content) print() # è·å–æ—¶é—´æˆ³ def getTimestamp(): t = time.time() # return t # åŸå§‹æ—¶é—´æ•°æ® return int(t) # ç§’çº§æ—¶é—´æˆ³ # return int(round(t * 1000)) # æ¯«ç§’çº§æ—¶é—´æˆ³ # return int(round(t * 1000000)) # å¾®ç§’çº§æ—¶é—´æˆ³ # å­—å…¸åºæ’åº def format_sign_string(param): param = sorted(param.items(), key=lambda d: d[0]) signstr = f\"POST{server.host + server.uri + credential.app_id}\" for t in param: if 'appid' in t: signstr += str(t[1]) break signstr += \"?\" for x in param: tmp = x if 'appid' in x: continue for t in tmp: signstr += str(t) signstr += \"=\" signstr = signstr[:-1] signstr += \"\u0026\" signstr = signstr[:-1] return signstr # ç­¾å def sign(signstr, secret_key): hmacstr = hmac.new(secret_key.encode('utf-8'), signstr.encode('utf-8'), hashlib.sha1).digest() s = base64.b64encode(hmacstr) s = s.decode('utf-8') return s # è°ƒç”¨è€…ä¿¡æ¯å¯¹è±¡åˆå§‹åŒ– # åœ¨è…¾è®¯äº‘æ§åˆ¶å°è´¦å·ä¿¡æ¯é¡µé¢æŸ¥çœ‹è´¦å· APPIDï¼šhttps://console.cloud.tencent.com/developer # è®¿é—®ç®¡ç†é¡µé¢è·å– SecretID å’Œ SecretKeyï¼šhttps://console.cloud.tencent.com/cam/capi APPID = \"\" SECRET_ID = \"\" SECRET_KEY = \"\" credential = Credential(APPID, SECRET_ID, SECRET_KEY) # æœåŠ¡ç«¯ä¿¡æ¯å¯¹è±¡åˆå§‹åŒ– PROTOCOL = \"https://\" HOST = \"asr.cloud.tencent.com\" PORT = \"\" URI = \"/asr/flash/v1/\" server = Server(PROTOCOL, HOST, PORT, URI) # æ„é€ å‚æ•° params = { # ç”¨æˆ·åœ¨è…¾è®¯äº‘æ³¨å†Œè´¦å· AppId å¯¹åº”çš„ SecretId \"secretid\": f\"{credential.secret_id}\", # å¼•æ“æ¨¡å‹ç±»å‹ã€‚8k_zhï¼š8k ä¸­æ–‡æ™®é€šè¯é€šç”¨ï¼›16k_zhï¼š16k ä¸­æ–‡æ™®é€šè¯é€šç”¨ï¼›16k_zh_videoï¼š16k éŸ³è§†é¢‘é¢†åŸŸã€‚ \"engine_type\": \"16k_zh\", # éŸ³é¢‘æ ¼å¼ã€‚æ”¯æŒ wavã€pcmã€ogg-opusã€speexã€silkã€mp3ã€m4aã€aacã€‚ \"voice_format\": \"mp3\", # å½“å‰ UNIX æ—¶é—´æˆ³ï¼Œå¦‚æœä¸å½“å‰æ—¶é—´ç›¸å·®è¶…è¿‡3åˆ†é’Ÿï¼Œä¼šæŠ¥ç­¾åå¤±è´¥é”™è¯¯ã€‚ \"timestamp\": getTimestamp(), } # æ˜¯å¦å¼€å¯è¯´è¯äººåˆ†ç¦»ï¼ˆç›®å‰æ”¯æŒä¸­æ–‡æ™®é€šè¯å¼•æ“ï¼‰ï¼Œé»˜è®¤ä¸º0ï¼Œ0ï¼šä¸å¼€å¯ï¼Œ1ï¼šå¼€å¯ã€‚ # params[\"speaker_diarization\"] = 0; # æ˜¯å¦è¿‡æ»¤è„è¯ï¼ˆç›®å‰æ”¯æŒä¸­æ–‡æ™®é€šè¯å¼•æ“ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚0ï¼šä¸è¿‡æ»¤è„è¯ï¼›1ï¼šè¿‡æ»¤è„è¯ï¼›2ï¼šå°†è„è¯æ›¿æ¢ä¸º *ã€‚ # params[\"filter_dirty\"] = 0; # æ˜¯å¦è¿‡æ»¤è¯­æ°”è¯ï¼ˆç›®å‰æ”¯æŒä¸­æ–‡æ™®é€šè¯å¼•æ“ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚0ï¼šä¸è¿‡æ»¤è¯­æ°”è¯ï¼›1ï¼šéƒ¨åˆ†è¿‡æ»¤ï¼›2ï¼šä¸¥æ ¼è¿‡æ»¤ã€‚ # params[\"filter_modal\"] = 0; # æ˜¯å¦è¿‡æ»¤æ ‡ç‚¹ç¬¦å·ï¼ˆç›®å‰æ”¯æŒä¸­æ–‡æ™®é€šè¯å¼•æ“ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚0ï¼šä¸è¿‡æ»¤ï¼Œ1ï¼šè¿‡æ»¤å¥æœ«æ ‡ç‚¹ï¼Œ2ï¼šè¿‡æ»¤æ‰€æœ‰æ ‡ç‚¹ã€‚ # params[\"filter_punc\"] = 0; # æ˜¯å¦è¿›è¡Œé˜¿æ‹‰ä¼¯æ•°å­—æ™ºèƒ½è½¬æ¢ï¼Œé»˜è®¤ä¸º1ã€‚0ï¼šå…¨éƒ¨è½¬ä¸ºä¸­æ–‡æ•°å­—ï¼›1ï¼šæ ¹æ®åœºæ™¯æ™ºèƒ½è½¬æ¢ä¸ºé˜¿æ‹‰ä¼¯æ•°å­—ã€‚ params[\"convert_num_mode\"] = 1; # æ˜¯å¦æ˜¾ç¤ºè¯çº§åˆ«æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º0ã€‚0ï¼šä¸æ˜¾ç¤ºï¼›1ï¼šæ˜¾ç¤ºï¼Œä¸åŒ…å«æ ‡ç‚¹æ—¶é—´æˆ³ï¼Œ2ï¼šæ˜¾ç¤ºï¼ŒåŒ…å«æ ‡ç‚¹æ—¶é—´æˆ³ã€‚ # params[\"word_info\"] = 0; # æ˜¯å¦åªè¯†åˆ«é¦–ä¸ªå£°é“ï¼Œé»˜è®¤ä¸º1ã€‚0ï¼šè¯†åˆ«æ‰€æœ‰å£°é“ï¼›1ï¼šè¯†åˆ«é¦–ä¸ªå£°é“ã€‚ # params[\"first_channel_only\"] = 1; show(\"ç”Ÿæˆ params\", params) # è·å– signature signstr = format_sign_string(params) signature = sign(signstr, SECRET_KEY) show(\"ç”Ÿæˆ signstr\", signstr) show(\"ç”Ÿæˆ signature\", signature) # è®¡ç®— URL URL = server.protocol + signstr[4::] show(\"è®¡ç®— URL\", URL) # æ„é€  header headers = { \"Host\": \"asr.cloud.tencent.com\", \"Authorization\": f\"{signature}\", # \"Content-Type\": \"application/octet-stream\", # \"Content-Length\": \"è¯·æ±‚é•¿åº¦ï¼Œæ­¤å¤„å¯¹åº”è¯­éŸ³æ•°æ®å­—èŠ‚æ•°ï¼Œå•ä½ï¼šå­—èŠ‚\" } show(\"ç”Ÿæˆ headers\", headers) # éŸ³é¢‘è·¯å¾„ audio = \"./å¤–å–ä½£é‡‘åˆ°åº•æœ‰å¤šé«˜.mp3\" with open(audio, 'rb') as f: # è¯»å–éŸ³é¢‘æ•°æ® data = f.read() # è°ƒç”¨è…¾è®¯äº‘è¯­éŸ³è¯†åˆ« API e = requests.post(URL, headers=headers, data=data) responese = json.loads(e.text) code = responese[\"code\"] if code != 0: show(\"è¯†åˆ«å¤±è´¥\", responese) else: show(\"è¯†åˆ«æˆåŠŸ\", responese) # ä¸€ä¸ªchannl_resultå¯¹åº”ä¸€ä¸ªå£°é“çš„è¯†åˆ«ç»“æœ # å¤§å¤šæ•°éŸ³é¢‘æ˜¯å•å£°é“ï¼Œå¯¹åº”ä¸€ä¸ªchannl_result for channl_result in responese[\"flash_result\"]: channel_id = channl_result['channel_id'] text = channl_result['text'] show(f\"channel_id: {channel_id}\", text) è¾“å‡º [INFO] ç”Ÿæˆ params {'secretid': 'xxxxxxxxxxxxxxxxxxx', 'engine_type': '16k_zh', 'voice_format': 'mp3', 'timestamp': xxxxxxxxx, 'convert","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:5:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.2ã€å½•éŸ³æ–‡ä»¶è¯†åˆ«ï¼ˆV3ï¼‰ å½•éŸ³æ–‡ä»¶è¯†åˆ«æ¼”ç¤ºï¼Œç›®å‰è…¾è®¯äº‘ç»™çš„å…è´¹é…é¢æ˜¯æ¯æœˆ 10 å°æ—¶ã€‚ å½•éŸ³æ–‡ä»¶è¯†åˆ«è¯·æ±‚ API æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/api/1093/37823 å½•éŸ³æ–‡ä»¶è¯†åˆ«ç»“æœæŸ¥è¯¢ API æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/api/1093/37822 è…¾è®¯äº‘ API 3.0 æä¾›äº†é…å¥—çš„å¼€å‘å·¥å…·é›† SDKï¼šhttps://cloud.tencent.com/document/api/1093/37823#SDK ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:6:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.2.1ã€å®‰è£… Python SDK åœ¨ä½¿ç”¨å½•éŸ³æ–‡ä»¶è¯†åˆ«æ—¶ï¼Œéœ€è¦é€šè¿‡ pip æ–¹å¼å®‰è£…è…¾è®¯äº‘æä¾›çš„ Python ç‰ˆæœ¬ SDK: pip install --upgrade tencentcloud-sdk-python # ä¸­å›½å¤§é™†åœ°åŒºçš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒæºæé«˜ä¸‹è½½é€Ÿåº¦ pip install -i https://mirrors.tencent.com/pypi/simple/ --upgrade tencentcloud-sdk-pythonã€‚ ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:6:1","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.2.2ã€ä¸Šä¼ æœ¬åœ°å½•éŸ³æ–‡ä»¶è¯†åˆ« è…¾è®¯äº‘æä¾›çš„ API Explorer å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”Ÿæˆä»£ç å’Œå‚æ•°ï¼šhttps://console.cloud.tencent.com/api/explorer?Product=asr\u0026Version=2019-06-14\u0026Action=CreateRecTask\u0026SignVersion= ä¸‹é¢æˆ‘æä¾›ä¸€ä¸ªè‡ªå·±çš„ demo ï¼Œè¿è¡Œå‰è®°å¾—æ›¿æ¢ä¸‰ä¸ªå‚æ•°ä¸ºçœŸå®å€¼ã€‚å…¶ä¸­ audio æ˜¯æœ¬åœ°å½•éŸ³æ–‡ä»¶ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚ import json import base64 from tencentcloud.common import credential from tencentcloud.common.profile.client_profile import ClientProfile from tencentcloud.common.profile.http_profile import HttpProfile from tencentcloud.common.exception.tencent_cloud_sdk_exception import TencentCloudSDKException from tencentcloud.asr.v20190614 import asr_client, models SecretId = \"xxxxxxxxxxxxxxxxxxxxxxxxx\" SecretKey = \"xxxxxxxxxxxxxxxxxxxxxxxxx\" audio = \"./audio.mp3\" # å°†å½•éŸ³è½¬ä¸ºå­—ç¬¦ä¸² Data = \"\" with open(audio, 'rb') as f: # è¯»å–éŸ³é¢‘æ•°æ® Data = f.read() Data = base64.b64encode(Data) Data = Data.decode() try: cred = credential.Credential(SecretId, SecretKey) httpProfile = HttpProfile() httpProfile.endpoint = \"asr.tencentcloudapi.com\" clientProfile = ClientProfile() clientProfile.httpProfile = httpProfile client = asr_client.AsrClient(cred, \"\", clientProfile) req = models.CreateRecTaskRequest() params = { ''' å¼•æ“æ¨¡å‹ç±»å‹ã€‚ è¿™é‡Œçš„ k æŒ‡çš„æ˜¯é‡‡æ ·ç‡ ç”µè¯åœºæ™¯ï¼š â€¢ 8k_enï¼šç”µè¯8kè‹±è¯­ï¼› â€¢ 8k_zhï¼šç”µè¯8kä¸­æ–‡æ™®é€šè¯é€šç”¨ï¼› éç”µè¯åœºæ™¯ï¼š â€¢ 16k_zhï¼š16k ä¸­æ–‡æ™®é€šè¯é€šç”¨ï¼› â€¢ 16k_zh_videoï¼š16k éŸ³è§†é¢‘é¢†åŸŸï¼› â€¢ 16k_enï¼š16k è‹±è¯­ï¼› â€¢ 16k_caï¼š16k ç²¤è¯­ï¼› â€¢ 16k_jaï¼š16k æ—¥è¯­ï¼› â€¢ 16k_zh_edu ä¸­æ–‡æ•™è‚²ï¼› â€¢ 16k_en_edu è‹±æ–‡æ•™è‚²ï¼› â€¢ 16k_zh_medical åŒ»ç–—ï¼› â€¢ 16k_th æ³°è¯­ï¼› ''' \"EngineModelType\": \"16k_zh\", ''' è¯†åˆ«å£°é“æ•°ã€‚æ³¨æ„ï¼šå½•éŸ³è¯†åˆ«ä¼šè‡ªåŠ¨å°†éŸ³é¢‘è½¬ç ä¸ºå¡«å†™çš„è¯†åˆ«å£°é“æ•° 1ï¼šå•å£°é“ï¼› 2ï¼šåŒå£°é“ï¼ˆä»…æ”¯æŒ 8k_zh å¼•æ“æ¨¡ï¼‰ã€‚ ''' \"ChannelNum\": 1, ''' è¯†åˆ«ç»“æœè¿”å›å½¢å¼ã€‚ 0ï¼š è¯†åˆ«ç»“æœæ–‡æœ¬(å«åˆ†æ®µæ—¶é—´æˆ³)ï¼› 1ï¼šè¯çº§åˆ«ç²’åº¦çš„è¯¦ç»†è¯†åˆ«ç»“æœ(ä¸å«æ ‡ç‚¹ï¼Œå«è¯­é€Ÿå€¼)ï¼› 2ï¼šè¯çº§åˆ«ç²’åº¦çš„è¯¦ç»†è¯†åˆ«ç»“æœï¼ˆåŒ…å«æ ‡ç‚¹ã€è¯­é€Ÿå€¼ï¼‰ ''' \"ResTextFormat\": 0, ''' è¯­éŸ³æ•°æ®æ¥æºã€‚ 0ï¼šè¯­éŸ³ URLï¼› 1ï¼šè¯­éŸ³æ•°æ®ï¼ˆpost bodyï¼‰ã€‚ ''' \"SourceType\": 1, ''' è¯­éŸ³æ•°æ®ï¼Œå½“SourceType å€¼ä¸º1æ—¶å¿…é¡»å¡«å†™ï¼Œä¸º0å¯ä¸å†™ã€‚ è¦base64ç¼–ç (é‡‡ç”¨pythonè¯­è¨€æ—¶æ³¨æ„è¯»å–æ–‡ä»¶åº”è¯¥ä¸ºstringè€Œä¸æ˜¯byteï¼Œä»¥byteæ ¼å¼è¯»å–åè¦decode()ã€‚ ç¼–ç åçš„æ•°æ®ä¸å¯å¸¦æœ‰å›è½¦æ¢è¡Œç¬¦)ã€‚éŸ³é¢‘æ•°æ®è¦å°äº5MBã€‚ ''' \"Data\": Data } req.from_json_string(json.dumps(params)) resp = client.CreateRecTask(req) print(resp.to_json_string()) except TencentCloudSDKException as err: print(err) è¾“å‡º { \"Data\":{ \"TaskId\":1234567890 }, \"RequestId\":\"f1234567-89a4-1234-12d3-d56bdd9aac1a\" } è¯·æ±‚æˆåŠŸåï¼Œè¿”å›çš„ JSON ä¸­ Data -\u003e TaskId å°±æ˜¯æˆ‘ä»¬æ­¤æ¬¡ä¸Šä¼ ä»»åŠ¡çš„ ID ï¼Œéœ€è¦æ‹¿è¿™ä¸ª ID å»è½®è®­å¦ä¸€ä¸ªæ¥å£ï¼ŒæŸ¥è¯¢æ˜¯å¦æˆåŠŸã€‚ ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:6:2","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.2.3ã€æŸ¥è¯¢å½•éŸ³æ–‡ä»¶è¯†åˆ«ç»“æœ è…¾è®¯äº‘æä¾›çš„ API Explorer å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”Ÿæˆä»£ç å’Œå‚æ•°ï¼šhttps://console.cloud.tencent.com/api/explorer?Product=asr\u0026Version=2019-06-14\u0026Action=DescribeTaskStatus\u0026SignVersion= ç”¨ TaskID æŸ¥è¯¢è¯†åˆ«ç»“æœã€‚ import json from tencentcloud.common import credential from tencentcloud.common.profile.client_profile import ClientProfile from tencentcloud.common.profile.http_profile import HttpProfile from tencentcloud.common.exception.tencent_cloud_sdk_exception import TencentCloudSDKException from tencentcloud.asr.v20190614 import asr_client, models SecretId = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" SecretKey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" TaskId = 1234567890 try: cred = credential.Credential(SecretId, SecretKey) httpProfile = HttpProfile() httpProfile.endpoint = \"asr.tencentcloudapi.com\" clientProfile = ClientProfile() clientProfile.httpProfile = httpProfile client = asr_client.AsrClient(cred, \"\", clientProfile) req = models.DescribeTaskStatusRequest() params = { \"TaskId\": TaskId } req.from_json_string(json.dumps(params)) resp = client.DescribeTaskStatus(req) print(resp.to_json_string()) except TencentCloudSDKException as err: print(err) è¾“å‡ºï¼š { \"Data\":{ \"TaskId\":1234567890, \"Status\":2, \"StatusStr\":\"success\", \"Result\":\"[0:0.000,1:0.320] è¯†åˆ«ç»“æœã€‚\\n[1:0.320,2:0.360] è¯†åˆ«ç»“æœã€‚\\n[2:0.360,3:0.380] è¯†åˆ«ç»“æœã€‚\\n[3:0.380,4:0.400] è¯†åˆ«ç»“æœã€‚\\n[4:0.400,5:0.420] è¯†åˆ«ç»“æœã€‚\\n\", \"ErrorMsg\":\"\", \"ResultDetail\":null }, \"RequestId\":\"12345678-1234-1234-1234-b11234567890\" } ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:6:3","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.3ã€ä¸€å¥è¯è¯†åˆ«ï¼ˆV3ï¼‰ æ–‡æ¡£åœ°å€ï¼šhttps://cloud.tencent.com/document/product/1093/35646 API Explorerï¼šhttps://console.cloud.tencent.com/api/explorer?Product=asr\u0026Version=2019-06-14\u0026Action=SentenceRecognition\u0026SignVersion= ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:7:0","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.3.1ã€å®‰è£… Python SDK åœ¨ä½¿ç”¨å½•éŸ³æ–‡ä»¶è¯†åˆ«æ—¶ï¼Œéœ€è¦é€šè¿‡ pip æ–¹å¼å®‰è£…è…¾è®¯äº‘æä¾›çš„ Python ç‰ˆæœ¬ SDK: pip install --upgrade tencentcloud-sdk-python # ä¸­å›½å¤§é™†åœ°åŒºçš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨å›½å†…é•œåƒæºæé«˜ä¸‹è½½é€Ÿåº¦ pip install -i https://mirrors.tencent.com/pypi/simple/ --upgrade tencentcloud-sdk-pythonã€‚ ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:7:1","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾","Python"],"content":"2.3.2ã€æºç  å€ŸåŠ© API Explorer ç”Ÿæˆçš„æºç ï¼Œæˆ‘ä¿®æ”¹äº†ä¸€äº›ä¸œè¥¿ï¼š import json import base64 from tencentcloud.common import credential from tencentcloud.common.profile.client_profile import ClientProfile from tencentcloud.common.profile.http_profile import HttpProfile from tencentcloud.common.exception.tencent_cloud_sdk_exception import TencentCloudSDKException from tencentcloud.asr.v20190614 import asr_client, models SecretId = \"xxxxxxxxxxxxxxxxxxxxxxxxxx\" SecretKey = \"xxxxxxxxxxxxxxxxxxxxxxxxxx\" audio = \"./ä¸€å¥è¯å½•éŸ³.mp3\" # å°†å½•éŸ³è½¬ä¸ºå­—ç¬¦ä¸² Data = \"\" with open(audio, 'rb') as f: # è¯»å–éŸ³é¢‘æ•°æ® Data = f.read() Data = base64.b64encode(Data) Data = Data.decode() try: cred = credential.Credential(SecretId, SecretKey) httpProfile = HttpProfile() httpProfile.endpoint = \"asr.tencentcloudapi.com\" clientProfile = ClientProfile() clientProfile.httpProfile = httpProfile client = asr_client.AsrClient(cred, \"\", clientProfile) req = models.SentenceRecognitionRequest() params = { \"ProjectId\": 0, \"SubServiceType\": 2, \"EngSerViceType\": \"16k_zh\", \"SourceType\": 1, \"Data\": Data, \"VoiceFormat\": \"mp3\", \"UsrAudioKey\": \"uniqueKey-1\", } req.from_json_string(json.dumps(params)) resp = client.SentenceRecognition(req) print(resp.to_json_string()) except TencentCloudSDKException as err: print(err) è¾“å‡ºï¼š { \"Result\":\"ä¸€å¥è¯å½•éŸ³è¯†åˆ«å†…å®¹\", \"AudioDuration\":59996, \"WordSize\":0, \"WordList\":null, \"RequestId\":\"12345678-4307-46ae-1234-beb3eb051234\" } REF é•¿æ—¶é—´çš„ä¼šè®®å½•éŸ³å¦‚ä½•å¿«é€Ÿè½¬åŒ–æˆæ–‡å­—ï¼šhttps://www.zhihu.com/question/21552953 å¦‚ä½•ç”¨ffmpegä»mkvè§†é¢‘æ–‡ä»¶ä¸­æå–éŸ³é¢‘ï¼Ÿï¼šhttps://www.zhihu.com/question/420452079 ","date":"2021-07-17","objectID":"/posts/about-extract-copywriting-from-audio-or-video.html:7:2","series":null,"tags":["éŸ³é¢‘å¤„ç†","è¯­éŸ³è½¬æ–‡å­—","FFmpeg"],"title":"å…³äºéŸ³è§†é¢‘æ–‡æ¡ˆæå–","uri":"/posts/about-extract-copywriting-from-audio-or-video.html"},{"categories":["æŠ˜è…¾"],"content":"ä¸€é”®å‘å¸ƒæ–‡ç«  æœ¬æ“ä½œåªåœ¨ windows å¹³å°ä¸‹å®è·µè¿‡ï¼Œå…¶ä»–å¹³å°å¯è‡ªè¡Œå°è¯•ã€‚ å…ˆå®‰è£… git bash ï¼Œå®˜ç½‘ï¼šhttps://git-scm.com/downloads ç¡®å®š hugo åšå®¢çš„æ ¹ç›®å½•ï¼špublic çš„ä¸Šçº§ç›®å½•å°±æ˜¯ä½ åšå®¢çš„æ ¹ç›®å½•ï¼Œæˆ‘çš„æ ¹ç›®å½•æ˜¯ D:\\blog\\src D:\\BLOG\\SRC â”‚ config.toml â”œâ”€archetypes â”œâ”€assets â”œâ”€content â”œâ”€data â”œâ”€layouts â”œâ”€public â”œâ”€resources â”œâ”€static â””â”€themes å°† git ä»“åº“ï¼ˆxxx.github.ioï¼‰çš„ .git æ–‡ä»¶å¤¹å’Œ CNAME æ–‡ä»¶å¤åˆ¶ä¸€ä»½åˆ°åšå®¢æ ¹ç›®å½•çš„ public æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ public ç›®å½•æˆä¸ºä¸€ä¸ªä»“åº“ã€‚ é…ç½® git alias åˆ«åï¼Œè¿™é‡Œæˆ‘å°† git blog è¿™ä¸ªå‘½ä»¤ä½œä¸ºä»¥åæ—¥å¸¸ä¸€é”®éƒ¨ç½²çš„å‘½ä»¤ï¼Œæ³¨æ„ï¼Œæ­¤å¤„çš„åšå®¢æ ¹ç›®å½•ä¸è¦å¡«å†™é”™è¯¯ã€‚ git config --global alias.blog '!cd D:\\\\blog\\\\src;hugo;cd D:\\\\blog\\\\src\\\\public;git add .;git commit -m 'update';git push' ä»¥åå†™å¥½æ–‡ç« ä¹‹åï¼Œå°±å¯ä»¥åœ¨ä»»æ„ç›®å½•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼š git blog å³å¯ä¸€é”®æ¸²æŸ“ã€å¹¶æäº¤æ¨é€åˆ° github ä¸Šäº†ï¼Œé…åˆ git pages ä½¿ç”¨æ›´ä½³ã€‚ PSï¼šå¦‚æœéœ€è¦åŒæ—¶åŒæ­¥åˆ° Github å’Œ Gitee ï¼Œå¯ä»¥å‚è€ƒ https://zhuanlan.zhihu.com/p/341272233 ï¼Œå¹¶ä¿®æ”¹ git blog å¯¹åº”çš„å‘½ä»¤ã€‚ ","date":"2021-07-14","objectID":"/posts/hugo-one-click-deployment.html:0:0","series":null,"tags":["hugo"],"title":"hugo ä¸€é”®éƒ¨ç½²","uri":"/posts/hugo-one-click-deployment.html"},{"categories":[],"content":"WizeTree æ˜¯ä¸€æ¬¾ Windows å¹³å°ä¸‹çš„ç£ç›˜ç©ºé—´åˆ†æå™¨ã€‚ é€šè¿‡å¯è§†åŒ–ï¼ˆå›¾å½¢åŒ–ã€æ ‘å½¢åŒ–ï¼‰çš„å¸ƒå±€ï¼Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°åœ¨ä½ ç¡¬ç›˜ä¸Šå¤§çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ å†…ç½®æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ”¯æŒæŸ¥çœ‹æ–‡ä»¶æ ‘ã€æ–‡ä»¶å¤¹å¤§å°æ’åºã€æ–‡ä»¶ç±»å‹åˆ†æ wiztree ä½¿ç”¨ NTFS æ–‡ä»¶ç³»ç»Ÿçš„ MFT è¿›è¡Œæ–‡ä»¶åˆ†æ (ä¸è‘—åçš„è½¯ä»¶ everything åŸç†ç›¸åŒ) æ¯” spacesniffer çš„é€Ÿåº¦å¿«æ•°åå€ï¼Œå‡ ç§’é’Ÿå°±èƒ½å®Œæˆå…¨ç›˜æ–‡ä»¶å¤§å°åˆ†æã€‚ å®˜ç½‘ï¼šhttps://www.diskanalyzer.com/ é¢„è§ˆå›¾ ","date":"2021-07-14","objectID":"/posts/wiztree-the-fastest-disk-space-analyzer.html:0:0","series":null,"tags":["è½¯ä»¶"],"title":"WizTree - æœ€å¿«çš„ç£ç›˜ç©ºé—´åˆ†æå™¨","uri":"/posts/wiztree-the-fastest-disk-space-analyzer.html"},{"categories":null,"content":"ä¸€åæ™®é€šçš„ Java åç«¯æ”»åŸç‹®ã€‚ Technology stack PLï¼šJava / Php / Python / C++ DBï¼šMySQL / Redis OSï¼šLinux / Windows Server Email jaded@foxmail.com å¾®ä¿¡å…¬ä¼—å· ","date":"2021-07-13","objectID":"/about.html:0:0","series":null,"tags":null,"title":"About","uri":"/about.html"},{"categories":null,"content":"CrownDaisy said, Less is more. KeyBoardman said, å·²è¯†ä¹¾å¤å¤§ çŠ¹æ€œè‰æœ¨é’ã€‚ xiaoz said, ç”Ÿå‘½ä¸æ¯ï¼Œå¾å°†æŠ˜è…¾ä¸æ­¢ã€‚ é¦™è‡è‚¥ç‰› said, æˆ‘ä»¥å‰å¾ˆå–œæ¬¢åƒè¿™ç§é›¶é£Ÿã€‚ é’é˜³ã®Blog said, ä¸€ä¸ªçˆ±ç¢ç£¨çš„äººã€‚ ","date":"2021-07-13","objectID":"/friends.html:0:0","series":null,"tags":null,"title":"å‹é“¾ / æœ‹å‹ä»¬","uri":"/friends.html"},{"categories":["æŠ˜è…¾"],"content":"æœ‰äº›ç½‘é¡µä¸Šçš„è§†é¢‘æ˜¯åˆ†æˆå¤šä¸ª ts ç‰‡æ®µçš„ï¼Œæ— æ³•è¢« chromeçš„ å„ç§å—…æ¢å™¨æ’ä»¶æ•è·ï¼Œä½†é€šè¿‡ F12 å¼€å‘å·¥å…·ç›‘æµ‹ç½‘ç»œï¼ˆNetworkï¼‰æ—¶ï¼Œåœ¨è¿‡æ»¤å™¨ä¸­è¾“å…¥ m3u8ï¼Œå¯ä»¥å‘ç°ä¸€ä¸ªç‹¬ç«‹çš„ m3u8 æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯è®°å½•äº†æ‰€æœ‰ ts æ–‡ä»¶ç‰‡æ®µçš„ä¸€ä¸ªæ’­æ”¾åˆ—è¡¨ã€‚ æ–‡ä»¶å†…å®¹å¤§è‡´åƒè¿™æ ·ï¼š å¦‚æœæ²¡æœ‰å‘ç°ç‹¬ç«‹çš„ m3u8 æ–‡ä»¶ï¼Œæœ‰å¯èƒ½æ¯ä¸€ä¸ª ts æ–‡ä»¶çš„åœ°å€ä¸­ä¹Ÿæ˜¯å«æœ‰è¿™ä¸ª m3u8 æ–‡ä»¶çš„åç§°çš„ã€‚æŠŠè¿™ä¸ª m3u8 æ–‡ä»¶çš„å®Œæ•´åœ°å€æˆªå–å‡ºæ¥ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘å°±ä¸å…·ä½“ä¸¾ä¾‹äº†ï¼Œå› ä¸ºæˆ‘è¿˜æ²¡é‡åˆ°è¿‡ã€‚ åˆ° header tab é‡Œï¼Œå¤åˆ¶ä¸€ä¸‹è¿™ä¸ª m3u8 æ–‡ä»¶çš„å®Œæ•´ url ï¼Œç”»çº¢çº¿çš„è¿™éƒ¨åˆ†å°±æ˜¯ã€‚ å‡è®¾è¿™ä¸ªåœ°å€æ˜¯ï¼šhttps://xxx.abc.com/xxx/a.m3u8 å¯ä»¥ä½¿ç”¨ffmpegï¼ˆFFmpegï¼‰å‘½ä»¤ä¸‹è½½åˆå¹¶è¾“å‡ºä¸ºä¸€ä¸ªè§†é¢‘æ–‡ä»¶ ffmpeg -i https://xxx.abc.com/xxx/a.m3u8 -c copy output.mp4 ","date":"2021-07-13","objectID":"/posts/how-to-download-ts-streaming-video.html:0:0","series":null,"tags":["æµåª’ä½“","FFmpeg"],"title":"å¦‚ä½•ä¸‹è½½ ts æµåª’ä½“è§†é¢‘","uri":"/posts/how-to-download-ts-streaming-video.html"},{"categories":["Python"],"content":"é—®é¢˜ï¼šæœ‰äº›æ‰¹é‡ä¸‹è½½çš„è§†é¢‘ä¼šå¸¦å›ºå®šå‰ç¼€ï¼Œåœ¨è§†é¢‘æ’­æ”¾å™¨çš„æ’­æ”¾åˆ—è¡¨é‡Œæ˜¾ç¤ºéå¸¸ä¸å‹å¥½ã€‚ åœºæ™¯ï¼šåœ¨ â€œD:\\çºªå½•ç‰‡\\ä¸­å›½é€šå²â€ è·¯å¾„ä¸‹æœ‰ 100 é›†è§†é¢‘æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½å¸¦æœ‰å›ºå®šå‰ç¼€ â€œwww.baidu.com å‡ºå“ å¾®ä¿¡å…¬ä¼—å· xxxâ€ å­—æ ·ã€‚ æºç  RemoveFixedPrefix.py ï¼Œå› ä¸ºæºç ä½¿ç”¨äº† python fstring çš„ç‰¹æ€§ï¼Œéœ€è¦åœ¨ python \u003e= 3.6 çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨ã€‚ # coding=utf-8 import os # ç›®æ ‡è·¯å¾„ srcPath = \"D:\\çºªå½•ç‰‡\\ä¸­å›½é€šå²\" fileList = os.listdir(srcPath) # å›ºå®šå‰ç¼€ FixedPrefix = \"www.baidu.comå‡ºå“ å¾®ä¿¡å…¬ä¼—å·xxx\" for fileName in fileList: oldFilePath = f\"{srcPath}/{fileName}\" # è·³è¿‡ç›®å½• if os.path.isdir(oldFilePath): continue newFileName = fileName.replace(FixedPrefix, \"\") newFilePath = f\"{srcPath}/{newFileName}\" try: os.rename(oldFilePath, newFilePath) except Exception as e: print(e) print(newFileName) ","date":"2021-06-21","objectID":"/posts/batch-file-fixed-prefix-removal-using-python.html:0:0","series":null,"tags":[],"title":"Python æ‰¹é‡å»é™¤æ–‡ä»¶å›ºå®šå‰ç¼€","uri":"/posts/batch-file-fixed-prefix-removal-using-python.html"},{"categories":["PHP"],"content":"ç»“è®ºæ¨å¯¼ ä¸€ã€ç»“è®º # æœ€æ–¹ä¾¿ echo strtotime('23:59:59') - time(); #æœ€å¿« echo 86400 - (time() + 28800) % 86400; äºŒã€æ¨å¯¼è¿‡ç¨‹ ç”¨ 86400 å‡å»ä»Šå¤©å·²ç»è¿‡å»äº†å¤šå°‘ç§’ï¼Œå³å¯æ±‚å¾—ä»Šå¤©è¿˜å‰©å¤šå°‘ç§’ã€‚ 86400=24*3600ï¼Œå³ä¸€å¤©çš„æ€»ç§’æ•°ã€‚ 28800=8*3600ï¼Œå³ 8 ä¸ªå°æ—¶çš„æ€»ç§’æ•°ã€‚ å½“å‰æ—¶é—´æˆ³å–æ¨¡ 86400 å¹¶ä¸æ˜¯ä»Šå¤©å·²ç»è¿‡å»äº†å¤šå°‘ç§’ï¼Œå› ä¸ºæ—¶é—´æˆ³èµ·å§‹æ—¶é—´å¹¶ä¸æ˜¯ 0 ç‚¹ï¼Œè€Œæ˜¯ 8 ç‚¹æ•´ã€‚æ‰€ä»¥ï¼Œå¦‚æœå½“å‰æ˜¯æ—©ä¸Š 8 ç‚¹æ•´ï¼Œå–æ¨¡ 86400 åä¼šç­‰äº 0ï¼Œä¸æˆ‘ä»¬çš„æœ¬æ„ä¸ç¬¦ï¼ˆæ±‚ä»Šå¤©å·²ç»è¿‡å»äº†å¤šå°‘ç§’ï¼‰ã€‚ å› æ­¤ï¼Œè¦ç”¨å½“å‰æ—¶é—´æˆ³åŠ ä¸Š 8 ä¸ªå°æ—¶çš„æ€»ç§’æ•°åå†å–æ¨¡ 86400ï¼Œå³å¯æ±‚å¾—ä»Šå¤©è¿‡å»äº†å¤šå°‘ç§’ã€‚ ç»“è®ºæ˜¯ç”±ä¸‹é¢çš„ç®—æ³•ç®€åŒ–åå¾—åˆ°çš„ï¼š 86400 - (time() + 8 * 3600) % 86400 ä¸‰ã€REF https://segmentfault.com/a/1190000019844608 ","date":"2021-01-12","objectID":"/posts/how-to-use-php-to-calculate-the-number-of-seconds-left-in-the-day.html:0:0","series":null,"tags":[],"title":"PHPè®¡ç®—å½“å¤©å‰©ä½™ç§’æ•°æœ€æ–¹ä¾¿å’Œæœ€å¿«çš„æ–¹æ³•","uri":"/posts/how-to-use-php-to-calculate-the-number-of-seconds-left-in-the-day.html"},{"categories":["Python"],"content":"æ­¤å‰å†™è¿‡ä¸€ç¯‡åŸºäº BeautifulSoup åº“å¼€å‘çš„ demoï¼Œè¿™æ¬¡ç”¨ xpath å†™ã€‚ æºç  # -*- coding:utf-8 -*- # import requests from lxml import etree def get_headers(): headers = {} headers[\"content-type\"] = \"text/html;\" headers[ \"user-agent\"] = \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36\" headers[\"host\"] = \"top.baidu.com\" return headers url = 'http://top.baidu.com/buzz?b=1' response = requests.get(url, headers=get_headers()) response.encoding = 'gbk' html = response.text if response.status_code != 200: print(f'è¿”å›çŠ¶æ€ç ï¼š{response.status_code}') exit(0) # è°ƒç”¨HTMLç±»è¿›è¡Œåˆå§‹åŒ– html = etree.HTML(html) # æå–è¯¥é¡µé¢æ‰€æœ‰æ ‡é¢˜ result_all = html.xpath('//*[@id=\"main\"]/div[2]/div/table/tr/td[2]/a[1]') # æ‰“å°æ‰€æœ‰æå–å‡ºçš„æ–°é—»æ ‡é¢˜ for v in result_all: print(v.text) åœ¨å¼€å‘æ—¶é‡åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„å‘ï¼Œå¦‚æœä½ æµ‹è¯•æ—¶ä½¿ç”¨æµè§ˆå™¨å¤åˆ¶çš„çƒ­ç‚¹æ ‡é¢˜çš„ title xpathï¼Œä½ ä¼šå‘ç°è·å–ä¸åˆ°æ ‡é¢˜ã€‚ä½ åªéœ€è¦æŠŠ tbody æ ‡ç­¾å»æ‰ï¼Œå°±å¯ä»¥æ­£å¸¸è·å–åˆ°æ ‡é¢˜äº†ã€‚ è¾“å‡º 31çœæ–°å¢æœ¬åœŸç—…ä¾‹85ä¾‹:æ²³åŒ—82ä¾‹ ä½©æ´›è¥¿:ä¼—è®®é™¢å°†ç¬¬äºŒæ¬¡å¼¹åŠ¾ç‰¹æœ—æ™® æ²³åŒ—æ–°å¢49ä¾‹æœ¬åœ°æ— ç—‡çŠ¶æ„ŸæŸ“è€… é‡‘æ­£æ©è¢«æ¨ä¸¾ä¸ºæœé²œåŠ³åŠ¨å…šæ€»ä¹¦è®° åŒ—äº¬æ–°å¢1ä¾‹ç¡®è¯Š 4ä¾‹æ— ç—‡çŠ¶æ„ŸæŸ“è€… ç™¾åº¦å®£å¸ƒç»„å»ºæ™ºèƒ½æ±½è½¦å…¬å¸ ç¾å‘ç”Ÿè¿ç¯æªå‡»æ¡ˆ ä¸€ç•™å­¦ç”Ÿèº«äº¡ æ—¥æœ¬å‘ç°æ–°å‹å˜å¼‚æ–°å† ç—…æ¯’ æ­»åˆ‘!æ›¾æ˜¥äº®æ¡ˆä¸€å®¡å®£åˆ¤ é’è—é«˜åŸäº‘å—ç­‰åœ°é™æ¸©é›¨é›ªæ¥äº† æ‹¼å¤šå¤šå›åº”å‘˜å·¥åŒ¿åå‘å¸–è¢«è¾é€€ çŸ³å®¶åº„æ–°å¢ç¡®è¯Šæ›¾å»è¿‡æ­¦æ±‰æ±‰æ­£è¡— å‰æ—æ–°å¢4ä¾‹æœ¬åœŸæ— ç—‡çŠ¶:2å¯¹å¤«å¦» è¢å’ä»ª é€åŒ…ç»™æˆ‘æ˜¯å¼ æ™ºéœ–çš„ç¦åˆ† å®‹å°å¥³:è¿™ä¸ªç»“å±€ä¹ŸæŒºå¥½ 2020å¹´CPIè¾ƒä¸Šå¹´ä¸Šæ¶¨2.5% å…¨æ£‰æ—¶ä»£é“æ­‰ç–‘ä¼¼æ‰“å¹¿å‘Š éŸ©åª’:éŸ©å†›å‘ç°æœé²œä¸¾è¡Œé˜…å…µå¼è¿¹è±¡ å›½ä¼šéªšä¹±åç‰¹æœ—æ™®æ²¡è”ç³»è¿‡å½­æ–¯ å¤©æ´¥å¤„ç½šè¿‡é©¬è·¯çš„ä½å¤´æ— è¢«æ”¾ç”Ÿç§ƒé¹«èµ–è­¦å±€æ¯å¤©ä¼™é£Ÿè´¹150 æ¯”ç‰¹å¸æš´è·Œè¶…10% 20å²å°å§å§å½“æ±½è½¦å…µé©°éª‹å·è—çº¿ åŒ—äº¬ä¹˜å‡ºç§Ÿè½¦ç½‘çº¦è½¦éœ€æ‰«å¥åº·å® ç½‘ä¸Šä¹°èœè«åè¢«å¼€é€šç¾å›¢æœˆä»˜ è‡ªä½é£é™©åŒºè¿”ä¹¡è¦æ£€æµ‹?å¤šåœ°å‡ºé€šçŸ¥ è½¦å˜å­ä»·æ ¼è…°æ–© å±±ä¸œé•¿å²›æµ·è¾¹ç°å†°å†»å¥‡è§‚ä¼¼é¸³é¸¯é”… æ­¦æ±‰å‘çŸ³å®¶åº„æèµ 50å¨è”¬èœ åº·è¾‰è¯´å’Œ21å²æœ€å¤§å·®åˆ«æ˜¯è„¸çš„å®½åº¦ REF https://blog.csdn.net/qq_36523839/article/details/79992002 ","date":"2021-01-11","objectID":"/posts/python-get-baidu-live-hotspot.html:0:0","series":null,"tags":[],"title":"Python çˆ¬å–ç™¾åº¦å®æ—¶çƒ­ç‚¹","uri":"/posts/python-get-baidu-live-hotspot.html"},{"categories":["Linux"],"content":"åœ¨é«˜å¹¶å‘çŸ­è¿æ¥çš„ TCP æœåŠ¡å™¨ä¸Šï¼Œå½“æœåŠ¡å™¨å¤„ç†å®Œè¯·æ±‚åç«‹åˆ»ä¸»åŠ¨æ­£å¸¸å…³é—­è¿æ¥ã€‚è¿™ä¸ªåœºæ™¯ä¸‹ä¼šå‡ºç°å¤§é‡ socket å¤„äº TIME_WAIT çŠ¶æ€ã€‚å¦‚æœå®¢æˆ·ç«¯çš„å¹¶å‘é‡æŒç»­å¾ˆé«˜ï¼Œæ­¤æ—¶éƒ¨åˆ†å®¢æˆ·ç«¯å°±ä¼šæ˜¾ç¤ºè¿æ¥ä¸ä¸Šã€‚ é«˜å¹¶å‘å¯ä»¥è®©æœåŠ¡å™¨åœ¨çŸ­æ—¶é—´èŒƒå›´å†…åŒæ—¶å ç”¨å¤§é‡ç«¯å£ï¼Œè€Œç«¯å£æœ‰ä¸ª 0~65535 çš„èŒƒå›´ï¼Œå¹¶ä¸æ˜¯å¾ˆå¤šï¼Œåˆ¨é™¤ç³»ç»Ÿå’Œå…¶ä»–æœåŠ¡è¦ç”¨çš„ï¼Œå‰©ä¸‹çš„å°±æ›´å°‘äº†ã€‚ åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼ŒçŸ­è¿æ¥è¡¨ç¤º â€œä¸šåŠ¡å¤„ç† + ä¼ è¾“æ•°æ®çš„æ—¶é—´ è¿œè¿œå°äº TIMEWAIT è¶…æ—¶çš„æ—¶é—´â€ çš„è¿æ¥ã€‚Linux é»˜è®¤çš„ TIME_WAIT æ—¶é•¿ä¸€èˆ¬æ˜¯ 60 ç§’ã€‚ æŸ¥çœ‹é»˜è®¤ timewait æ—¶é•¿ cat /proc/sys/net/ipv4/tcp_fin_timeout æŸ¥çœ‹è¿æ¥çŠ¶æ€ç»Ÿè®¡ netstat -an | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}' ä¼˜åŒ–å†…æ ¸å‚æ•° vim /etc/sysctl.conf #è¿½åŠ å†…å®¹ net.ipv4.tcp_syncookies = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_tw_recycle = 1 net.ipv4.tcp_fin_timeout = 30 é‡Šä¹‰ å¼€å¯ SYN Cookiesã€‚å½“å‡ºç° SYN ç­‰å¾…é˜Ÿåˆ—æº¢å‡ºæ—¶ï¼Œå¯ç”¨ cookies æ¥å¤„ç†ï¼Œå¯é˜²èŒƒå°‘é‡ SYN æ”»å‡»ï¼Œé»˜è®¤ä¸º 0ï¼Œè¡¨ç¤ºå…³é—­ã€‚ net.ipv4.tcp_syncookies = 1 å¼€å¯é‡ç”¨ã€‚å…è®¸å°† TIME-WAIT sockets é‡æ–°ç”¨äºæ–°çš„ TCP è¿æ¥ï¼Œé»˜è®¤ä¸º 0ï¼Œè¡¨ç¤ºå…³é—­ã€‚ net.ipv4.tcp_tw_reuse = 1 å¼€å¯ TCP è¿æ¥ä¸­ TIME-WAIT sockets çš„å¿«é€Ÿå›æ”¶ï¼Œé»˜è®¤ä¸º 0ï¼Œè¡¨ç¤ºå…³é—­ã€‚ net.ipv4.tcp_tw_recycle = 1 ä¿®æ”¹ç³»çµ±é»˜è®¤çš„ TIMEOUT æ—¶é—´ï¼ˆFIN_WAIT_2 çŠ¶æ€çš„æ—¶é•¿ï¼‰ net.ipv4.tcp_fin_timeout REF https://www.cnblogs.com/apanly/p/12431902.html https://zhuanlan.zhihu.com/p/79507132 ","date":"2021-01-03","objectID":"/posts/how-to-resolve-a-large-number-of-tcp-connections-with-time_wait-status.html:0:0","series":null,"tags":[],"title":"Linux æœåŠ¡å™¨å‡ºç°å¤§é‡ TIME_WAIT çŠ¶æ€çš„è¿æ¥","uri":"/posts/how-to-resolve-a-large-number-of-tcp-connections-with-time_wait-status.html"},{"categories":["PHP"],"content":"æ— é™çº§åˆ†ç±»æ ‘ç”Ÿæˆå¯ä»¥ä½¿ç”¨é€’å½’æˆ–å¼•ç”¨å®ç°ï¼Œä½†é€’å½’æ•ˆç‡å¤ªæ…¢ï¼Œä½¿ç”¨å¼•ç”¨ç‰¹æ€§å®ç°ä¼šæ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼ã€‚ æºç  public function test() { // åˆå§‹æ•°æ® $items = array( array('id' =\u003e 1, 'pid' =\u003e 0, 'name' =\u003e 'ç¦å»ºçœ'), array('id' =\u003e 2, 'pid' =\u003e 0, 'name' =\u003e 'å››å·çœ'), array('id' =\u003e 3, 'pid' =\u003e 1, 'name' =\u003e 'ç¦å·å¸‚'), array('id' =\u003e 4, 'pid' =\u003e 2, 'name' =\u003e 'æˆéƒ½å¸‚'), array('id' =\u003e 5, 'pid' =\u003e 2, 'name' =\u003e 'ä¹å±±å¸‚'), array('id' =\u003e 6, 'pid' =\u003e 4, 'name' =\u003e 'æˆååŒº'), array('id' =\u003e 7, 'pid' =\u003e 4, 'name' =\u003e 'é¾™æ³‰é©¿åŒº'), array('id' =\u003e 8, 'pid' =\u003e 6, 'name' =\u003e 'å´”å®¶åº—è·¯'), array('id' =\u003e 9, 'pid' =\u003e 7, 'name' =\u003e 'é¾™éƒ½å—è·¯'), array('id' =\u003e 10, 'pid' =\u003e 8, 'name' =\u003e 'Aåº—é“º'), array('id' =\u003e 11, 'pid' =\u003e 9, 'name' =\u003e 'Båº—é“º'), array('id' =\u003e 12, 'pid' =\u003e 8, 'name' =\u003e 'Cåº—é“º'), array('id' =\u003e 13, 'pid' =\u003e 1, 'name' =\u003e 'æ³‰å·å¸‚'), array('id' =\u003e 14, 'pid' =\u003e 13, 'name' =\u003e 'å—å®‰å¿'), array('id' =\u003e 15, 'pid' =\u003e 13, 'name' =\u003e 'æƒ å®‰å¿'), array('id' =\u003e 16, 'pid' =\u003e 14, 'name' =\u003e 'Aé•‡'), array('id' =\u003e 17, 'pid' =\u003e 14, 'name' =\u003e 'Bé•‡'), array('id' =\u003e 18, 'pid' =\u003e 16, 'name' =\u003e 'Aæ‘'), array('id' =\u003e 19, 'pid' =\u003e 16, 'name' =\u003e 'Bæ‘'), ); // æ ¹æ®åˆå§‹æ•°æ®ï¼Œç”Ÿæˆä¸€ä¸ªä»¥ id ä¸º key/ä¸‹æ ‡ çš„æ•°ç»„ï¼Œæ–¹ä¾¿æ ¹æ® pid åˆ¤æ–­æ˜¯å¦å­˜åœ¨çˆ¶çº§å…ƒç´ ã€‚ $items = array_column($items,null,'id'); //ä½¿ç”¨ php çš„ \u0026 å¼•ç”¨ç‰¹æ€§ï¼Œéå†ä¸€æ¬¡å¾ªç¯å³å¯ç”Ÿæˆæ— é™çº§åˆ†ç±»æ ‘ã€‚ï¼ˆå…¶ä»–é«˜çº§è¯­è¨€ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„ç‰¹æ€§ï¼Œè¯¸å¦‚ C++ çš„æŒ‡é’ˆå’Œ JAVA çš„å¼•ç”¨ï¼‰ $tree = []; foreach ($items as $item) { $id = $item['id']; $pid = $item['pid']; if (isset($items[$pid])) $items[$pid]['children'][] = \u0026$items[$id]; else $tree[] = \u0026$items[$id]; } $this-\u003esuccess('ok',$tree); } è¾“å‡º { \"code\": 1, \"msg\": \"ok\", \"data\": [ { \"id\": 1, \"pid\": 0, \"name\": \"ç¦å»ºçœ\", \"children\": [ { \"id\": 3, \"pid\": 1, \"name\": \"ç¦å·å¸‚\" }, { \"id\": 13, \"pid\": 1, \"name\": \"æ³‰å·å¸‚\", \"children\": [ { \"id\": 14, \"pid\": 13, \"name\": \"å—å®‰å¿\", \"children\": [ { \"id\": 16, \"pid\": 14, \"name\": \"Aé•‡\", \"children\": [ { \"id\": 18, \"pid\": 16, \"name\": \"Aæ‘\" }, { \"id\": 19, \"pid\": 16, \"name\": \"Bæ‘\" } ] }, { \"id\": 17, \"pid\": 14, \"name\": \"Bé•‡\" } ] }, { \"id\": 15, \"pid\": 13, \"name\": \"æƒ å®‰å¿\" } ] } ] }, { \"id\": 2, \"pid\": 0, \"name\": \"å››å·çœ\", \"children\": [ { \"id\": 4, \"pid\": 2, \"name\": \"æˆéƒ½å¸‚\", \"children\": [ { \"id\": 6, \"pid\": 4, \"name\": \"æˆååŒº\", \"children\": [ { \"id\": 8, \"pid\": 6, \"name\": \"å´”å®¶åº—è·¯\", \"children\": [ { \"id\": 10, \"pid\": 8, \"name\": \"Aåº—é“º\" }, { \"id\": 12, \"pid\": 8, \"name\": \"Cåº—é“º\" } ] } ] }, { \"id\": 7, \"pid\": 4, \"name\": \"é¾™æ³‰é©¿åŒº\", \"children\": [ { \"id\": 9, \"pid\": 7, \"name\": \"é¾™éƒ½å—è·¯\", \"children\": [ { \"id\": 11, \"pid\": 9, \"name\": \"Båº—é“º\" } ] } ] } ] }, { \"id\": 5, \"pid\": 2, \"name\": \"ä¹å±±å¸‚\" } ] } ] ","date":"2020-12-16","objectID":"/posts/infinite-level-classification-tree-based-on-php-reference-feature.html:0:0","series":null,"tags":[],"title":"PHPåŸºäºå¼•ç”¨ç‰¹æ€§å®ç°çš„æ— é™çº§åˆ†ç±»æ ‘","uri":"/posts/infinite-level-classification-tree-based-on-php-reference-feature.html"},{"categories":["Linux"],"content":"Systemd æœåŠ¡æ˜¯ä¸€ç§ä»¥ .service ç»“å°¾çš„å•å…ƒï¼ˆunitï¼‰é…ç½®æ–‡ä»¶ï¼Œç”¨äºæ§åˆ¶ç”± Systemd æ§åˆ¶æˆ–ç›‘è§†çš„è¿›ç¨‹ã€‚ç®€å•è¯´ï¼Œç”¨äºåå°ä»¥å®ˆæŠ¤ç²¾çµï¼ˆdaemonï¼‰çš„å½¢å¼è¿è¡Œç¨‹åºã€‚Systemd å¹¿æ³›åº”ç”¨äºæ–°ç‰ˆæœ¬çš„ RHELã€SUSE Linux Enterpriseã€CentOSã€Fedora å’Œ openSUSE ä¸­ï¼Œç”¨äºæ›¿ä»£æ—§æœ‰çš„æœåŠ¡ç®¡ç†å™¨ serviceã€‚ ä¸€ã€å¦‚ä½•åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼Ÿ è¿™é‡Œå‡è®¾ä½ å·²ç»è‡ªè¡Œç¼–è¯‘å®‰è£…å¥½äº† nginxï¼Œä¸‹é¢æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª nginx.service æ–‡ä»¶ vi /etc/systemd/system/nginx.service å†…å®¹å¦‚ä¸‹ï¼š [Unit] Description=Nginx - high performance web server After=network.target [Service] Type=forking ExecStart=/usr/local/nginx/sbin/nginx ExecReload=/usr/local/nginx/sbin/nginx -s reload ExecStop=/usr/local/nginx/sbin/nginx -s stop [Install] WantedBy=multi-user.target é‡æ–°åŠ è½½æœåŠ¡é…ç½®æ–‡ä»¶ï¼Œä½¿åˆ›å»ºçš„ nginx æœåŠ¡ç”Ÿæ•ˆï¼š systemctl daemon-reload è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨ Systemd çš„æ–¹å¼æ¥ç®¡ç† nginx äº†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š #å¯åŠ¨nginx systemctl start nginx #é‡è½½nginx systemctl reload nginx #åœæ­¢nginx systemctl stop nginx #é‡å¯nginx systemctl restart nginx #å¦‚æœéœ€è¦å¼€æœºå¯åŠ¨ systemctl enable nginx #å¦‚æœéœ€è¦å–æ¶ˆå¼€æœºå¯åŠ¨ systemctl disable nginx äºŒã€å…³äº Systemd æœåŠ¡ Systemd æœåŠ¡çš„å†…å®¹ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œæ§åˆ¶å•å…ƒï¼ˆunitï¼‰çš„å®šä¹‰ã€æœåŠ¡ï¼ˆserviceï¼‰çš„å®šä¹‰ã€ä»¥åŠå®‰è£…ï¼ˆinstallï¼‰çš„å®šä¹‰ã€‚ ","date":"2020-12-01","objectID":"/posts/how-to-create-a-linux-systemd-service.html:0:0","series":null,"tags":[],"title":"å¦‚ä½•ç¼–å†™ä¸€ä¸ª Linux Systemd Serviceï¼Ÿ","uri":"/posts/how-to-create-a-linux-systemd-service.html"},{"categories":["Linux"],"content":"2.1ã€æ§åˆ¶å•å…ƒ unit ä»ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬çœ‹åˆ° Unit å†…å®¹å¦‚ä¸‹ï¼š [Unit] Description=Nginx - high performance web server After=network.target Descriptionï¼šä»£è¡¨æ•´ä¸ªå•å…ƒçš„æè¿°ï¼Œå¯æ ¹æ®éœ€è¦ä»»æ„å¡«å†™ã€‚ Before/Afterï¼šæŒ‡å®šå¯åŠ¨é¡ºåºã€‚ network.target ä»£è¡¨æœ‰ç½‘è·¯ï¼Œnetwork-online.target ä»£è¡¨ä¸€ä¸ªè¿é€šç€çš„ç½‘ç»œã€‚ ","date":"2020-12-01","objectID":"/posts/how-to-create-a-linux-systemd-service.html:1:0","series":null,"tags":[],"title":"å¦‚ä½•ç¼–å†™ä¸€ä¸ª Linux Systemd Serviceï¼Ÿ","uri":"/posts/how-to-create-a-linux-systemd-service.html"},{"categories":["Linux"],"content":"2.2ã€æœåŠ¡æœ¬ä½“ service [Service] Type=forking ExecStart=/usr/local/nginx/sbin/nginx ExecReload=/usr/local/nginx/sbin/nginx -s reload ExecStop=/usr/local/nginx/sbin/nginx -s stop Type: æœåŠ¡çš„ç±»å‹ï¼Œå„ç§ç±»å‹çš„åŒºåˆ«å¦‚ä¸‹æ‰€ç¤º simpleï¼šé»˜è®¤ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æœåŠ¡ç±»å‹ã€‚æ„æ€å°±æ˜¯è¯´å¯åŠ¨çš„ç¨‹åºå°±æ˜¯ä¸»ä½“ç¨‹åºï¼Œè¿™ä¸ªç¨‹åºè¦æ˜¯é€€å‡ºé‚£ä¹ˆä¸€åˆ‡çš†ä¼‘ã€‚ forkingï¼šæ ‡å‡† Unix Daemon ä½¿ç”¨çš„å¯åŠ¨æ–¹å¼ã€‚å¯åŠ¨ç¨‹åºåä¼šè°ƒç”¨ fork () å‡½æ•°ï¼ŒæŠŠå¿…è¦çš„é€šä¿¡é¢‘é“éƒ½è®¾ç½®å¥½ä¹‹åçˆ¶è¿›ç¨‹é€€å‡ºï¼Œç•™ä¸‹å®ˆæŠ¤ç²¾çµçš„å­è¿›ç¨‹ã€‚ oneshotï¼šé€‚ç”¨äºé‚£äº›è¢«ä¸€æ¬¡æ€§æ‰§è¡Œçš„ä»»åŠ¡æˆ–è€…å‘½ä»¤ï¼Œå®ƒè¿è¡Œå®Œæˆåä¾¿äº†æ— ç—•è¿¹ã€‚å› ä¸ºè¿™ç±»æœåŠ¡è¿è¡Œå®Œå°±æ²¡æœ‰ä»»ä½•ç—•è¿¹ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ä½¿ç”¨ RemainAfterExit=yesã€‚æ„æ€æ˜¯è¯´ï¼Œå³ä½¿æ²¡æœ‰è¿›ç¨‹å­˜åœ¨ï¼ŒSystemd ä¹Ÿè®¤ä¸ºè¯¥æœåŠ¡å¯åŠ¨æˆåŠŸäº†ã€‚åŒæ—¶åªæœ‰è¿™ç§ç±»å‹æ”¯æŒå¤šæ¡å‘½ä»¤ï¼Œå‘½ä»¤ä¹‹é—´ç”¨ï¼›åˆ†å‰²ï¼Œå¦‚éœ€æ¢è¡Œå¯ä»¥ç”¨ \\ã€‚ dbusï¼šè¿™ä¸ªç¨‹åºå¯åŠ¨æ—¶éœ€è¦è·å–ä¸€å— DBus ç©ºé—´ï¼Œæ‰€ä»¥éœ€è¦å’Œ BusName= ä¸€èµ·ç”¨ã€‚åªæœ‰å®ƒæˆåŠŸè·å¾—äº† DBus ç©ºé—´ï¼Œä¾èµ–å®ƒçš„ç¨‹åºæ‰ä¼šè¢«å¯åŠ¨ã€‚ ExecStartï¼šåœ¨è¾“å…¥çš„å‘½ä»¤æ˜¯ start æ—¶å€™æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿™é‡Œçš„å‘½ä»¤å¯åŠ¨çš„ç¨‹åºå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ä½ å¿…é¡»ç”¨ /sbin/arp è€Œä¸èƒ½ç®€å•çš„ä»¥ç¯å¢ƒå˜é‡ç›´æ¥ä½¿ç”¨ arpã€‚ ExecStopï¼šåœ¨è¾“å…¥çš„å‘½ä»¤æ˜¯ stop æ—¶å€™æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¦æ±‚åŒä¸Šã€‚ ExecReloadï¼šè¿™ä¸ªä¸æ˜¯å¿…éœ€ï¼Œå¦‚æœä¸å†™åˆ™ä½ çš„ service å°±ä¸æ”¯æŒ restart å‘½ä»¤ã€‚ExecStart å’Œ ExecStop æ˜¯å¿…é¡»è¦æœ‰çš„ã€‚ ","date":"2020-12-01","objectID":"/posts/how-to-create-a-linux-systemd-service.html:2:0","series":null,"tags":[],"title":"å¦‚ä½•ç¼–å†™ä¸€ä¸ª Linux Systemd Serviceï¼Ÿ","uri":"/posts/how-to-create-a-linux-systemd-service.html"},{"categories":["Linux"],"content":"2.3ã€å®‰è£…éƒ¨åˆ† install [Install] WantedBy=multi-user.target WantedByï¼šè¿è¡Œçº§åˆ« / è®¾ç½®æœåŠ¡è¢«è°è£…è½½ï¼Œä¸€èˆ¬è®¾ç½®ä¸º multi-user.targetï¼ˆä» Centos7 ä»¥å bai é‡‡ç”¨ target æ¦‚å¿µæ¥å®šä¹‰è¿è¡Œçº§åˆ«ï¼Œmulti-user.target æ˜¯ç¬¬ä¸‰çº§åˆ«ï¼‰ ","date":"2020-12-01","objectID":"/posts/how-to-create-a-linux-systemd-service.html:3:0","series":null,"tags":[],"title":"å¦‚ä½•ç¼–å†™ä¸€ä¸ª Linux Systemd Serviceï¼Ÿ","uri":"/posts/how-to-create-a-linux-systemd-service.html"},{"categories":["Linux"],"content":"2.4ã€å­˜æ”¾çš„ä½ç½® Systemd Service ä½äº /etc/systemd/systemï¼ˆä¾›ç³»ç»Ÿç®¡ç†å‘˜å’Œç”¨æˆ·ä½¿ç”¨ï¼‰ï¼Œ/usr/lib/systemd/systemï¼ˆä¾›å‘è¡Œç‰ˆæ‰“åŒ…è€…ä½¿ç”¨ï¼‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å‰è€…å³å¯ã€‚ 3ã€æ€»ç»“ Systemd Service æ˜¯ä¸€ç§æ›¿ä»£ /etc/init.d/ ä¸‹è„šæœ¬çš„æ›´å¥½æ–¹å¼ï¼Œå®ƒå¯ä»¥çµæ´»çš„æ§åˆ¶ä½ ä»€ä¹ˆæ—¶å€™è¦å¯åŠ¨æœåŠ¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¹Ÿä¸ä¼šé€ æˆç³»ç»Ÿæ— æ³•å¯åŠ¨è¿›å…¥ç´§æ€¥æ¨¡å¼ã€‚æ‰€ä»¥å¦‚æœæƒ³è®¾ç½®ä¸€äº›å¼€æœºå¯åŠ¨çš„ä¸œè¥¿ï¼Œå¯ä»¥è¯•ç€å†™ Systemd Serviceã€‚å½“ç„¶äº†ï¼Œå‰ææ˜¯ä½ ä½¿ç”¨çš„ Linux å‘è¡Œç‰ˆæ˜¯æ”¯æŒå®ƒçš„æ‰è¡Œã€‚ REF https://www.xiaoz.me/archives/14458 https://segmentfault.com/a/1190000014740871 https://zh.opensuse.org/openSUSE:How_to_write_a_systemd_service ","date":"2020-12-01","objectID":"/posts/how-to-create-a-linux-systemd-service.html:4:0","series":null,"tags":[],"title":"å¦‚ä½•ç¼–å†™ä¸€ä¸ª Linux Systemd Serviceï¼Ÿ","uri":"/posts/how-to-create-a-linux-systemd-service.html"},{"categories":["Linux"],"content":"è¿æ¥å›½å¤–æˆ–å†…ç½‘ centos7 ä¸»æœºæ—¶å‘ç°ä¼šå› ä¸º DNS çš„é—®é¢˜é€ æˆ SSH è¿æ¥é€Ÿåº¦æ…¢ã€‚ SSH ç™»å½•å¤ªæ…¢å¯èƒ½æ˜¯ DNS è§£æçš„é—®é¢˜ï¼Œé»˜è®¤é…ç½®ä¸‹ sshd åˆæ¬¡æ¥å— ssh å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ä¼šè‡ªåŠ¨åå‘è§£æå®¢æˆ·ç«¯ IP ä»¥å¾—åˆ° ssh å®¢æˆ·ç«¯çš„åŸŸåæˆ–ä¸»æœºåã€‚å¦‚æœè¿™ä¸ªæ—¶å€™ DNS çš„åå‘è§£æä¸æ­£ç¡®ï¼Œsshd å°±ä¼šç­‰åˆ° DNS è§£æè¶…æ—¶åæ‰æä¾› ssh è¿æ¥ï¼Œè¿™æ ·å°±é€ æˆè¿æ¥æ—¶é—´è¿‡é•¿ã€ssh å®¢æˆ·ç«¯ç­‰å¾…çš„æƒ…å†µï¼Œä¸€èˆ¬ä¸º 10-30 ç§’å·¦å³ã€‚æœ‰ä¸ªç®€å•çš„è§£å†³åŠæ³•å°±æ˜¯åœ¨ sshd çš„é…ç½®æ–‡ä»¶ï¼ˆsshd_configï¼‰é‡Œå–æ¶ˆ sshd çš„åå‘ DNS è§£æã€‚ ç¼–è¾‘ ssh é…ç½®æ–‡ä»¶ vi /etc/ssh/sshd_config æ‰¾åˆ° UseDNS è®¾ç½®ä¸º no é‡å¯ ssh æœåŠ¡å³å¯ systemctl restart sshd ","date":"2020-11-28","objectID":"/posts/solution-for-ssh-login-too-slow.html:0:0","series":null,"tags":["ssh"],"title":"CentOS SSH ç™»å½•å¤ªæ…¢çš„è§£å†³æ–¹æ³•","uri":"/posts/solution-for-ssh-login-too-slow.html"},{"categories":["Python"],"content":"è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹ï¼Œå¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œä¸­æ–‡åˆ†è¯ï¼Œç»Ÿè®¡è¯é¢‘åï¼Œç”Ÿæˆè¯äº‘å›¾ã€‚ ä¸€ã€ç”ŸæˆçŸ©å½¢é¢œè‰²éšæœºçš„è¯äº‘å›¾ è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹ï¼Œå¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œä¸­æ–‡åˆ†è¯ï¼Œç»Ÿè®¡è¯é¢‘åï¼Œç”ŸæˆçŸ©å½¢éšæœºé¢œè‰²çš„è¯äº‘å›¾ã€‚ import logging import collections import re import math import jieba from wordcloud import WordCloud jieba.setLogLevel(logging.INFO) # åˆ›å»ºåœç”¨è¯åˆ—è¡¨ def stopwordslist(): # æŒ‰è¡Œè¯»å…¥ stopwords = [line.strip() for line in open('chinsesstop.txt', encoding='UTF-8').readlines()] # åˆ†å‰²ä¸ºå•ä¸ªå­—ç¬¦ï¼ˆåˆ—è¡¨è§£æï¼‰ stopwords = [k for s in stopwords for k in s] return stopwords # # æŒ‡å®šå­—ç¬¦ä¸²æ–¹å¼ # text = \"collectionsåœ¨pythonå®˜æ–¹æ–‡æ¡£ä¸­çš„è§£é‡Šæ˜¯High-performance container datatypesï¼Œç›´æ¥çš„ä¸­æ–‡ç¿»è¯‘è§£é‡Šé«˜æ€§èƒ½å®¹é‡æ•°æ®ç±»å‹ã€‚å®ƒæ€»å…±åŒ…å«äº”ç§æ•°æ®ç±»å‹\" # æ–‡ä»¶è¯»å–æ–¹å¼ f = open(\"./article.txt\", \"r\", encoding=\"utf-8\") text = f.read() f.close() # ç”Ÿæˆè¯äº‘çš„è¯é¢‘é™åˆ¶ï¼Œé€‰å–å‰30% TopWordFrequencyPercentage = 30 TopWordFrequencyPercentage /= 100 # è¯äº‘å›¾ç‰‡ç”Ÿæˆè·¯å¾„ï¼ˆå½“å‰ç›®å½•ä¸‹çš„ wordcloud_rectangle.png æ–‡ä»¶ï¼‰ PicSavePath = \"./wordcloud_rectangle.png\" # jiebaåˆ†è¯ seg = jieba.cut(text) seg = \" \".join(seg) seg = seg.strip() # å»é™¤æ ‡ç‚¹ç¬¦å· seg = re.sub(r\"[0-9\\s+\\.\\!\\/_,$%^*()?;ï¼›:-ã€ã€‘+\\\"\\']+|[+â€”â€”ï¼ï¼Œ;:ï¼šã€‚ï¼Ÿã€~@#ï¿¥%â€¦â€¦\u0026*ï¼ˆï¼‰]+\", \" \", seg) # åªå–ä¸­æ–‡ # seg = re.sub(r'[^\\u4e00-\\u9fa5]', ' ', seg) # è½¬æ¢ä¸ºlist seg = seg.split(\" \") # è¿‡æ»¤ç©ºå­—ç¬¦å’ŒNone seg = list(filter(None, seg)) # print(seg) # åˆ›å»ºä¸€ä¸ªåœç”¨è¯åˆ—è¡¨ stopwords = stopwordslist() # print(stopwords) # è¿‡æ»¤åœç”¨è¯ï¼ˆåˆ—è¡¨è§£æï¼‰ seg = [v for v in seg if v not in stopwords] # print(seg) # ç»Ÿè®¡è¯é¢‘ word_counts = collections.Counter(seg) # print(word_counts) # print(math.ceil(len(word_counts) * 0.3)) # # è·å–è¯é¢‘é™åºæ’åˆ—çš„å‰30% # word_counts_top_50_percent = word_counts.most_common(math.ceil(len(word_counts) * 0.3)) # print(word_counts_top_50_percent) # ç”Ÿæˆè¯äº‘ wc = WordCloud( # é™åˆ¶è¯æ•°ï¼ˆæ ¹æ®è¯é¢‘é™åˆ¶ï¼Œè®¡ç®—ä¸ªæ•°ï¼Œå‘ä¸Šå–æ•´ï¼‰ max_words=math.ceil(len(word_counts) * TopWordFrequencyPercentage), # è®¾ç½®èƒŒæ™¯å®½ width=500, # è®¾ç½®èƒŒæ™¯é«˜ height=350, # æœ€å¤§å­—ä½“ max_font_size=50, # æœ€å°å­—ä½“ min_font_size=10, # è®¾ç½®å­—ä½“æ–‡ä»¶è·¯å¾„ï¼Œä¸æŒ‡å®šå°±ä¼šå‡ºç°ä¹±ç ã€‚ font_path='./MSYH.TTC', # è®¾ç½®èƒŒæ™¯è‰² background_color='white', ) # æ ¹æ®è¯é¢‘äº§ç”Ÿè¯äº‘ wc.generate_from_frequencies(word_counts) # ç”Ÿæˆè¯äº‘å›¾ç‰‡æ–‡ä»¶ wc.to_file(PicSavePath) æ•ˆæœå›¾ï¼š äºŒã€æ ¹æ®å›¾ç‰‡ç”Ÿæˆè§„å®šå½¢çŠ¶çš„é¢œè‰²ç›¸è¿‘çš„è¯äº‘å›¾ è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹ï¼Œå¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œä¸­æ–‡åˆ†è¯ï¼Œç»Ÿè®¡è¯é¢‘åï¼Œæ ¹æ®èƒŒæ™¯å›¾ç‰‡ç”Ÿæˆè§„å®šå½¢çŠ¶å’Œé¢œè‰²çš„è¯äº‘å›¾ã€‚ import logging import collections import re import math from random import randint import jieba from wordcloud import WordCloud from wordcloud import ImageColorGenerator from PIL import Image import numpy as np jieba.setLogLevel(logging.INFO) # åˆ›å»ºåœç”¨è¯åˆ—è¡¨ def stopwordslist(): # æŒ‰è¡Œè¯»å…¥ stopwords = [line.strip() for line in open('chinsesstop.txt', encoding='UTF-8').readlines()] # åˆ†å‰²ä¸ºå•ä¸ªå­—ç¬¦ï¼ˆåˆ—è¡¨è§£æï¼‰ stopwords = [k for s in stopwords for k in s] return stopwords # è‡ªå®šä¹‰é¢œè‰²å‡½æ•°ï¼ˆåœ¨ç»˜åˆ¶è¯äº‘å›¾æ—¶å‘ç°æœ‰çš„å­—é¢œè‰²ä¸ºé»„è‰²å¯¼è‡´çœ‹ä¸æ¸…å› æ­¤éœ€è¦ä¿®æ”¹æ•´ä¸ªè¯äº‘å›¾çš„è‰²è°ƒä¸ºå†·è‰²è°ƒ è“ç»¿è‰²ï¼‰ def random_color_func(word=None, font_size=None, position=None, orientation=None, font_path=None, random_state=None): # what is HSL? https://baike.baidu.com/item/HSL/1443144?fr=aladdin H = randint(120, 250) S = int(100.0 * 255.0 / 255.0) L = int(100.0 * float(randint(60, 120)) / 255.0) return \"hsl({}, {}%, {}%)\".format(H, S, L) # # æŒ‡å®šå­—ç¬¦ä¸²æ–¹å¼ # text = \"collectionsåœ¨pythonå®˜æ–¹æ–‡æ¡£ä¸­çš„è§£é‡Šæ˜¯High-performance container datatypesï¼Œç›´æ¥çš„ä¸­æ–‡ç¿»è¯‘è§£é‡Šé«˜æ€§èƒ½å®¹é‡æ•°æ®ç±»å‹ã€‚å®ƒæ€»å…±åŒ…å«äº”ç§æ•°æ®ç±»å‹\" # æ–‡ä»¶è¯»å–æ–¹å¼ f = open(\"./article.txt\", \"r\", encoding=\"utf-8\") text = f.read() f.close() # ç”Ÿæˆè¯äº‘çš„è¯é¢‘é™åˆ¶ï¼Œé€‰å–å‰30% TopWordFrequencyPercentage = 30 TopWordFrequencyPercentage /= 100 # è¯äº‘å›¾ç‰‡ç”Ÿæˆè·¯å¾„ï¼ˆå½“å‰ç›®å½•ä¸‹çš„ wordcloud_arbitrary_shape.png æ–‡ä»¶ï¼‰ PicSavePath = \"./wordcloud_arbitrary_shape.png\" # jiebaåˆ†è¯ seg = jieba.cut(text) seg = \" \".join(seg) seg = seg.strip() # å»é™¤æ ‡ç‚¹ç¬¦å· seg = re.sub(r\"[0-9\\s+\\.\\!\\/_,$%^*()?;ï¼›:-ã€ã€‘+\\\"\\']+|[+â€”â€”ï¼ï¼Œ;:ï¼šã€‚ï¼Ÿã€~@#ï¿¥%â€¦â€¦\u0026*ï¼ˆï¼‰]+\", \" \", seg) # åªå–ä¸­æ–‡ # seg = re.sub(r'[^\\u4e00-\\u9fa5]', ' ', seg) # è½¬æ¢ä¸ºlist seg = seg.split(\" \") # è¿‡æ»¤ç©ºå­—ç¬¦å’ŒNone seg = list(filter(None, seg)) # print(seg) # åˆ›å»ºä¸€ä¸ªåœç”¨è¯åˆ—è¡¨ stopwords = stopwordslist() # print(stopwords) # è¿‡æ»¤åœç”¨è¯ï¼ˆåˆ—è¡¨è§£æï¼‰ seg = [v for v in seg if v not in stopwords] # print(seg) # ç»Ÿè®¡è¯é¢‘ word_counts = collections.Counter(seg) # print(word_counts) # print(math.ceil(len(word_counts) * 0.3)) # # è·å–è¯é¢‘é™åºæ’åˆ—çš„å‰30% # word_counts_top_50_percent = word_counts.most_common(math.ceil(len(word_counts) * 0.3)) # print(word_counts_top_50_percent) # è¯äº‘å½¢çŠ¶ mask = np.array(Image.open(\"./background1.png\")) # æ ¹æ®å›¾ç‰‡é¢œè‰²è®¾ç½®è¯äº‘é¢œè‰²(å¦‚æœèƒŒæ™¯å›¾ç‰‡æ˜¯çº¯è‰²èƒŒæ™¯ä¼šæŠ¥ NotImplementedError: Gray-scale images TODO é”™","date":"2020-11-18","objectID":"/posts/split-words-generate-word-clouds-based-on-word-frequency-and-background-images.html:0:0","series":null,"tags":[],"title":"Python ä¸­æ–‡åˆ†è¯ï¼Œæ ¹æ®è¯é¢‘å’ŒèƒŒæ™¯å›¾ç‰‡ç”Ÿæˆè¯äº‘","uri":"/posts/split-words-generate-word-clouds-based-on-word-frequency-and-background-images.html"},{"categories":["Python"],"content":"æœ‰æ—¶ pip ä¸æŒ‡å®šæºå®‰è£…ä¼šæ¯”è¾ƒæ…¢ï¼Œç”šè‡³ä¼šå®‰è£…å¤±è´¥ã€‚ #é˜¿é‡Œæº pip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/ #è±†ç“£ pip install -r requirements.txt -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com #æ¸…åå¤§å­¦ pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/ ","date":"2020-11-17","objectID":"/posts/pip-source-specific-installation.html:0:0","series":null,"tags":[],"title":"Python pip æŒ‡å®šæºå®‰è£…","uri":"/posts/pip-source-specific-installation.html"},{"categories":["Python"],"content":"åœ¨æŸ¥çœ‹åˆ«äººçš„ Python é¡¹ç›®æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°ä¸€ä¸ª requirements.txt æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•äº†å½“å‰ç¨‹åºçš„æ‰€æœ‰ä¾èµ–åŒ…åŠå…¶ç²¾ç¡®ç‰ˆæœ¬å·ï¼Œä¸ npm çš„ package.json å¾ˆåƒã€‚å…¶ä½œç”¨æ˜¯ç”¨æ¥åœ¨å¦ä¸€å° PC ä¸Šé‡æ–°æ„å»ºé¡¹ç›®æ‰€éœ€è¦çš„è¿è¡Œç¯å¢ƒä¾èµ–ã€‚ # å¯¼å‡ºä¾èµ– pip freeze \u003e requirements.txt # å®‰è£…ä¾èµ– pip install -r requirements.txt ","date":"2020-11-17","objectID":"/posts/python-export-or-install-requirements.txt-dependencies.html:0:0","series":null,"tags":[],"title":"Python å¯¼å‡º or å®‰è£… requirements.txt ä¾èµ–","uri":"/posts/python-export-or-install-requirements.txt-dependencies.html"},{"categories":["Python"],"content":"å®‰è£…å®Œ anaconda åï¼Œæ‰“å¼€ Anaconda Powershell Prompt (anaconda3) æ‰§è¡Œå‘½ä»¤ã€‚ ä¸€ã€Anaconda # æŸ¥çœ‹ conda ç‰ˆæœ¬å· conda --version # æŸ¥çœ‹ç³»ç»Ÿå½“å‰å·²æœ‰çš„ Python ç¯å¢ƒ conda info --envs # æ·»åŠ ä¸€ä¸ªåä¸º python27ï¼ŒPython ç‰ˆæœ¬ä¸º 2.7 çš„ç¯å¢ƒ conda create --name python27 python=2.7 # æŸ¥çœ‹å½“å‰ç¯å¢ƒçš„ Python ç‰ˆæœ¬ python --version # åˆ‡æ¢ Python ç¯å¢ƒåˆ°åˆšæ‰æ–°æ·»åŠ çš„ Python2.7 conda activate python27 # åˆ‡å›åŸæ¥çš„ Python ç¯å¢ƒ conda deactivate python27 # æˆ– conda activate base # åˆ é™¤ python27 è¿™ä¸ªç¯å¢ƒ conda remove --name python27 --all # æ·»åŠ æ¸…åæº conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ conda config --set show_channel_urls yes # æŸ¥çœ‹é•œåƒåˆ—è¡¨ conda config --show channels # åˆ é™¤æŸä¸ªé•œåƒ conda config --remove channels #å¦‚ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ # åŒ…ç®¡ç† conda install \u003cåŒ…å\u003eÂ å®‰è£…æŒ‡å®šåŒ… conda remove \u003cåŒ…å\u003eÂ ç§»é™¤æŒ‡å®šåŒ… conda update \u003cåŒ…å\u003eÂ æ›´æ–°æŒ‡å®šåŒ… äºŒã€PyCharm ","date":"2020-11-13","objectID":"/posts/pycharm-using-anaconda-to-manage-multi-version-python-environments.html:0:0","series":null,"tags":[],"title":"PyCharm ä½¿ç”¨ Anaconda ç®¡ç†å¤šç‰ˆæœ¬ Python ç¯å¢ƒ","uri":"/posts/pycharm-using-anaconda-to-manage-multi-version-python-environments.html"},{"categories":["Python"],"content":"å…ˆè¯´ç»“è®ºï¼šæ¨èä½¿ç”¨ openyxl åº“ï¼Œè€Œä¸æ˜¯ xlwt åº“ã€‚ä½¿ç”¨ xlwt åº“åˆ›å»ºå¹¶å‘ .xls æ–‡ä»¶å†™å…¥å†…å®¹æ—¶ï¼Œå…¶å•ä¸ª sheet é™åˆ¶æœ€å¤§è¡Œæ•°ä¸º 65535ã€‚è€Œä½¿ç”¨ openpyxl åº“åˆ›å»ºå¹¶å‘ .xlsx æ–‡ä»¶å†™å…¥å†…å®¹æ—¶ï¼Œå…¶å•ä¸ª sheet é™åˆ¶æœ€å¤§è¡Œæ•°ä¸º 1048576ï¼Œæœ€å¤§åˆ—æ•°ä¸º 16384ã€‚ ä¸€ã€openpyxl åº“ openyxl åº“æ–‡æ¡£åœ°å€ï¼šhttps://openpyxl.readthedocs.io/en/stable/usage.html / https://pypi.org/project/openpyxl import openpyxl ExeclFileSavePath = \"./test.xlsx\" wb = openpyxl.Workbook() rowInit = 1 rowLimit = 50 columnInit = 1 columnLimit = 5 # é»˜è®¤Sheet ws = wb.active for row in range(rowInit, rowLimit + 1): for column in range(columnInit, columnLimit + 1): ws.cell(row, column).value = row # åˆ›å»ºä¸€ä¸ªsheet Pi wsA = wb.create_sheet(title=\"Pi\") for row in range(rowInit, rowLimit): wsA.append(range(columnInit, columnLimit)) # ä¿å­˜æ–‡ä»¶ wb.save(ExeclFileSavePath) äºŒã€xlwt åº“ xlwt åº“æ–‡æ¡£åœ°å€ï¼šhttps://xlwt.readthedocs.io/en/latest / https://pypi.org/project/xlwt import xlwt ExeclFileSavePath = \"./test.xls\" workbook = xlwt.Workbook(encoding='utf-8') sheet1 = workbook.add_sheet('sheet1', cell_overwrite_ok=True) # ç»™excelæ–‡ä»¶æ·»åŠ sheet rowInit = 1 rowLimit = 50 columnInit = 1 columnLimit = 5 for row in range(rowInit - 1, rowLimit): for column in range(columnInit - 1, columnLimit): temp = row # å•å…ƒæ ¼å†…å®¹ sheet1.write(row, column, temp) # sheet1.write_merge(0, 3, 1, 1, 'åˆå¹¶') # åˆå¹¶å•å…ƒæ ¼ workbook.save(ExeclFileSavePath) ","date":"2020-11-11","objectID":"/posts/create-an-excel-file-and-write-to-it-using-python.html:0:0","series":null,"tags":[],"title":"Python å¦‚ä½•åˆ›å»ºä¸€ä¸ª Excel æ–‡ä»¶å¹¶å‘å…¶å†™å…¥å†…å®¹ï¼Ÿ","uri":"/posts/create-an-excel-file-and-write-to-it-using-python.html"},{"categories":["MySQL"],"content":"éšè—åœ¨å„é¡¹é…ç½®æ–‡ä»¶ä¹‹åçš„ï¼Œæ˜¯ MySQL çš„æ€æƒ³å’Œè®¾è®¡æ–¹æ¡ˆã€‚ æŸ¥çœ‹å½“å‰æ‰€æœ‰é…ç½® showvariables;ä¸€ã€è¡¨ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:0:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"è¡¨æ•°æ®ç‹¬ç«‹å­˜å‚¨ è¡¨æ•°æ®æ—¢å¯ä»¥å­˜åœ¨å…±äº«è¡¨ç©ºé—´é‡Œï¼Œä¹Ÿå¯ä»¥æ˜¯å•ç‹¬çš„æ–‡ä»¶ã€‚è¿™ä¸ªè¡Œä¸ºæ˜¯ç”±å‚æ•° innodb_file_per_table æ§åˆ¶çš„ï¼Œä» MySQL 5.6.6 ç‰ˆæœ¬å¼€å§‹ï¼Œå®ƒçš„é»˜è®¤å€¼å°±æ˜¯ ON äº†ã€‚ è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º OFF è¡¨ç¤ºçš„æ˜¯ï¼Œè¡¨çš„æ•°æ®æ”¾åœ¨ç³»ç»Ÿå…±äº«è¡¨ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è·Ÿæ•°æ®å­—å…¸æ”¾åœ¨ä¸€èµ·ï¼› è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º ON è¡¨ç¤ºçš„æ˜¯ï¼Œæ¯ä¸ª InnoDB è¡¨æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªä»¥ .ibd ä¸ºåç¼€çš„æ–‡ä»¶ä¸­ã€‚ æˆ‘å»ºè®®ä½ ä¸è®ºä½¿ç”¨ MySQL çš„å“ªä¸ªç‰ˆæœ¬ï¼Œéƒ½å°†è¿™ä¸ªå€¼è®¾ç½®ä¸º ONã€‚ å› ä¸ºï¼Œä¸€ä¸ªè¡¨å•ç‹¬å­˜å‚¨ä¸ºä¸€ä¸ªæ–‡ä»¶æ›´å®¹æ˜“ç®¡ç†ï¼Œè€Œä¸”åœ¨ä½ ä¸éœ€è¦è¿™ä¸ªè¡¨çš„æ—¶å€™ï¼Œé€šè¿‡ drop/truncate table å‘½ä»¤ï¼Œç³»ç»Ÿå°±ä¼šç›´æ¥åˆ é™¤è¿™ä¸ªæ–‡ä»¶ã€‚è€Œå¦‚æœæ˜¯æ”¾åœ¨å…±äº«è¡¨ç©ºé—´ä¸­ï¼Œå³ä½¿è¡¨åˆ æ‰äº†ï¼Œç©ºé—´ä¹Ÿæ˜¯ä¸ä¼šå›æ”¶çš„ã€‚ innodb_file_per_table = ON äºŒã€æ—¥å¿—ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:1:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"bin log æ ¼å¼ å¦‚æœæ˜¯ä½¿ç”¨ delete è¯­å¥è¯¯åˆ äº†æ•°æ®è¡Œï¼Œå¯ä»¥ç”¨ Flashback å·¥å…·é€šè¿‡é—ªå›æŠŠæ•°æ®æ¢å¤å›æ¥ã€‚Flashback æ¢å¤æ•°æ®çš„åŸç†ï¼Œæ˜¯ä¿®æ”¹ binlog çš„å†…å®¹ï¼Œæ‹¿å›åŸåº“é‡æ”¾ã€‚è€Œèƒ½å¤Ÿä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆçš„å‰ææ˜¯ï¼Œéœ€è¦ç¡®ä¿ä»¥ä¸‹ä¸¤ä¸ªé…ç½®ã€‚ binlog_format=row binlog_row_image=FULL ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:2:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"bin log æ–‡ä»¶ä½“ç§¯é™åˆ¶ / è‡ªåŠ¨è¿‡æœŸ row æ ¼å¼è®°å½•çš„æ•°æ®æ›´å®Œæ•´ï¼Œåœ¨æ•°æ®æ¢å¤æ–¹é¢æœ‰æå¤§ä¼˜åŠ¿ï¼Œä½†ç¼ºç‚¹æ˜¯ç”Ÿæˆçš„æ—¥å¿—é‡å¤§ã€‚å› æ­¤éœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’ŒæœåŠ¡å™¨é…ç½®å¯¹ binlog è®¾ç½®å•ä¸ªæ–‡ä»¶æœ€å¤§ä½“ç§¯é™åˆ¶å’Œä¿ç•™æ—¶é•¿çš„é™åˆ¶ã€‚ expire_logs_days = 30 max_binlog_size = 512M ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:3:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"åŒ â€œ1â€ é…ç½® ä¸€ä¸ªäº‹åŠ¡å®Œæ•´æäº¤å‰ï¼Œéœ€è¦ç­‰å¾…ä¸¤æ¬¡åˆ·ç›˜ï¼Œä¸€æ¬¡æ˜¯ redo logï¼ˆprepare é˜¶æ®µï¼‰ï¼Œä¸€æ¬¡æ˜¯ binlogã€‚ sync_binlog è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ binlog éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘ä¹Ÿå»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹å binlog ä¸ä¸¢å¤±ã€‚ redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ›ï¼Œinnodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹å redo log æ•°æ®ä¸ä¸¢å¤±ã€‚ sync_binlog = 1 innodb_flush_log_at_trx_commit = 1 ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:4:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"redo log æ–‡ä»¶ä½“ç§¯ / ä¸ªæ•° åˆ©ç”¨ WAL æŠ€æœ¯ï¼ŒMySQL å°†éšæœºå†™è½¬æ¢æˆäº†é¡ºåºå†™ï¼Œå¤§å¤§æå‡äº†æ•°æ®åº“çš„æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œç”±æ­¤ä¹Ÿå¸¦æ¥äº†å†…å­˜è„é¡µçš„é—®é¢˜ã€‚è„é¡µä¼šè¢«åå°çº¿ç¨‹è‡ªåŠ¨ flushï¼Œä¹Ÿä¼šç”±äºæ•°æ®é¡µæ·˜æ±°è€Œè§¦å‘ flushï¼Œè€Œåˆ·è„é¡µçš„è¿‡ç¨‹ç”±äºä¼šå ç”¨èµ„æºï¼Œå¯èƒ½ä¼šè®©ä½ çš„æ›´æ–°å’ŒæŸ¥è¯¢è¯­å¥çš„å“åº”æ—¶é—´é•¿ä¸€äº›ï¼Œé€ æˆæ€§èƒ½çš„é—´æ­‡æ€§ä¸‹é™ã€‚ â€œredo log å†™æ»¡äº†ï¼Œè¦ flush è„é¡µâ€ï¼Œè¿™ç§æƒ…å†µæ˜¯ InnoDB è¦å°½é‡é¿å…çš„ã€‚å› ä¸ºå‡ºç°è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¸èƒ½å†æ¥å—æ›´æ–°äº†ï¼Œæ‰€æœ‰çš„æ›´æ–°éƒ½å¿…é¡»å µä½ã€‚å¦‚æœä½ ä»ç›‘æ§ä¸Šçœ‹ï¼Œè¿™æ—¶å€™æ›´æ–°æ•°ä¼šè·Œä¸º 0ã€‚ ä¸€ä¸ªå†…å­˜é…ç½®ä¸º 128GBã€innodb_io_capacity è®¾ç½®ä¸º 20000 çš„å¤§è§„æ ¼å®ä¾‹ï¼Œæ­£å¸¸ä¼šå»ºè®®ä½ å°† redo log è®¾ç½®æˆ 4 ä¸ª 1GB çš„æ–‡ä»¶ã€‚ è¿™ä¸¤ä¸ªå±æ€§æ˜¯åªè¯»çš„ï¼Œéœ€è¦é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å¹¶é‡å¯ MySQL ç”Ÿæ•ˆã€‚ innodb_log_file_size=512M innodb_log_files_in_group=2 ä¸‰ã€buffer ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:5:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"ç¼“å†²æ± å¤§å° ç¼“å†²æ± å†…å­˜å¤§å°ä¸å¤Ÿï¼Œæ„å‘³ç€å¯ç”¨çš„æ•°æ®é¡µå°‘ï¼Œè„é¡µæ¯”ä¾‹å®¹æ˜“æ¥è¿‘ 75%ï¼Œé€ æˆæ€§èƒ½é—´æ­‡æ€§æŠ–åŠ¨ã€‚ innodb_buffer_pool_size=1G ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:6:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"join è”è¡¨æŸ¥è¯¢ç¼“å†²æ± å¤§å° join_buffer çš„å¤§å°æ˜¯ç”±å‚æ•° join_buffer_size è®¾å®šçš„ï¼Œé»˜è®¤å€¼æ˜¯ 256kã€‚å¦‚æœæ”¾ä¸ä¸‹è¡¨ t1 çš„æ‰€æœ‰æ•°æ®è¯ï¼Œç­–ç•¥å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ†æ®µæ”¾ã€‚å¦‚æœ join è¯­å¥è¾ƒæ…¢ï¼Œæœ‰å¯èƒ½æ˜¯å› ä¸ºç¼“å†²æ± è¿‡å°ã€‚ join_buffer_size=32M å››ã€ç¡¬ç›˜ IO ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:7:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"IO è¯»å†™èƒ½åŠ› å¦‚æœæ²¡èƒ½åˆç†åœ°è®¾ç½® innodb_io_capacity å‚æ•°ï¼Œä¼šå¯¼è‡´ä¸€äº›æ€§èƒ½é—®é¢˜ã€‚æ¯”å¦‚ MySQL çš„å†™å…¥é€Ÿåº¦å¾ˆæ…¢ï¼ŒTPS å¾ˆä½ï¼Œä½†æ˜¯æ•°æ®åº“ä¸»æœºçš„ IO å‹åŠ›å¹¶ä¸å¤§ã€‚ å¦‚æœä¸»æœºç£ç›˜ç”¨çš„æ˜¯ SSDï¼Œä½†æ˜¯ innodb_io_capacity çš„å€¼è®¾ç½®çš„æ˜¯ 300ã€‚äºæ˜¯ï¼ŒInnoDB è®¤ä¸ºè¿™ä¸ªç³»ç»Ÿçš„èƒ½åŠ›å°±è¿™ä¹ˆå·®ï¼Œæ‰€ä»¥åˆ·è„é¡µåˆ·å¾—ç‰¹åˆ«æ…¢ï¼Œç”šè‡³æ¯”è„é¡µç”Ÿæˆçš„é€Ÿåº¦è¿˜æ…¢ï¼Œè¿™æ ·å°±é€ æˆäº†è„é¡µç´¯ç§¯ï¼Œå½±å“äº†æŸ¥è¯¢å’Œæ›´æ–°æ€§èƒ½ã€‚ æµ‹è¯•å®Œæˆåå¯ä»¥å¾—åˆ°æœåŠ¡å™¨ç¡¬ç›˜çš„ IOPSï¼Œæ ¹æ®è¿™ä¸ªå€¼æ¥è®¾ç½®ï¼šï¼ˆ200 æ˜¯é»˜è®¤å€¼ï¼‰ innodb_io_capacity = 200 centos å®‰è£… fioï¼Œæµ‹è¯•ç¡¬ç›˜ io yum install -y libaio-devel fio cd /;mkdir test;cd /test;touch file;fio -filename=/test/file -direct=1 -iodepth 1 -thread -rw=randrw -ioengine=psync -bs=4k -size=500M -numjobs=10 -runtime=10 -group_reporting -name=mytest windows å¯ä»¥ä½¿ç”¨ AS SSD è½¯ä»¶æµ‹è¯• IOPS ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:8:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"è„é¡µåˆ·å†™è¿åæœºåˆ¶ ä¸€æ—¦ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚éœ€è¦åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…ˆ flush æ‰ä¸€ä¸ªè„é¡µæ—¶ï¼Œè¿™ä¸ªæŸ¥è¯¢å°±å¯èƒ½è¦æ¯”å¹³æ—¶æ…¢äº†ã€‚è€Œ MySQL ä¸­çš„ä¸€ä¸ªæœºåˆ¶ï¼Œå¯èƒ½è®©ä½ çš„æŸ¥è¯¢ä¼šæ›´æ…¢ï¼šåœ¨å‡†å¤‡åˆ·ä¸€ä¸ªè„é¡µçš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®é¡µæ—è¾¹çš„æ•°æ®é¡µåˆšå¥½æ˜¯è„é¡µï¼Œå°±ä¼šæŠŠè¿™ä¸ª â€œé‚»å±…â€ ä¹Ÿå¸¦ç€ä¸€èµ·åˆ·æ‰ï¼›è€Œä¸”è¿™ä¸ªæŠŠ â€œé‚»å±…â€ æ‹–ä¸‹æ°´çš„é€»è¾‘è¿˜å¯ä»¥ç»§ç»­è”“å»¶ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæ¯ä¸ªé‚»å±…æ•°æ®é¡µï¼Œå¦‚æœè·Ÿå®ƒç›¸é‚»çš„æ•°æ®é¡µä¹Ÿè¿˜æ˜¯è„é¡µçš„è¯ï¼Œä¹Ÿä¼šè¢«æ”¾åˆ°ä¸€èµ·åˆ·ã€‚åœ¨ InnoDB ä¸­ï¼Œinnodb_flush_neighbors å‚æ•°å°±æ˜¯ç”¨æ¥æ§åˆ¶è¿™ä¸ªè¡Œä¸ºçš„ï¼Œå€¼ä¸º 1 çš„æ—¶å€™ä¼šæœ‰ä¸Šè¿°çš„ â€œè¿åâ€ æœºåˆ¶ï¼Œå€¼ä¸º 0 æ—¶è¡¨ç¤ºä¸æ‰¾é‚»å±…ï¼Œè‡ªå·±åˆ·è‡ªå·±çš„ã€‚ æ‰¾ â€œé‚»å±…â€ è¿™ä¸ªä¼˜åŒ–åœ¨æœºæ¢°ç¡¬ç›˜æ—¶ä»£æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šéšæœº IOã€‚æœºæ¢°ç¡¬ç›˜çš„éšæœº IOPS ä¸€èˆ¬åªæœ‰å‡ ç™¾ï¼Œç›¸åŒçš„é€»è¾‘æ“ä½œå‡å°‘éšæœº IO å°±æ„å‘³ç€ç³»ç»Ÿæ€§èƒ½çš„å¤§å¹…åº¦æå‡ã€‚ è€Œå¦‚æœä½¿ç”¨çš„æ˜¯ SSD è¿™ç±» IOPS æ¯”è¾ƒé«˜çš„è®¾å¤‡çš„è¯ï¼Œå»ºè®®æŠŠ innodb_flush_neighbors çš„å€¼è®¾ç½®æˆ 0ï¼š å› ä¸ºè¿™æ—¶å€™ IOPS å¾€å¾€ä¸æ˜¯ç“¶é¢ˆï¼Œè€Œ â€œåªåˆ·è‡ªå·±â€ï¼Œå°±èƒ½æ›´å¿«åœ°æ‰§è¡Œå®Œå¿…è¦çš„åˆ·è„é¡µæ“ä½œï¼Œå‡å°‘ SQL è¯­å¥å“åº”æ—¶é—´ã€‚åœ¨ MySQL 8.0 ä¸­ï¼Œinnodb_flush_neighbors å‚æ•°çš„é»˜è®¤å€¼å·²ç»æ˜¯ 0 äº†ã€‚ innodb_flush_neighbors = 0 äº”ã€çº¿ç¨‹ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:9:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"å¹¶å‘çº¿ç¨‹ä¸Šé™æ•° é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®æŠŠ innodb_thread_concurrency è®¾ç½®ä¸º 64~128 ä¹‹é—´çš„å€¼ã€‚å¹¶å‘è¿æ¥å’Œå¹¶å‘æŸ¥è¯¢å¹¶ä¸æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œä½ åœ¨ show processlist çš„ç»“æœé‡Œï¼Œçœ‹åˆ°çš„å‡ åƒä¸ªè¿æ¥ï¼ŒæŒ‡çš„å°±æ˜¯å¹¶å‘è¿æ¥ã€‚è€Œ â€œå½“å‰æ­£åœ¨æ‰§è¡Œâ€ çš„è¯­å¥ï¼Œæ‰æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¹¶å‘æŸ¥è¯¢ã€‚ å¹¶å‘è¿æ¥æ•°è¾¾åˆ°å‡ åƒä¸ªå½±å“å¹¶ä¸å¤§ï¼Œå°±æ˜¯å¤šå ä¸€äº›å†…å­˜è€Œå·²ã€‚æˆ‘ä»¬åº”è¯¥å…³æ³¨çš„æ˜¯å¹¶å‘æŸ¥è¯¢ï¼Œå› ä¸ºå¹¶å‘æŸ¥è¯¢å¤ªé«˜æ‰æ˜¯ CPU æ€æ‰‹ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è®¾ç½® innodb_thread_concurrency å‚æ•°çš„åŸå› ã€‚ åœ¨çº¿ç¨‹è¿›å…¥é”ç­‰å¾…ä»¥åï¼Œå¹¶å‘çº¿ç¨‹çš„è®¡æ•°ä¼šå‡ä¸€ï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰è¡Œé”ï¼ˆä¹ŸåŒ…æ‹¬é—´éš™é”ï¼‰çš„çº¿ç¨‹æ˜¯ä¸ç®—åœ¨ 128 é‡Œé¢çš„ã€‚MySQL è¿™æ ·è®¾è®¡æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ã€‚å› ä¸ºï¼Œè¿›å…¥é”ç­‰å¾…çš„çº¿ç¨‹å·²ç»ä¸åƒ CPU äº†ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œå¿…é¡»è¿™ä¹ˆè®¾è®¡ï¼Œæ‰èƒ½é¿å…æ•´ä¸ªç³»ç»Ÿé”æ­»ã€‚ innodb_thread_concurrency=128 å…­ã€é”ç›¸å…³ ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:10:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"è‡ªå¢é”æ¨¡å¼ MySQL 5.1.22 ç‰ˆæœ¬å¼•å…¥äº†ä¸€ä¸ªæ–°ç­–ç•¥ï¼Œæ–°å¢å‚æ•° innodb_autoinc_lock_modeï¼Œé»˜è®¤å€¼æ˜¯ 1ã€‚ è¿™ä¸ªå‚æ•°çš„å€¼è¢«è®¾ç½®ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºé‡‡ç”¨ä¹‹å‰ MySQL 5.0 ç‰ˆæœ¬çš„ç­–ç•¥ï¼Œå³è¯­å¥æ‰§è¡Œç»“æŸåæ‰é‡Šæ”¾é”ï¼› è¿™ä¸ªå‚æ•°çš„å€¼è¢«è®¾ç½®ä¸º 1 æ—¶ï¼šæ™®é€š insert è¯­å¥ï¼Œè‡ªå¢é”åœ¨ç”³è¯·ä¹‹åå°±é©¬ä¸Šé‡Šæ”¾ï¼›ç±»ä¼¼ insert â€¦ select è¿™æ ·çš„æ‰¹é‡æ’å…¥æ•°æ®çš„è¯­å¥ï¼Œè‡ªå¢é”è¿˜æ˜¯è¦ç­‰è¯­å¥ç»“æŸåæ‰è¢«é‡Šæ”¾ï¼› è¿™ä¸ªå‚æ•°çš„å€¼è¢«è®¾ç½®ä¸º 2 æ—¶ï¼Œæ‰€æœ‰çš„ç”³è¯·è‡ªå¢ä¸»é”®çš„åŠ¨ä½œéƒ½æ˜¯ç”³è¯·åå°±é‡Šæ”¾é”ã€‚ åœ¨ç”Ÿäº§ä¸Šï¼Œå°¤å…¶æ˜¯æœ‰ insert â€¦ select è¿™ç§æ‰¹é‡æ’å…¥æ•°æ®çš„åœºæ™¯æ—¶ï¼Œä»å¹¶å‘æ’å…¥æ•°æ®æ€§èƒ½çš„è§’åº¦è€ƒè™‘ï¼Œæˆ‘å»ºè®®ä½ è¿™æ ·è®¾ç½®ï¼š innodb_autoinc_lock_mode=2 ï¼Œå¹¶ä¸” binlog_format=row. è¿™æ ·åšï¼Œæ—¢èƒ½æå‡å¹¶å‘æ€§ï¼Œåˆä¸ä¼šå‡ºç°æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚ innodb_autoinc_lock_mode=2 ä¸ƒã€SQL éƒ¨åˆ† ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:11:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"å®‰å…¨æ¨¡å¼ ä¸ºäº†é˜²æ­¢å¿˜è®°åœ¨ delete æˆ–è€… update è¯­å¥ä¸­å†™ where æ¡ä»¶ã€where æ¡ä»¶é‡Œé¢æ²¡æœ‰åŒ…å«ç´¢å¼•å­—æ®µã€æ²¡æœ‰åŠ å…¥ limit é™åˆ¶å¼•èµ·çš„éå®‰å…¨ SQL è¯­å¥é€ æˆæ•°æ®è¯¯åˆ ç­‰ï¼Œå†™å…¥è¯¥é…ç½®åï¼Œè¿™äº›éå®‰å…¨è¯­å¥æ‰§è¡Œå°±ä¼šæŠ¥é”™ã€‚ sql_safe_updates = ON é…ç½®æ¨¡æ¿ innodb_file_per_table = ON binlog_format=row binlog_row_image=FULL expire_logs_days = 30 max_binlog_size = 512M sync_binlog = 1 innodb_flush_log_at_trx_commit = 1 innodb_log_file_size=512M innodb_log_files_in_group=2 innodb_buffer_pool_size=1G join_buffer_size=32M innodb_io_capacity = 300 innodb_flush_neighbors = 0 innodb_thread_concurrency=128 innodb_autoinc_lock_mode=2 ","date":"2020-11-07","objectID":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html:12:0","series":null,"tags":[],"title":"MySQL5.7 ç”Ÿäº§ç¯å¢ƒæ¨èå‚æ•°é…ç½®","uri":"/posts/mysql-5.7-recommended-parameter-configuration-for-production-environments.html"},{"categories":["MySQL"],"content":"åœ¨æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚ ä¸€ã€æŸ¥çœ‹æ•°æ®åº“çš„å„ä¸ªè¡¨å ç”¨çš„æ–‡ä»¶å¤§å° ä»¥æŸ¥çœ‹ test æ•°æ®åº“ä¸ºä¾‹ï¼š SELECTtable_schemaAS'æ•°æ®åº“',table_nameAS'è¡¨å',engineAS'å­˜å‚¨å¼•æ“',table_commentAS'å¤‡æ³¨',table_rowsAS'è®°å½•æ•°',TRUNCATE(data_length/1024/1024,2)AS'æ•°æ®å¤§å°(MB)',TRUNCATE(index_length/1024/1024,2)AS'ç´¢å¼•å¤§å°(MB)'FROMinformation_schema.TABLESWHEREtable_schema='test'ORDERBYtable_rowsDESC;äºŒã€æŸ¥æ‰¾æŒç»­æ—¶é—´è¶…è¿‡ 60s çš„äº‹åŠ¡ select*frominformation_schema.innodb_trxwhereTIME_TO_SEC(timediff(now(),trx_started))\u003e60ä¸‰ã€æŸ¥çœ‹å½“å‰çº¿ç¨‹å¤„ç†æƒ…å†µ é…å¥— kill è¯­å¥å¯ä»¥å¤„ç†çªå‘äº‹ä»¶ showfullprocesslist;killId;å››ã€ä¼˜åŒ–è¡¨ optimizetable`table_name_A`;é‡æ–°ç»„ç»‡è¡¨æ•°æ®å’Œç›¸å…³ç´¢å¼•æ•°æ®çš„ç‰©ç†å­˜å‚¨ï¼Œä»¥å‡å°‘å­˜å‚¨ç©ºé—´ï¼Œæé«˜è®¿é—®è¡¨æ—¶çš„ I/O æ•ˆç‡ã€‚ ä½†æ­¤æ“ä½œä¼šé”è¡¨ï¼Œéœ€è¦é¿å¼€ä¸šåŠ¡é«˜å³°æœŸã€‚ äº”ã€é‡å»ºè¡¨ altertableAengine=InnoDB;è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ ç°åœ¨æœ‰ä¸€ä¸ªè¡¨ Aï¼Œéœ€è¦åšç©ºé—´æ”¶ç¼©ï¼Œä¸ºäº†æŠŠè¡¨ä¸­å­˜åœ¨çš„ç©ºæ´å»æ‰ï¼Œä½ å¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿä½ å¯ä»¥æ–°å»ºä¸€ä¸ªä¸è¡¨ A ç»“æ„ç›¸åŒçš„è¡¨ Bï¼Œç„¶åæŒ‰ç…§ä¸»é”® ID é€’å¢çš„é¡ºåºï¼ŒæŠŠæ•°æ®ä¸€è¡Œä¸€è¡Œåœ°ä»è¡¨ A é‡Œè¯»å‡ºæ¥å†æ’å…¥åˆ°è¡¨ B ä¸­ã€‚ç”±äºè¡¨ B æ˜¯æ–°å»ºçš„è¡¨ï¼Œæ‰€ä»¥è¡¨ A ä¸»é”®ç´¢å¼•ä¸Šçš„ç©ºæ´ï¼Œåœ¨è¡¨ B ä¸­å°±éƒ½ä¸å­˜åœ¨äº†ã€‚æ˜¾ç„¶åœ°ï¼Œè¡¨ B çš„ä¸»é”®ç´¢å¼•æ›´ç´§å‡‘ï¼Œæ•°æ®é¡µçš„åˆ©ç”¨ç‡ä¹Ÿæ›´é«˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¡¨ B ä½œä¸ºä¸´æ—¶è¡¨ï¼Œæ•°æ®ä»è¡¨ A å¯¼å…¥è¡¨ B çš„æ“ä½œå®Œæˆåï¼Œç”¨è¡¨ B æ›¿æ¢ Aï¼Œä»æ•ˆæœä¸Šçœ‹ï¼Œå°±èµ·åˆ°äº†æ”¶ç¼©è¡¨ A ç©ºé—´çš„ä½œç”¨ã€‚è¿™é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨ alter table A engine=InnoDB å‘½ä»¤æ¥é‡å»ºè¡¨ã€‚åœ¨ MySQL 5.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œè¿™ä¸ªå‘½ä»¤çš„æ‰§è¡Œæµç¨‹è·Ÿæˆ‘ä»¬å‰é¢æè¿°çš„å·®ä¸å¤šï¼ŒåŒºåˆ«åªæ˜¯è¿™ä¸ªä¸´æ—¶è¡¨ B ä¸éœ€è¦ä½ è‡ªå·±åˆ›å»ºï¼ŒMySQL ä¼šè‡ªåŠ¨å®Œæˆè½¬å­˜æ•°æ®ã€äº¤æ¢è¡¨åã€åˆ é™¤æ—§è¡¨çš„æ“ä½œã€‚ æ˜¾ç„¶ï¼ŒèŠ±æ—¶é—´æœ€å¤šçš„æ­¥éª¤æ˜¯å¾€ä¸´æ—¶è¡¨æ’å…¥æ•°æ®çš„è¿‡ç¨‹ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰æ–°çš„æ•°æ®è¦å†™å…¥åˆ°è¡¨ A çš„è¯ï¼Œå°±ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚å› æ­¤ï¼Œåœ¨æ•´ä¸ª DDL è¿‡ç¨‹ä¸­ï¼Œè¡¨ A ä¸­ä¸èƒ½æœ‰æ›´æ–°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª DDL ä¸æ˜¯ Online çš„ã€‚ è€Œåœ¨ MySQL 5.6 ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ Online DDLï¼Œå¯¹è¿™ä¸ªæ“ä½œæµç¨‹åšäº†ä¼˜åŒ–ã€‚ æˆ‘ç»™ä½ ç®€å•æè¿°ä¸€ä¸‹å¼•å…¥äº† Online DDL ä¹‹åï¼Œé‡å»ºè¡¨çš„æµç¨‹ï¼š å»ºç«‹ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œæ‰«æè¡¨ A ä¸»é”®çš„æ‰€æœ‰æ•°æ®é¡µï¼› ç”¨æ•°æ®é¡µä¸­è¡¨ A çš„è®°å½•ç”Ÿæˆ B+ æ ‘ï¼Œå­˜å‚¨åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼› ç”Ÿæˆä¸´æ—¶æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰å¯¹ A çš„æ“ä½œè®°å½•åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆrow logï¼‰ä¸­ï¼› ä¸´æ—¶æ–‡ä»¶ç”Ÿæˆåï¼Œå°†æ—¥å¿—æ–‡ä»¶ä¸­çš„æ“ä½œåº”ç”¨åˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªé€»è¾‘æ•°æ®ä¸Šä¸è¡¨ A ç›¸åŒçš„æ•°æ®æ–‡ä»¶ï¼› ç”¨ä¸´æ—¶æ–‡ä»¶æ›¿æ¢è¡¨ A çš„æ•°æ®æ–‡ä»¶ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œç”±äºæ—¥å¿—æ–‡ä»¶è®°å½•å’Œé‡æ”¾æ“ä½œè¿™ä¸ªåŠŸèƒ½çš„å­˜åœ¨ï¼Œè¿™ä¸ªæ–¹æ¡ˆåœ¨é‡å»ºè¡¨çš„è¿‡ç¨‹ä¸­ï¼Œå…è®¸å¯¹è¡¨ A åšå¢åˆ æ”¹æ“ä½œã€‚è¿™ä¹Ÿå°±æ˜¯ Online DDL åå­—çš„æ¥æºã€‚ DDL ä¹‹å‰æ˜¯è¦æ‹¿ MDL å†™é”çš„ï¼Œè¿™æ ·è¿˜èƒ½å« Online DDL å—ï¼Ÿ alter è¯­å¥åœ¨å¯åŠ¨çš„æ—¶å€™éœ€è¦è·å– MDL å†™é”ï¼Œä½†æ˜¯è¿™ä¸ªå†™é”åœ¨çœŸæ­£æ‹·è´æ•°æ®ä¹‹å‰å°±é€€åŒ–æˆè¯»é”äº†ã€‚ä¸ºä»€ä¹ˆè¦é€€åŒ–å‘¢ï¼Ÿä¸ºäº†å®ç° Onlineï¼ŒMDL è¯»é”ä¸ä¼šé˜»å¡å¢åˆ æ”¹æ“ä½œã€‚é‚£ä¸ºä»€ä¹ˆä¸å¹²è„†ç›´æ¥è§£é”å‘¢ï¼Ÿä¸ºäº†ä¿æŠ¤è‡ªå·±ï¼Œç¦æ­¢å…¶ä»–çº¿ç¨‹å¯¹è¿™ä¸ªè¡¨åŒæ—¶åš DDLã€‚è€Œå¯¹äºä¸€ä¸ªå¤§è¡¨æ¥è¯´ï¼ŒOnline DDL æœ€è€—æ—¶çš„è¿‡ç¨‹å°±æ˜¯æ‹·è´æ•°æ®åˆ°ä¸´æ—¶è¡¨çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªæ­¥éª¤çš„æ‰§è¡ŒæœŸé—´å¯ä»¥æ¥å—å¢åˆ æ”¹æ“ä½œã€‚æ‰€ä»¥ï¼Œç›¸å¯¹äºæ•´ä¸ª DDL è¿‡ç¨‹æ¥è¯´ï¼Œé”çš„æ—¶é—´éå¸¸çŸ­ã€‚å¯¹ä¸šåŠ¡æ¥è¯´ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯ Online çš„ã€‚ éœ€è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼Œä¸Šè¿°çš„è¿™äº›é‡å»ºæ–¹æ³•éƒ½ä¼šæ‰«æåŸè¡¨æ•°æ®å’Œæ„å»ºä¸´æ—¶æ–‡ä»¶ã€‚å¯¹äºå¾ˆå¤§çš„è¡¨æ¥è¯´ï¼Œè¿™ä¸ªæ“ä½œæ˜¯å¾ˆæ¶ˆè€— IO å’Œ CPU èµ„æºçš„ã€‚å› æ­¤ï¼Œå¦‚æœæ˜¯çº¿ä¸ŠæœåŠ¡ï¼Œä½ è¦å¾ˆå°å¿ƒåœ°æ§åˆ¶æ“ä½œæ—¶é—´ã€‚å¦‚æœæƒ³è¦æ¯”è¾ƒå®‰å…¨çš„æ“ä½œçš„è¯ï¼Œæˆ‘æ¨èä½ ä½¿ç”¨ GitHub å¼€æºçš„ gh-ost æ¥åšã€‚ å¦å¤–ï¼Œä½¿ç”¨ alter table t engine=InnoDB æœ‰å¯èƒ½ä¼šè®©ä¸€ä¸ªè¡¨å ç”¨çš„ç©ºé—´åè€Œå˜å¤§ï¼š 1ã€å°±æ˜¯è¿™ä¸ªè¡¨æœ¬èº«å°±å·²ç»æ²¡æœ‰ç©ºæ´ï¼Œæ¯”å¦‚è¯´åˆšåˆšåšè¿‡ä¸€æ¬¡é‡å»ºè¡¨æ“ä½œï¼› 2ã€åœ¨ DDL æœŸé—´ï¼Œå¦‚æœåˆšå¥½æœ‰å¤–éƒ¨çš„ DML åœ¨æ‰§è¡Œï¼Œè¿™æœŸé—´å¯èƒ½ä¼šå¼•å…¥ä¸€äº›æ–°çš„ç©ºæ´ï¼› 3ã€åœ¨é‡å»ºè¡¨çš„æ—¶å€™ï¼ŒInnoDB ä¸ä¼šæŠŠæ•´å¼ è¡¨å æ»¡ï¼Œæ¯ä¸ªé¡µç•™äº† 1/16 ç»™åç»­çš„æ›´æ–°ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å®é‡å»ºè¡¨ä¹‹åä¸æ˜¯ â€œæœ€â€ ç´§å‡‘çš„ã€‚ ","date":"2020-11-05","objectID":"/posts/common-maintenance-sql-for-mysql.html:0:0","series":null,"tags":[],"title":"MySQL çš„å¸¸ç”¨ç»´æŠ¤è¯­å¥","uri":"/posts/common-maintenance-sql-for-mysql.html"},{"categories":["MySQL"],"content":"MySQL çš„å››ç§äº‹åŠ¡éš”ç¦»çº§åˆ« / å¦‚ä½•åˆ‡æ¢ MySQL çš„é»˜è®¤å…¨å±€äº‹åŠ¡éš”ç¦»çº§åˆ« / äº†è§£ session å’Œ global å…³é”®å­— ä¸€ã€æŸ¥çœ‹å½“å‰ MySQL ç‰ˆæœ¬å· selectversion();äºŒã€æŸ¥çœ‹å½“å‰å…¨å±€äº‹åŠ¡éš”ç¦»çº§åˆ« ","date":"2020-11-04","objectID":"/posts/modifying-the-mysql-default-transaction-isolation-level.html:0:0","series":null,"tags":[],"title":"MySQL ä¿®æ”¹é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«","uri":"/posts/modifying-the-mysql-default-transaction-isolation-level.html"},{"categories":["MySQL"],"content":"2.1ã€MySQL5.6 åŠå…¶æ›´æ—©çš„ç‰ˆæœ¬ select@@global.tx_isolation;","date":"2020-11-04","objectID":"/posts/modifying-the-mysql-default-transaction-isolation-level.html:1:0","series":null,"tags":[],"title":"MySQL ä¿®æ”¹é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«","uri":"/posts/modifying-the-mysql-default-transaction-isolation-level.html"},{"categories":["MySQL"],"content":"2.2ã€MySQL5.7 åŠæ›´é«˜ç‰ˆæœ¬ select@@global.transaction_isolation;1ã€MySQL5.7 å¼•å…¥äº† transaction_isolation ç”¨æ¥ä»£æ›¿ tx_isolationï¼Œå¹¶åœ¨ MySQL8.0.3 å»æ‰äº† tx_isolationï¼Œåœ¨ MySQL5.7 åŠæ›´é«˜ç‰ˆæœ¬ä¸­å»ºè®®ä½¿ç”¨ transaction_isolation 2ã€è‹¥è¦æŸ¥çœ‹å½“å‰ä¼šè¯çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå¯ä»¥å»æ‰ global. ä½¿ç”¨ SELECT @@transaction_isolationã€‚åŒç†ï¼Œè‹¥åªæƒ³é’ˆå¯¹å½“å‰ session è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå¯å°† global å…³é”®å­—æ›¿æ¢ä¸º session ä¸‰ã€MySQL çš„å››ä¸ªäº‹åŠ¡éš”ç¦»çº§åˆ« | äº‹åŠ¡éš”ç¦»çº§åˆ« | è„è¯» | ä¸å¯é‡å¤è¯» | å¹»è¯» | | â€”- | â€”- | | è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰ | æ˜¯ | æ˜¯ | æ˜¯ | | è¯»æäº¤ï¼ˆread-committedï¼‰ | å¦ | æ˜¯ | æ˜¯ | | å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰ | å¦ | å¦ | æ˜¯ | | ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰ | å¦ | å¦ | å¦ | å››ã€ä¿®æ”¹ MySQL å…¨å±€é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ« ","date":"2020-11-04","objectID":"/posts/modifying-the-mysql-default-transaction-isolation-level.html:2:0","series":null,"tags":[],"title":"MySQL ä¿®æ”¹é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«","uri":"/posts/modifying-the-mysql-default-transaction-isolation-level.html"},{"categories":["MySQL"],"content":"4.1ã€MySQL5.6 åŠå…¶æ›´æ—©çš„ç‰ˆæœ¬ setglobaltx_isolation='read-uncommitted';setglobaltx_isolation='read-committed';setglobaltx_isolation='repeatable-read';setglobaltx_isolation='serializable';","date":"2020-11-04","objectID":"/posts/modifying-the-mysql-default-transaction-isolation-level.html:3:0","series":null,"tags":[],"title":"MySQL ä¿®æ”¹é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«","uri":"/posts/modifying-the-mysql-default-transaction-isolation-level.html"},{"categories":["MySQL"],"content":"4.2ã€MySQL5.7 åŠæ›´é«˜ç‰ˆæœ¬ setglobaltransaction_isolation='read-uncommitted';setglobaltransaction_isolation='read-committed';setglobaltransaction_isolation='repeatable-read';setglobaltransaction_isolation='serializable';","date":"2020-11-04","objectID":"/posts/modifying-the-mysql-default-transaction-isolation-level.html:4:0","series":null,"tags":[],"title":"MySQL ä¿®æ”¹é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«","uri":"/posts/modifying-the-mysql-default-transaction-isolation-level.html"},{"categories":["Nginx"],"content":"æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ nginx çš„ if ä¸­æ˜¯ä¸èƒ½å†™ limit_req å’Œ limit_conn çš„ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ nginx çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ— æ³•é€šè¿‡ if å¯¹è¯·æ±‚å‚æ•°åšé€»è¾‘åˆ¤æ–­ï¼Œä»è€Œå®ç°å¯¹å¤æ‚è¯·æ±‚å‚æ•°çš„ç²¾å‡†é™æµã€‚ åº”ç”¨åœºæ™¯ï¼šé’ˆå¯¹æŸä¸€ä¸ªæµé‡ç‰¹åˆ«å¤§çš„å…¥å£çš„æŸä¸€ä¸ªç‰¹å®š GET è¯·æ±‚å‚æ•°åšé™æµï¼Œæ¯”å¦‚æ¥è‡ªå¾®ä¿¡å°ç¨‹åºçš„ API è¯·æ±‚å…¥å£ï¼ˆhttps://example.com/app/index.php?i=99\u0026v=9.9.9\u0026m=xxxx\u0026from=wxappï¼‰ï¼Œæˆ‘å¸Œæœ› from = wxapp æ—¶è¿›è¡Œé™æµï¼Œè‹¥ from ä¸ç­‰äº wxapp åˆ™ä¸è¿›è¡Œé™æµã€‚ äºŒã€ä½¿ç”¨ map é’ˆå¯¹è¯·æ±‚å‚æ•°é™æµ åœ¨ nginx çš„ http éƒ¨åˆ†å†™å…¥ï¼š limit_req_zone $paramFrom zone=from:10m rate=30r/s; map $arg_from $paramFrom { wxapp wxapp; } è¿™é‡Œçš„ rate æˆ‘è®¾ä¸ºäº†æ¯ç§’å¤„ç† 30 ä¸ªè¯·æ±‚ï¼Œå¦‚æœ limit_req æ²¡æœ‰è®¾ç½® burstï¼Œåˆ™é»˜è®¤ä¸º 0ã€‚ rate æ”¯æŒ r/s å’Œ r/m ä¸¤ç§æ¨¡å¼ã€‚ åœ¨ server éƒ¨åˆ†å†™å…¥ï¼š location ^~ /app/index.php { limit_req zone=from; #limit_rate 512k; #å®å¡”PHPæ–‡ä»¶å¤„ç† try_files $uri =404; fastcgi_pass unix:/tmp/php-cgi-56.sock; fastcgi_index index.php; include fastcgi.conf; include pathinfo.conf; } ä¸‰ã€å…³äº Nginx çš„ map æ¨¡å— ä½¿ç”¨ map æ¨¡å—ï¼Œå¯ä»¥æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡ç»„åˆæˆä¸€ä¸ªæ–°çš„å˜é‡ã€‚é€šè¿‡åˆ¤æ–­æ–°çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥å¤„ç†éå¸¸å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚æœ¬æ–‡æ˜¯ä»¥ map æ¨¡å—ç”¨äºé™æµä¸ºç¤ºä¾‹ï¼Œç®€å•å±•ç¤ºä¸€ä¸‹ map çš„ä½¿ç”¨æ–¹æ³•ã€‚ å››ã€åŸç† http_limit_req_module å’Œ http_limit_conn_module ä¸¤ä¸ªæ¨¡å—æ˜¯åœ¨ nginx çš„ preaccess é˜¶æ®µå¯¹è¯·æ±‚åšæ‹¦æˆªï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨ limit_req_zone æˆ–æ˜¯ limit_conn_zone å¯¹è¯·æ±‚éƒ½æ˜¯å¯ä»¥çš„ã€‚ ä½†ä¸¤è€…æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ï¼Œrequest å’Œ connection æ˜¯ä¸åŒçš„ï¼Œåœ¨å®é™…åº”ç”¨ä¸­åº”æ³¨æ„åŒºåˆ«ã€‚ connection æ˜¯è¿æ¥ï¼Œå³å¸¸è¯´çš„ tcp è¿æ¥ï¼Œé€šè¿‡ä¸‰æ¬¡æ¡æ‰‹è€Œå»ºç«‹çš„ã€‚ request æ˜¯æŒ‡è¯·æ±‚ï¼Œå³ http è¯·æ±‚ï¼Œï¼ˆæ³¨æ„ï¼Œtcp è¿æ¥æ˜¯æœ‰çŠ¶æ€çš„ï¼Œè€Œæ„å»ºåœ¨ tcp ä¹‹ä¸Šçš„ http å´æ˜¯æ— çŠ¶æ€çš„åè®®ï¼‰ã€‚ limit_req_zone æˆ–æ˜¯ limit_conn_zone å¯¹è¯·æ±‚çš„é™åˆ¶æœ‰æ•ˆæ€§å–å†³äº key çš„è®¾è®¡ï¼Œé€šå¸¸ä½¿ç”¨ realip æ¨¡å—è·å–åˆ°çš„å®¢æˆ·ç«¯ IPã€‚ä½† IP æ˜¯é’ˆå¯¹å…¨ä½“ç”¨æˆ·åšçš„é™æµï¼Œæ˜¾ç„¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ map æ¨¡å—æ¥åŒ¹é…ç‰¹å®šçš„è¯·æ±‚å‚æ•°ç”Ÿæˆä¸€ä¸ªå˜é‡ï¼Œå°†è¿™ä¸ªå˜é‡ä½œä¸º limit_req_zone æˆ–æ˜¯ limit_conn_zone çš„ keyï¼Œè¿™æ ·å°±å¯ä»¥å®ç°æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚ ","date":"2020-09-17","objectID":"/posts/nginx-limits-flow-based-on-specific-request-parameters.html:0:0","series":null,"tags":["é™æµ"],"title":"Nginx æ ¹æ®ç‰¹å®šè¯·æ±‚å‚æ•°åšé™æµ","uri":"/posts/nginx-limits-flow-based-on-specific-request-parameters.html"},{"categories":["Nginx"],"content":"ä½¿ç”¨ nginx çš„ http_limit_conn_module æ¨¡å—å¯ä»¥åœ¨ nginx çš„ preaccess é˜¶æ®µå¯¹è¯·æ±‚çš„å¹¶å‘åšæ‹¦æˆªã€‚é™åˆ¶çš„æœ‰æ•ˆæ€§å–å†³äº key çš„è®¾è®¡ï¼Œé€šå¸¸ä½¿ç”¨ realip æ¨¡å—è·å–åˆ°çš„å®¢æˆ·ç«¯ IPã€‚ åº”ç”¨åœºæ™¯ï¼šå‡å¦‚ä½ åªå¸Œæœ›é™æµç”¨æˆ·çš„è®¿é—®å…¥å£ï¼Œä½†ä¸å¸Œæœ›ç®¡ç†åå°ä¹Ÿè¢«çº³å…¥é™æµçš„èŒƒå›´å†…ï¼Œå› ä¸ºåœ¨æ“ä½œç®¡ç†åå°æ—¶ï¼Œç”¨æˆ·è®¿é—®é‡æ¿€å¢ï¼Œnginx ä¼šé¢‘ç¹è¿”å› 503ï¼Œé‚£ä¹ˆç®¡ç†åå°å°†å¤„äºä¸å¯æ“ä½œçš„çŠ¶æ€ã€‚ ä¸€ã€ç¼–å†™ location è§„åˆ™ å‡è®¾æˆ‘éœ€è¦å¯¹ /app/index.php è¿™ä¸ªè·¯å¾„åšå¹¶å‘é‡çš„æ§åˆ¶ï¼ˆä¾‹å¦‚ï¼šhttps://example.com/app/index.php?i=99\u0026t=0\u0026v=5.5.5\u0026from=wxapï¼‰ï¼Œé¦–å…ˆè¦ç¡®å®šçš„äº‹æƒ…å°±æ˜¯ç¼–å†™çš„ location è§„åˆ™æ˜¯å¦èƒ½è¢«æ­£ç¡®åŒ¹é…åˆ°ã€‚ä¸‹é¢æ˜¯ nginx location çš„å†™æ³•ï¼š location ^~ /app/index.php { return 404; } åŠ ä¸Šè¿™æ¡ location è§„åˆ™åï¼Œå¦‚æœè®¿é—®ï¼ˆhttps://example.com/app/index.php?i=99\u0026t=0\u0026v=5.5.5\u0026from=wxapï¼‰è¿™æ ·çš„é“¾æ¥ï¼Œnginx ä¼šç›´æ¥è¿”å› 404 é”™è¯¯ã€‚é‚£ä¹ˆè¯´æ˜è¿™æ®µ location æ˜¯èƒ½å¤ŸåŒ¹é…åˆ°çš„ã€‚ äºŒã€é™åˆ¶å¹¶å‘é‡ åœ¨ nginx çš„ http éƒ¨åˆ†æ·»åŠ ï¼š limit_conn_zone $binary_remote_addr zone=perip:10m; limit_conn_zone $server_name zone=perserver:10m; $binary_remote_addr æ˜¯äºŒè¿›åˆ¶æ ¼å¼çš„ IPv4 åœ°å€ï¼Œè¿™ä¸ª IP æ˜¯è¯·æ±‚è€…çš„ IPã€‚å°†è¿œç¨‹å®¢æˆ·ç«¯çš„ IP åœ°å€ä½œä¸º zone çš„ keyï¼Œç›®çš„æ˜¯ä¸ºäº†å¯¹å•ä¸ªå®¢æˆ·ç«¯åšå¹¶å‘é™åˆ¶ã€‚ $server_name æŒ‡çš„æ˜¯å½“å‰ç«™ç‚¹çš„åç§°ï¼Œå°†è¿™ä¸ªä½œä¸º zone çš„ keyï¼Œç›®çš„æ˜¯ä¸ºäº†å¯¹æŸä¸ªç«™ç‚¹åšæ€»ä½“çš„å¹¶å‘é™åˆ¶ã€‚ ç¨ç¨ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ location è§„åˆ™ï¼Œè®¾ç½®ä¸ºç«™ç‚¹å¹¶å‘é‡ä¸º 300ï¼Œå•ä¸ª IP å¹¶å‘é‡é™åˆ¶ 25ï¼š location ^~ /app/index.php { limit_conn perserver 300; limit_conn perip 25; limit_rate 128k; #å®å¡”é¢æ¿é»˜è®¤çš„ enable-php-56.conf è§„åˆ™ï¼Œå¯¹phpæ–‡ä»¶çš„å“åº”å¤„ç† try_files $uri =404; fastcgi_pass unix:/tmp/php-cgi-56.sock; fastcgi_index index.php; include fastcgi.conf; include pathinfo.conf; } limit_conn çš„ä½œç”¨æ˜¯ï¼Œåœ¨æŸä¸ª zone ä¸‹çš„å¹¶å‘é™åˆ¶ä¸ºå¤šå°‘ã€‚ limit_rate é™åˆ¶çš„æ˜¯ nginx å‘å®¢æˆ·ç«¯ä¼ é€å“åº”çš„é€Ÿç‡ã€‚ limit_conn å’Œ limit_req ä¸èƒ½è®¾ç½®åœ¨ if æŒ‡ä»¤ä¸­ï¼Œæ‰€ä»¥å¦‚æœé’ˆå¯¹ä¸åŒçš„ URL è¿›è¡Œé™æµï¼Œåªèƒ½é€šè¿‡ä¸åŒçš„ location å®ç°ã€‚ limit_rate å¯ä»¥åœ¨ if æŒ‡ä»¤ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ if æŒ‡ä»¤åŒ¹é… URL å®ç°ä¸åŒ URL çš„é™æµã€‚ ä½¿ç”¨ jmeter ç­‰ç›¸å…³å¹¶å‘æµ‹è¯•å·¥å…·å¯ä»¥æµ‹åˆ°ï¼Œç¡®å®å¯¹ /app/index.php/ è¯·æ±‚åšäº†å¹¶å‘é‡çš„é™åˆ¶ï¼Œè¶…å‡ºå¹¶å‘é‡çš„éƒ¨åˆ† nginx ä¼šé»˜è®¤è¿”å› 503ã€‚ ","date":"2020-09-16","objectID":"/posts/nginx-limits-flow-to-specific-paths-or-entry-files.html:0:0","series":null,"tags":["é™æµ"],"title":"Nginx é’ˆå¯¹ç‰¹å®šè·¯å¾„æˆ–å…¥å£æ–‡ä»¶é™æµ","uri":"/posts/nginx-limits-flow-to-specific-paths-or-entry-files.html"},{"categories":["PHP","Redis"],"content":"ThinkPHP å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”è§£å†³é«˜å¹¶å‘æƒ…å†µä¸‹è¯»å†™å¸¦æ¥çš„è„è¯»é—®é¢˜ / ThinkPHP5.1 / Redis Cache / File Cache æµ‹è¯•ã€‚ åœ¨ç”¨æˆ·é‡ / å®¢æˆ·ç«¯æ•°é‡æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œåªè¦ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šå‘ç°æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä½†éšç€ç”¨æˆ·é‡ / å®¢æˆ·ç«¯æ•°é‡é€æ¸å¢å¤šï¼Œé«˜å¹¶å‘å¸¦æ¥çš„é—®é¢˜å°±ä¼šé€æ¸å‡ºç°ï¼Œè€Œè„è¯»æ˜¯ä¼—å¤šé—®é¢˜çš„å…¶ä¸­ä¹‹ä¸€ã€‚ ä¸€ã€æ— å¹¶å‘æ§åˆ¶ï¼Œä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ æœ¬æ–‡ä»¥ ThinkPHP5.1.39 çš„ä»£ç ä½œä¸ºæ¡ˆä¾‹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ª File Cache è¯»å†™æ“ä½œï¼š public function fileCacheCase(){ $keyName = \"test\"; $keyValue = 996; //å†™å…¥ç¼“å­˜ Cache::set($keyName, $keyValue, 3600); //ä»ç¼“å­˜ä¸­è·å–å€¼ $data = Cache::get($keyName); //åˆ é™¤ç¼“å­˜ Cache::rm($keyName); echo \"OK! $data\"; } è®¿é—®è¿™ä¸ª functionï¼Œä¼šè¾“å‡º OK! 996 ã€‚æ— è®ºä½ è®¿é—®å‡ æ¬¡ï¼Œç»“æœéƒ½æ˜¯å¦‚æ­¤ï¼Œä½†ä»…é™äºå•çº¿ç¨‹çš„æƒ…å†µï¼ˆåªæœ‰ä½ è‡ªå·±ä¸€ä¸ªäººåœ¨è®¿é—®è¿™ä¸ª functionï¼‰ï¼Œå¦‚æœæ˜¯å¤šä¸ªäººåŒæ—¶ä¸åœçš„è®¿é—®è¿™ä¸ª functionï¼Œè¿˜ä¼šæ˜¯è¿™æ ·å—ï¼Ÿæƒ³ä¸€æƒ³ ğŸ˜› ä½¿ç”¨ jmeter æµ‹è¯•ä¸€ä¸‹ï¼Œ120 çº¿ç¨‹æµ‹è¯•äº†åå‡ ç§’ï¼Œå‘ç°äº† 3 ç§ä¸åŒçš„è¿”å›ç»“æœã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:0:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"1.1ã€è¿”å›äº† OK! 996 ä¸å•çº¿ç¨‹æ—¶çš„ç»“æœä¸€è‡´ï¼Œæ˜¯æ­£å¸¸å¤„ç†é€»è¾‘ã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:1:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"1.2ã€åªè¿”å›äº† OKï¼è€Œä¸æ˜¯ OK! 996 è¯´æ˜ç¼“å­˜ä¸å­˜åœ¨ï¼ŒåŸå› æ˜¯ï¼šåœ¨ A çº¿ç¨‹å°† 996 å†™å…¥ç¼“å­˜åï¼ŒB çº¿ç¨‹å°†ç¼“å­˜åˆ é™¤äº†ã€‚æ­¤æ—¶ A çº¿ç¨‹ä»ç¼“å­˜ä¸­è¯»å‡ºæ¥çš„æ•°æ®ä¸º nullï¼Œæ‰€ä»¥ A çº¿ç¨‹è¾“å‡ºäº† OK! ï¼Œè€Œä¸æ˜¯ OK! 996ã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:2:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"1.3ã€è¿”å›äº†ä¸€ä¸ª 500 é”™è¯¯ æŠ¥é”™çš„å†…å®¹æ˜¯ï¼š file_get_contentsï¼ˆâ€¦ï¼‰No such file or directoryã€‚ æ˜¾ç„¶æ˜¯ cache æ–‡ä»¶å¤¹ä¸‹çš„æŸä¸ªç¼“å­˜æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥å¼•èµ·äº†è¿™ä¸ªé”™è¯¯ã€‚åŸå› æ˜¯ï¼šA çº¿ç¨‹åœ¨åˆ é™¤ç¼“å­˜åï¼ŒB çº¿ç¨‹ä¹Ÿåœ¨æ‰§è¡Œåˆ é™¤ç¼“å­˜çš„æ“ä½œã€‚å½“ç¼“å­˜æ–‡ä»¶å·²è¢«åˆ é™¤æ—¶ï¼Œå†æ‰§è¡Œåˆ é™¤ç¼“å­˜æ–‡ä»¶çš„æ“ä½œï¼Œè‡ªç„¶å°±æŠ¥äº†æ–‡ä»¶ä¸å­˜åœ¨çš„é”™è¯¯ã€‚ï¼ˆå®æµ‹ 120 ä¸ªçº¿ç¨‹å¹¶å‘ï¼Œæ€»è®¡ 500 ä¸ªè¯·æ±‚ï¼Œå¼‚å¸¸ç‡ 0.20%ï¼‰ å°½ç®¡æˆ‘ä¿®æ”¹äº† File Cache çš„ 133 è¡Œï¼Œåœ¨åˆ é™¤å‰åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè™½ç„¶å¼‚å¸¸ç‡é™ä½äº†ï¼Œä½†ä¾ç„¶æ— æ³•ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ã€‚å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œé—®é¢˜å·²ç»æ˜¾ç°å‡ºæ¥äº†ã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨ redis ç¼“å­˜è¯•è¯•çœ‹ï¼š public function fileCacheCase(){ $keyName = \"test\"; $keyValue = 996; //å†™å…¥ç¼“å­˜ Cache::store('redis')-\u003eset($keyName, $keyValue, 3600); //ä»ç¼“å­˜ä¸­è·å–å€¼ $data = Cache::store('redis')-\u003eget($keyName); //åˆ é™¤ç¼“å­˜ Cache::store('redis')-\u003erm($keyName); echo \"OK! $data\"; } ç»è¿‡æµ‹è¯•ï¼Œä¸ä¸Šé¢çš„ 3 ç§æƒ…å†µä¸€è‡´ã€‚ï¼ˆæ ¹æ® thinkphp5.1 çš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ store æ¥åˆ‡æ¢åˆ° redisï¼Œä½†ä¸çŸ¥é“ä¸ºä½•ï¼Œä»ç„¶ä¼šæŠ¥ File Cache é©±åŠ¨çš„ No such file or directory/unlink é”™è¯¯ï¼Œååˆ†è¯¡å¼‚ï¼‰ã€‚ å¦‚ä½•è§£å†³é«˜å¹¶å‘åœºæ™¯ä¸‹å¸¦æ¥çš„è„è¯»é—®é¢˜ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šä½¿ç”¨é”æœºåˆ¶ã€‚ äºŒã€å…³äºé”æœºåˆ¶ æ ¹æ®é”çš„æ§åˆ¶èŒƒå›´ï¼Œå¯åˆ†ä¸ºå•æœºé” / åˆ†å¸ƒå¼é” 2 ç§ã€‚æ ¹æ®é”çš„å®ç°æ€æƒ³ï¼Œå¯åˆ†ä¸ºæ‚²è§‚é” / ä¹è§‚é” 2 ç§ã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:3:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"2.1ã€å•æœºé” å³ä¸ºå•æœºç¯å¢ƒçš„é”ï¼Œæ— åˆ†å¸ƒå¼è®¾è®¡ã€‚ å¸¸ç”¨çš„å®ç°å·¥å…·ï¼š Redis Memcached ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:4:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"2.2ã€åˆ†å¸ƒå¼é” ä¸ºäº†é˜²æ­¢åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤šä¸ªè¿›ç¨‹ä¹‹é—´ç›¸äº’å¹²æ‰°ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§åˆ†å¸ƒå¼åè°ƒæŠ€æœ¯æ¥å¯¹è¿™äº›è¿›ç¨‹è¿›è¡Œè°ƒåº¦ã€‚è€Œè¿™ä¸ªåˆ†å¸ƒå¼åè°ƒæŠ€æœ¯çš„æ ¸å¿ƒå°±æ˜¯æ¥å®ç°è¿™ä¸ªåˆ†å¸ƒå¼é”ã€‚ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªæ–¹æ³•åœ¨åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªæœºå™¨çš„ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ é«˜å¯ç”¨çš„è·å–é”ä¸é‡Šæ”¾é” é«˜æ€§èƒ½çš„è·å–é”ä¸é‡Šæ”¾é” å…·å¤‡é”å¤±æ•ˆæœºåˆ¶ï¼Œé˜²æ­¢æ­»é” å…·å¤‡éé˜»å¡é”ç‰¹æ€§ï¼Œå³æ²¡æœ‰è·å–åˆ°é”å°†ç›´æ¥è¿”å›è·å–é”å¤±è´¥ å¸¸ç”¨çš„å®ç°å·¥å…·ï¼š Zookeeper Redis Memcached Chubby ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:5:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"2.3ã€æ‚²è§‚é” æ€»æ˜¯å‡è®¾æœ€åçš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼šé˜»å¡ç›´åˆ°å®ƒæ‹¿åˆ°é”ï¼ˆå…±äº«èµ„æºæ¯æ¬¡åªç»™ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå…¶å®ƒçº¿ç¨‹é˜»å¡ï¼Œç”¨å®Œåå†æŠŠèµ„æºè½¬è®©ç»™å…¶å®ƒçº¿ç¨‹ï¼‰ã€‚ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“é‡Œè¾¹å°±ç”¨åˆ°äº†å¾ˆå¤šè¿™ç§é”æœºåˆ¶ï¼Œæ¯”å¦‚è¡Œé”ï¼Œè¡¨é”ç­‰ï¼Œè¯»é”ï¼Œå†™é”ç­‰ï¼Œéƒ½æ˜¯åœ¨åšæ“ä½œä¹‹å‰å…ˆä¸Šé”ã€‚Java ä¸­ synchronized å’Œ ReentrantLock ç­‰ç‹¬å é”å°±æ˜¯æ‚²è§‚é”æ€æƒ³çš„å®ç°ã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:6:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"2.4ã€ä¹è§‚é” æ€»æ˜¯å‡è®¾æœ€å¥½çš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶å’Œ CAS ç®—æ³•å®ç°ã€‚ä¹è§‚é”é€‚ç”¨äºå¤šè¯»çš„åº”ç”¨ç±»å‹ï¼Œè¿™æ ·å¯ä»¥æé«˜ååé‡ï¼Œåƒæ•°æ®åº“æä¾›çš„ç±»ä¼¼äº write_condition æœºåˆ¶ï¼Œå…¶å®éƒ½æ˜¯æä¾›çš„ä¹è§‚é”ã€‚åœ¨ Java ä¸­ java.util.concurrent.atomic åŒ…ä¸‹é¢çš„åŸå­å˜é‡ç±»å°±æ˜¯ä½¿ç”¨äº†ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼ CAS å®ç°çš„ã€‚ ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:7:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"2.5ã€å¦‚ä½•é€‰æ‹©æ‚²è§‚ / ä¹è§‚é”ï¼Ÿ ä»ä¸Šé¢å¯¹ä¸¤ç§é”çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ä¸¤ç§é”å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä¸å¯è®¤ä¸ºä¸€ç§å¥½äºå¦ä¸€ç§ï¼Œåƒä¹è§‚é”é€‚ç”¨äºå†™æ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼ˆå¤šè¯»åœºæ™¯ï¼‰ï¼Œå³å†²çªçœŸçš„å¾ˆå°‘å‘ç”Ÿçš„æ—¶å€™ï¼Œè¿™æ ·å¯ä»¥çœå»äº†é”çš„å¼€é”€ï¼ŒåŠ å¤§äº†ç³»ç»Ÿçš„æ•´ä¸ªååé‡ã€‚ä½†å¦‚æœæ˜¯å¤šå†™çš„æƒ…å†µï¼Œä¸€èˆ¬ä¼šç»å¸¸äº§ç”Ÿå†²çªï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸Šå±‚åº”ç”¨ä¼šä¸æ–­çš„è¿›è¡Œ retryï¼Œè¿™æ ·åå€’æ˜¯é™ä½äº†æ€§èƒ½ï¼Œæ‰€ä»¥ä¸€èˆ¬å¤šå†™çš„åœºæ™¯ä¸‹ç”¨æ‚²è§‚é”å°±æ¯”è¾ƒåˆé€‚ã€‚ ä¸‰ã€Redis å®ç°æ‚²è§‚é” åœ¨å•†å“ç§’æ€æ´»åŠ¨æ´»åŠ¨ä¸­ï¼Œæµé‡å³°å€¼ç›¸å¯¹å¹³å¸¸æ—¶çš„æµé‡æ˜¯é«˜å‡ºéå¸¸å¤šçš„ã€‚ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”æœºåˆ¶ï¼Œå¯ä»¥è§£å†³å•†å“åº“å­˜è„è¯»çš„é—®é¢˜ã€‚ åˆå§‹åŒ–åº“å­˜ï¼š public function stockInit() { $key = \"stock\"; $stockInit = 699; //æ¸…ç©ºæ‰€æœ‰ç¼“å­˜ Cache::clear(); Cache::store('redis')-\u003eclear(); //å†™å…¥åº“å­˜åˆå§‹å€¼ Cache::store('redis')-\u003eset($key, $stockInit); echo 'stock Init'; } ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:8:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"3.1ã€æ‚²è§‚é”å®ç°ï¼ˆä¸€ï¼‰éæœ€ä½³å®è·µ çœ‹ä¼¼ç¬¦åˆé€»è¾‘çš„å•†å“ç§’æ€ï¼š public function flashSale() { $key = \"stock\"; $lockSuffix = \"_lock\"; //åˆ¤æ–­åº“å­˜é”æ˜¯å¦å­˜åœ¨ while (Cache::get($key . $lockSuffix) == true) { // å­˜åœ¨é”å®šåˆ™ç­‰å¾… usleep(200000); } //åº“å­˜ä¸Šé” Cache::store('redis')-\u003eset($key . $lockSuffix, 1, 30); //è·å–åº“å­˜å€¼ $stock = Cache::store('redis')-\u003eget($key); //å‡åº“å­˜ if ($stock \u003e 0) { $temp = $stock; $stock -= 1; } else { //æ‰“å¼€åº“å­˜é” Cache::store('redis')-\u003eset($key . $lockSuffix, false); return \"å·²å”®ç½„\"; } Cache::store('redis')-\u003eset($key, $stock); //æ‰“å¼€åº“å­˜é” Cache::store('redis')-\u003eset($key . $lockSuffix, false); return \"æ­å–œï¼Œæ‚¨æŠ¢åˆ°äº†ç¬¬ {$temp}ä¸ªåº“å­˜ï¼\"; } å®æµ‹ 150 çº¿ç¨‹å¹¶å‘ï¼Œå¼‚å¸¸ç‡ 0%ï¼Œè™½ç„¶å¼•ç”¨äº†é”æœºåˆ¶ï¼Œçœ‹ä¼¼ç¬¦åˆé€»è¾‘çš„é”æœºåˆ¶ï¼Œä½†ä»ä¼šæœ‰æä½çš„æ¦‚ç‡è„è¯»ï¼ŒåŸå› æ— ä»–ï¼Œæœ‰ N ä¸ªçº¿ç¨‹åŒæ—¶æŠ¢åˆ°äº†é”ã€‚è™½ç„¶æ¦‚ç‡ä½ï¼Œä½†çº¿ç¨‹ä¸€å¤šä»ç„¶ä¼šè„è¯»ã€‚æ‰€ä»¥éœ€è¦æ”¹ç”¨ redis åŸç”Ÿæ”¯æŒçš„ setnx æ¥ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹æŠ¢åˆ°äº†é”ã€‚ å¦‚ä¸‹ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æŠ¢åˆ°äº†ç¬¬ 80 ä¸ªåº“å­˜ï¼š ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:9:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["PHP","Redis"],"content":"3.2ã€æ‚²è§‚é”å®ç°ï¼ˆäºŒï¼‰ setnx æ˜¯ set if not exists çš„ç®€å†™ï¼Œåœ¨ key ä¸å­˜åœ¨æ—¶ç­‰ä»·äº setï¼Œå¦‚æœ key å­˜åœ¨ï¼Œåˆ™ä¸æ›´æ–°ç¼“å­˜å†…å®¹ï¼Œä¸”è¿”å› falseã€‚ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥ä¿è¯é”åªæœ‰ä¸€ä¸ªçº¿ç¨‹æŠ¢åˆ°äº†ã€‚ ä½¿ç”¨ redis setnx å®ç°æ‚²è§‚é”çš„å•†å“ç§’æ€ï¼š public function flashSale() { $redisConifg = config('cache.redis'); //è·å–å½“å‰æ¨¡å—ä¸‹çš„configæ–‡ä»¶å¤¹ä¸­çš„cacheæ–‡ä»¶çš„redisé…ç½®æ•°ç»„ $redis = Cache::connect($redisConifg); //è·å–thinkPHPå®˜æ–¹å°è£…çš„Redis Cacheå¯¹è±¡ $handler = Cache::connect($redisConifg)-\u003ehandler();//è·å–php redisæ‰©å±•åŸç”Ÿrediså¯¹è±¡ https://github.com/phpredis/phpredis $key = \"stock\";//å•†å“åº“å­˜ç¼“å­˜å $lockSuffix = \"_lock\";//å•†å“åº“å­˜é”åç¼€å $timeOut = 10; //åº“å­˜é”è¿‡æœŸæ—¶é—´ //æŠ¢åº“å­˜é” while ($handler-\u003eset($key . $lockSuffix, 1, ['nx', 'ex' =\u003e $timeOut]) == false) { // æ²¡æœ‰æŠ¢åˆ°åˆ™ç­‰å¾… usleep(20000); } //å½“å‰çº¿ç¨‹æŠ¢åˆ°åº“å­˜é”äº† //è·å–åº“å­˜å€¼ $stock = $redis-\u003eget($key); //å‡åº“å­˜ if ($stock \u003e 0) { $temp = $stock; $stock -= 1; } else { //åˆ é™¤åº“å­˜é” $redis-\u003erm($key . $lockSuffix); return \"å·²å”®ç½„\"; } //æ›´æ–°åº“å­˜å€¼ $redis-\u003eset($key, $stock); //åˆ é™¤åº“å­˜é” $redis-\u003erm($key . $lockSuffix); return \"æ­å–œï¼Œæ‚¨æŠ¢åˆ°äº†ç¬¬ {$temp}ä¸ªåº“å­˜ï¼\"; } 150 çº¿ç¨‹å¹¶å‘æµ‹è¯•åï¼Œå¹¶æ²¡æœ‰å‘ç°æœ‰å¼‚å¸¸æƒ…å†µäº†ã€‚æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œå¯ä»¥å¢åŠ ç­‰å¾…è¶…æ—¶æœºåˆ¶ã€‚ å››ã€REF https://redis.io/commands/set https://github.com/phpredis/phpredis#set https://www.jianshu.com/p/a1ebab8ce78a https://blog.csdn.net/qq_34337272/article/details/81072874 ","date":"2020-08-30","objectID":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html:10:0","series":null,"tags":["æ‚²è§‚é”"],"title":"ThinkPHP5.1 å¦‚ä½•ä½¿ç”¨ Redis å®ç°æ‚²è§‚é”","uri":"/posts/thinkphp-5.1-how-to-implement-pessimistic-locking-using-redis.html"},{"categories":["Nginx"],"content":"è´Ÿè½½å‡è¡¡æ˜¯é«˜å¯ç”¨ç½‘ç»œåŸºç¡€æ¶æ„çš„å…³é”®ç»„ä»¶ï¼Œé€šå¸¸ç”¨äºå°†å·¥ä½œè´Ÿè½½åˆ†å¸ƒåˆ°å¤šä¸ªæœåŠ¡å™¨æ¥æé«˜ç½‘ç«™ã€åº”ç”¨ã€æ•°æ®åº“æˆ–å…¶ä»–æœåŠ¡çš„æ€§èƒ½å’Œå¯é æ€§ã€‚ å¦‚æœæ‰‹ä¸Šæ²¡æœ‰è¶³å¤Ÿæ•°é‡çš„å…¬ç½‘äº‘æœåŠ¡å™¨ï¼Œæœ¬åœ°ä½¿ç”¨è™šæ‹Ÿæœºç¯å¢ƒæ­å»ºé›†ç¾¤åšè´Ÿè½½å‡è¡¡æµ‹è¯•æ˜¯æœ€çœé’±çš„åšæ³•ï¼Œä¹Ÿæ–¹ä¾¿åšå¿«ç…§æ¢å¤ã€‚ ä¸€ã€å‡†å¤‡å·¥ä½œ æˆ‘ä½¿ç”¨ VMware åœ¨æœ¬åœ°éƒ¨ç½²äº† 3 å° CentOS æœåŠ¡å™¨ä½œä¸ºæµ‹è¯•ç¯å¢ƒï¼Œç»Ÿä¸€å®‰è£…å®å¡”ç¼–è¯‘ç¯å¢ƒï¼ˆLNMPï¼‰ã€‚è™šæ‹Ÿæœºçš„ç½‘ç»œé…ç½®ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œå°±ä¸å†èµ˜è¿°äº†ã€‚ äºŒã€æ£€æŸ¥ç¯å¢ƒ è¿™ 3 å° CentOS æœåŠ¡å™¨ç¼–è¯‘å¥½ç¯å¢ƒä¹‹ååˆ†åˆ«æ·»åŠ ä¸€ä¸ªç½‘ç«™ï¼Œæ£€æŸ¥ web æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œå¹¶ä¿®æ”¹å…¶ä¸­ 2 å°çš„é»˜è®¤æ¨¡æ¿æ–‡ä»¶ï¼Œæ–¹ä¾¿åœ¨æµ‹è¯•è´Ÿè½½å‡è¡¡æ•ˆæœæ—¶åŒºåˆ†æ˜¯å“ªå°æœåŠ¡å™¨æä¾›çš„ web æœåŠ¡ã€‚ æœ¬æ¬¡æµ‹è¯•çš„ä¸‰å°æœåŠ¡å™¨ IP åœ°å€åˆ†åˆ«ä¸º 192.168.150.10ï¼ˆè´Ÿè½½å‡è¡¡ ä¸»æœåŠ¡å™¨ï¼‰ 192.168.150.20ï¼ˆä¸šåŠ¡æœåŠ¡å™¨ï¼‰ 192.168.150.30ï¼ˆä¸šåŠ¡æœåŠ¡å™¨ï¼‰ ä¸‰ã€éƒ¨ç½²ç½‘ç«™ æµ‹è¯•åŸŸåä¸º t10.comï¼Œå› æ­¤éœ€è¦åœ¨å®¿ä¸»æœºä¸Šå°†æ­¤åŸŸåè§£æåˆ°è´Ÿè½½å‡è¡¡ä¸»æœåŠ¡å™¨ï¼ˆ192.168.150.10ï¼‰ã€‚ ä¿®æ”¹å®¿ä¸»æœºçš„ hosts æ–‡ä»¶ï¼ˆè·¯å¾„ï¼šC:\\Windows\\System32\\drivers\\etc\\hostsï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚ 192.168.150.10 t10.com åˆ†åˆ«åœ¨ä¸‰å°æœåŠ¡å™¨ä¸Šæ·»åŠ ç½‘ç«™åï¼Œå°† t10.com è¿™ä¸ªåŸŸåè§£æåˆ°ç½‘ç«™ä¸Šã€‚ å¦‚ä¸‹å›¾ç¤ºä¾‹ åœ¨è´Ÿè½½å‡è¡¡ä¸»æœåŠ¡å™¨çš„ server è¯­æ³•å—ä¸‹ï¼Œä¹Ÿå°±æ˜¯ç½‘å…³çš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä¸€æ¡è½¬å‘è§„åˆ™ location / { # è½¬å‘è‡³è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ proxy_pass http://fzjh; proxy_connect_timeout 2s; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } åœ¨è´Ÿè½½å‡è¡¡ä¸»æœåŠ¡å™¨çš„ nginx é…ç½®æ–‡ä»¶çš„ http è¯­æ³•å—ä¸‹ï¼ˆä¸ server åŒçº§åˆ«ï¼‰åŠ å…¥è§„åˆ™ upstream fzjh { # least_conn; # ip_hash; server 192.168.150.20:80 weight=1; server 192.168.150.30:80 weight=1; # server 192.168.150.30:80 backup; } ä¿å­˜é…ç½®æ–‡ä»¶åé‡å¯ nginxï¼Œæ­¤æ—¶è®¿é—® t10.com æ—¶ä¼šè‡ªåŠ¨åˆ†å‘è‡³ä¸¤å°ä¸šåŠ¡æœåŠ¡å™¨ï¼ˆ192.168.150.20ã€192.168.150.30ï¼‰ã€‚ å››ã€å¸¸ç”¨çš„ nginx è´Ÿè½½å‡è¡¡ç®—æ³• ","date":"2020-08-24","objectID":"/posts/load-balancing-based-on-nginx.html:0:0","series":null,"tags":["è´Ÿè½½å‡è¡¡","é«˜å¯ç”¨"],"title":"åŸºäº nginx å®ç°çš„è´Ÿè½½å‡è¡¡","uri":"/posts/load-balancing-based-on-nginx.html"},{"categories":["Nginx"],"content":"1ã€è½®è¯¢ï¼ˆé»˜è®¤ï¼‰ è½®è¯¢å³ Round Robinï¼Œæ ¹æ® Nginx é…ç½®æ–‡ä»¶ä¸­çš„é¡ºåºï¼Œä¾æ¬¡æŠŠå®¢æˆ·ç«¯çš„ Web è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ã€‚ http{ upstream sampleapp { server ...; server ...; } .... server{ listen 80; ... location / { proxy_pass http://sampleapp; } } ","date":"2020-08-24","objectID":"/posts/load-balancing-based-on-nginx.html:1:0","series":null,"tags":["è´Ÿè½½å‡è¡¡","é«˜å¯ç”¨"],"title":"åŸºäº nginx å®ç°çš„è´Ÿè½½å‡è¡¡","uri":"/posts/load-balancing-based-on-nginx.html"},{"categories":["Nginx"],"content":"2ã€least_connï¼ˆæœ€å°‘è¿æ¥ï¼‰ Web è¯·æ±‚ä¼šè¢«è½¬å‘åˆ°è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ä¸Šã€‚ http{ upstream sampleapp { least_conn; server ...; server ...; } .... server{ listen 80; ... location / { proxy_pass http://sampleapp; } } ","date":"2020-08-24","objectID":"/posts/load-balancing-based-on-nginx.html:2:0","series":null,"tags":["è´Ÿè½½å‡è¡¡","é«˜å¯ç”¨"],"title":"åŸºäº nginx å®ç°çš„è´Ÿè½½å‡è¡¡","uri":"/posts/load-balancing-based-on-nginx.html"},{"categories":["Nginx"],"content":"3ã€ip_hashï¼ˆIP åœ°å€å“ˆå¸Œï¼‰ å‰è¿°çš„ä¸¤ç§è´Ÿè½½å‡è¡¡æ–¹æ¡ˆä¸­ï¼ŒåŒä¸€å®¢æˆ·ç«¯è¿ç»­çš„ Web è¯·æ±‚å¯èƒ½ä¼šè¢«åˆ†å‘åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼Œå› æ­¤å¦‚æœæ¶‰åŠåˆ°ä¼šè¯ Sessionï¼Œé‚£ä¹ˆä¼šè¯ä¼šæ¯”è¾ƒå¤æ‚ã€‚å¸¸è§çš„æ˜¯åŸºäºæ•°æ®åº“çš„ä¼šè¯æŒä¹…åŒ–ã€‚è¦å…‹æœä¸Šé¢çš„éš¾é¢˜ï¼Œå¯ä»¥ä½¿ç”¨åŸºäº IP åœ°å€å“ˆå¸Œçš„è´Ÿè½½å‡è¡¡æ–¹æ¡ˆã€‚è¿™æ ·çš„è¯ï¼ŒåŒä¸€å®¢æˆ·ç«¯è¿ç»­çš„ Web è¯·æ±‚éƒ½ä¼šè¢«åˆ†å‘åˆ°åŒä¸€æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚ http{ upstream sampleapp { ip_hash; server ...; server ...; } .... server{ listen 80; ... location / { proxy_pass http://sampleapp; } } ","date":"2020-08-24","objectID":"/posts/load-balancing-based-on-nginx.html:3:0","series":null,"tags":["è´Ÿè½½å‡è¡¡","é«˜å¯ç”¨"],"title":"åŸºäº nginx å®ç°çš„è´Ÿè½½å‡è¡¡","uri":"/posts/load-balancing-based-on-nginx.html"},{"categories":["Nginx"],"content":"4ã€åŸºäºæƒé‡çš„è´Ÿè½½å‡è¡¡ç®—æ³• åŸºäºæƒé‡çš„è´Ÿè½½å‡è¡¡å³ Weighted Load Balancingï¼Œè¿™ç§æ–¹å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½® Nginx æŠŠè¯·æ±‚æ›´å¤šåœ°åˆ†å‘åˆ°é«˜é…ç½®çš„åç«¯æœåŠ¡å™¨ä¸Šï¼ŒæŠŠç›¸å¯¹è¾ƒå°‘çš„è¯·æ±‚åˆ†å‘åˆ°ä½é…æœåŠ¡å™¨ã€‚ http{ upstream sampleapp { server ... weight=1; server ... weight=1; } .... server{ listen 80; ... location / { proxy_pass http://sampleapp; } } backup å³ä¸ºå¤‡æœºï¼Œå½“æ‰€æœ‰ä¸šåŠ¡æœåŠ¡å™¨éƒ½å®•æœºæ—¶ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨è½¬å‘è‡³å¤‡æœºï¼› å¤šå°ä¸šåŠ¡æœåŠ¡å™¨çš„ä»£ç åŒæ­¥å¯ä»¥ä½¿ç”¨ rsync è§£å†³ã€‚ ","date":"2020-08-24","objectID":"/posts/load-balancing-based-on-nginx.html:4:0","series":null,"tags":["è´Ÿè½½å‡è¡¡","é«˜å¯ç”¨"],"title":"åŸºäº nginx å®ç°çš„è´Ÿè½½å‡è¡¡","uri":"/posts/load-balancing-based-on-nginx.html"},{"categories":["è½¯ä»¶"],"content":"å†…å­˜ç›˜å°±æ˜¯å°†ä¸€éƒ¨åˆ†ç¡¬ç›˜å½“ç¡¬ç›˜ä½¿ç”¨ï¼Œç”±äºå†…å­˜é€Ÿåº¦å¾ˆå¿«ï¼Œåˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§è®¾ç½®è™šæ‹Ÿå†…å­˜ç¡¬ç›˜ï¼Œåœ¨ä¸€äº›ç‰¹å®šåœºæ™¯å’Œéœ€æ±‚ä¸‹æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚ ç•Œé¢ç®€æ´ï¼ŒåŸç”Ÿæ”¯æŒä¸­æ–‡ï¼Œæ”¯æŒåœ¨åˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œèƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ã€‚ å®˜ç½‘ï¼šhttps://www.softperfect.com/products/ramdisk åº¦ç›˜ï¼šhttps://pan.baidu.com/s/1z9elPiX103hloTwXj-NW5w æå–ç ï¼škcik ","date":"2020-08-07","objectID":"/posts/ram-disk-tool.html:0:0","series":null,"tags":["å†…å­˜ç›˜"],"title":"SoftPerfect RAM Disk å†…å­˜ç›˜å·¥å…·","uri":"/posts/ram-disk-tool.html"},{"categories":["æŠ˜è…¾"],"content":"åœ¨å¼€å‘ API å®Œæˆåï¼Œæµ‹è¯•çš„ç¯èŠ‚ä¸­å…ä¸äº†è¦è¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚postman çš„ runner åªæ”¯æŒä¸²è¡ŒåŒ–æµ‹è¯•ï¼Œä¸æ”¯æŒå¹¶å‘ã€‚jmeter éœ€è¦åœ¨æœ¬æœºä¸Šå®‰è£… JDKï¼Œä¸”éœ€è¦é…ç½®å¥½ JAVA ç¯å¢ƒå˜é‡ï¼Œå®‰è£…ç•¥æ˜¾å¤æ‚ï¼Œè½¯ä»¶ç•Œé¢å¯¹å°ç™½å¹¶ä¸å‹å¥½ï¼Œéå¼€ç®±å³ç”¨çš„å·¥å…·ã€‚æƒè¡¡ä¹‹åï¼Œæˆ‘ä¸ªäººæ¨èä»»ä½•å¯¹å‹åŠ›æµ‹è¯•æ¯«æ— ç»éªŒçš„äººä¼˜å…ˆé€‰æ‹©ä½¿ç”¨ Linux ç¯å¢ƒä¸‹çš„ abï¼ˆapache benchmarkï¼‰å‹æµ‹å·¥å…·è¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚ # å®‰è£… ab yum -y install httpd-tools # æ˜¾ç¤ºå¯é€‰çš„å‚æ•°åˆ—è¡¨åŠè¯´æ˜ ab -help # æµ‹è¯• # cï¼šå¹¶å‘æ•°é‡ # nï¼šæ€»è®¡è¯·æ±‚æ•°é‡ ab -c 100 -n 10000 https://yourdomain.com/getUserInfo?id=36\u0026token=6vPgUT0gG1RyzBRKxYsSNBgwFwM1mQLz è€å¿ƒç­‰å¾…æµ‹è¯•å®Œæ¯•ï¼Œä»¥ä¸‹æ˜¯æµ‹è¯•æŠ¥å‘Š Server Software: nginx Server Hostname: yourdomain.com Server Port: 443 SSL/TLS Protocol: TLSv1.2,ECDHE-RSA-AES128-GCM-SHA256,2048,128 Document Path: getUserInfo?id=36\u0026token=6vPgUT0gG1RyzBRKxYsSNBgwFwM1mQLz Document Length: 41 bytes Concurrency Level: 200 Time taken for tests: 187.546 seconds Complete requests: 30000 Failed requests: 53 (Connect: 0, Receive: 0, Length: 53, Exceptions: 0) Write errors: 0 Non-2xx responses: 47 Total transferred: 11695535 bytes HTML transferred: 1235123 bytes Requests per second: 159.96 [#/sec] (mean) Time per request: 1250.304 [ms] (mean) Time per request: 6.252 [ms] (mean, across all concurrent requests) Transfer rate: 60.90 [Kbytes/sec] received Connection Times (ms) min mean[+/-sd] median max Connect: 0 420 1078.0 286 63684 Processing: 50 640 996.0 609 69848 Waiting: 50 625 248.5 608 1796 Total: 217 1060 1452.9 951 69848 Percentage of the requests served within a certain time (ms) 50% 951 # 50%çš„è¯·æ±‚åœ¨951mså†…è¿”å› 66% 1074 75% 1152 80% 1205 90% 1391 # 90%çš„è¯·æ±‚åœ¨1391mså†…è¿”å› 95% 1660 98% 2043 99% 2928 # 99%çš„è¯·æ±‚åœ¨2928mså†…è¿”å› 100% 69848 (longest request) æ¯”è¾ƒé‡è¦çš„ä¹Ÿå°±æ˜¯æœ€åè¿™éƒ¨åˆ†çš„ percent line äº†ï¼Œjmeter åªæœ‰ 90%ã€95%ã€99% è¿™ä¸‰ä¸ªé‡çº§ï¼Œab ä» 50% åˆ° 100% éƒ½æœ‰ã€‚ ","date":"2020-06-13","objectID":"/posts/stress-test-the-api-using-apache-benchmark.html:0:0","series":null,"tags":["ab"],"title":"ä½¿ç”¨ apache benchmark å¯¹ API è¿›è¡Œå‹åŠ›æµ‹è¯•","uri":"/posts/stress-test-the-api-using-apache-benchmark.html"},{"categories":["Nginx"],"content":"è‡ªåŠ¨åˆ‡å‰²ç›®æ ‡ç›®å½•ä¸‹çš„æ‰€æœ‰ .log æ–‡ä»¶ï¼Œå³ä½¿æ–°å»ºç«™ç‚¹ï¼Œäº§ç”Ÿæ–°çš„æ—¥å¿—éœ€è¦åˆ‡å‰²ï¼Œä¹Ÿæ— éœ€ä¿®æ”¹è„šæœ¬ã€‚ #!/bin/bash #è‡ªåŠ¨ç‰ˆæ—¥å¿—åˆ‡å‰² æ— éœ€è®¾ç½® #å­˜æ”¾ .log æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ log_files_path=\"/home/wwwlogs\" #å­˜æ”¾åˆ‡å‰²åæ—¥å¿—çš„æ–‡ä»¶å¤¹è·¯å¾„ log_files_dir=${log_files_path}/$(date -d \"yesterday\" +\"%Y\")/$(date -d \"yesterday\" +\"%m\") #nginxçš„è·¯å¾„ nginx_sbin=\"/usr/local/nginx/sbin/nginx\" #ä¿å­˜å¤šå°‘å¤©å†…çš„æ—¥å¿— save_days=30 ############################################ # è¯·å‹¿ä¿®æ”¹æ­¤è„šæœ¬ä¸‹é¢çš„ä»»ä½•å†…å®¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ # ############################################ mkdir -p $log_files_dir cd $log_files_path #cut nginx log files for d in `ls -f *.log`;do mv ${log_files_path}${d} ${log_files_dir}/$(date -d \"yesterday\" +\"%Y%m%d\")_$d done #delete 30 days ago nginx log files find $log_files_path -mtime +$save_days -exec rm -rf {} \\; $nginx_sbin -s reload ","date":"2020-03-28","objectID":"/posts/nginx-log-auto-chunk-script.html:0:0","series":null,"tags":["æ—¥å¿—"],"title":"Nginx æ—¥å¿—å…¨è‡ªåŠ¨åˆ‡å‰²è„šæœ¬","uri":"/posts/nginx-log-auto-chunk-script.html"},{"categories":["Linux"],"content":"åˆšæ¥è§¦ Linux æ—¶æœ€æ€•çš„å°±æ˜¯ SSH è¿œç¨‹ç™»å½• Linux VPS ç¼–è¯‘å®‰è£…ç¨‹åºæ—¶ï¼ˆæ¯”å¦‚å®‰è£… lnmpï¼‰ç½‘ç»œçªç„¶æ–­å¼€ï¼Œæˆ–è€…å…¶ä»–æƒ…å†µå¯¼è‡´ä¸å¾—ä¸ä¸è¿œç¨‹ SSH æœåŠ¡å™¨é“¾æ¥æ–­å¼€ï¼Œè¿œç¨‹æ‰§è¡Œçš„å‘½ä»¤ä¹Ÿè¢«è¿«åœæ­¢ï¼Œåªèƒ½é‡æ–°è¿æ¥ï¼Œé‡æ–°è¿è¡Œã€‚ä½¿ç”¨ screen å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä¸€ã€screen æ˜¯ä»€ä¹ˆï¼Ÿ Screen æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨å¤šä¸ªè¿›ç¨‹ä¹‹é—´å¤šè·¯å¤ç”¨ä¸€ä¸ªç‰©ç†ç»ˆç«¯çš„å…¨å±çª—å£ç®¡ç†å™¨ã€‚Screen ä¸­æœ‰ä¼šè¯çš„æ¦‚å¿µï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ª screen ä¼šè¯ä¸­åˆ›å»ºå¤šä¸ª screen çª—å£ï¼Œåœ¨æ¯ä¸€ä¸ª screen çª—å£ä¸­å°±åƒæ“ä½œä¸€ä¸ªçœŸå®çš„ telnet/SSH è¿æ¥çª—å£é‚£æ ·ã€‚ äºŒã€å¦‚ä½•å®‰è£… screen å‘½ä»¤ï¼Ÿ é™¤éƒ¨åˆ†ç²¾ç®€çš„ç³»ç»Ÿæˆ–è€…å®šåˆ¶çš„ç³»ç»Ÿå¤§éƒ¨åˆ†éƒ½å®‰è£…äº† screen å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ï¼ŒCentOS ç³»ç»Ÿå¯ä»¥æ‰§è¡Œï¼šyum install screen ï¼› CentOS 8 ä¸Šç§»é™¤äº† screenï¼Œéœ€è¦å®‰è£… epel åå®‰è£… screen æ‰§è¡Œï¼šyum install screen ï¼› Debian/Ubuntu ç³»ç»Ÿæ‰§è¡Œï¼šapt-get install screen ã€‚ PSï¼šå®‰è£… epel ï¼šhttps://blog.keyboardman.fun/linux/729.html ä¸‰ã€screen å‘½ä»¤ä½¿ç”¨æ–¹æ³•ï¼Ÿ ","date":"2020-03-28","objectID":"/posts/ssh-remote-session-management-tool-screen-tutorial.html:0:0","series":null,"tags":[],"title":"SSH è¿œç¨‹ä¼šè¯ç®¡ç†å·¥å…· â€“ screenä½¿ç”¨æ•™ç¨‹","uri":"/posts/ssh-remote-session-management-tool-screen-tutorial.html"},{"categories":["Linux"],"content":"3.1 åˆ›å»º screen ä¼šè¯ å¯ä»¥å…ˆæ‰§è¡Œï¼šscreen -S lnmp ï¼Œscreen å°±ä¼šåˆ›å»ºä¸€ä¸ªåå­—ä¸º lnmp çš„ä¼šè¯ã€‚ VPS ä¾¦æ¢ https://www.vpser.net/ ","date":"2020-03-28","objectID":"/posts/ssh-remote-session-management-tool-screen-tutorial.html:1:0","series":null,"tags":[],"title":"SSH è¿œç¨‹ä¼šè¯ç®¡ç†å·¥å…· â€“ screenä½¿ç”¨æ•™ç¨‹","uri":"/posts/ssh-remote-session-management-tool-screen-tutorial.html"},{"categories":["Linux"],"content":"3.2 æš‚æ—¶ç¦»å¼€ï¼Œä¿ç•™ screen ä¼šè¯ä¸­çš„ä»»åŠ¡æˆ–ç¨‹åº å½“éœ€è¦ä¸´æ—¶ç¦»å¼€æ—¶ï¼ˆä¼šè¯ä¸­çš„ç¨‹åºä¸ä¼šå…³é—­ï¼Œä»åœ¨è¿è¡Œï¼‰å¯ä»¥ç”¨å¿«æ·é”® Ctrl+a d (å³æŒ‰ä½ Ctrlï¼Œä¾æ¬¡å†æŒ‰ a,d) ","date":"2020-03-28","objectID":"/posts/ssh-remote-session-management-tool-screen-tutorial.html:2:0","series":null,"tags":[],"title":"SSH è¿œç¨‹ä¼šè¯ç®¡ç†å·¥å…· â€“ screenä½¿ç”¨æ•™ç¨‹","uri":"/posts/ssh-remote-session-management-tool-screen-tutorial.html"},{"categories":["Linux"],"content":"3.3 æ¢å¤ screen ä¼šè¯ å½“å›æ¥æ—¶å¯ä»¥å†æ‰§è¡Œæ‰§è¡Œï¼šscreen -r lnmp å³å¯æ¢å¤åˆ°ç¦»å¼€å‰åˆ›å»ºçš„ lnmp ä¼šè¯çš„å·¥ä½œç•Œé¢ã€‚å¦‚æœå¿˜è®°äº†ï¼Œæˆ–è€…å½“æ—¶æ²¡æœ‰æŒ‡å®šä¼šè¯åï¼Œå¯ä»¥æ‰§è¡Œï¼šscreen -ls screen ä¼šåˆ—å‡ºå½“å‰å­˜åœ¨çš„ä¼šè¯åˆ—è¡¨ ","date":"2020-03-28","objectID":"/posts/ssh-remote-session-management-tool-screen-tutorial.html:3:0","series":null,"tags":[],"title":"SSH è¿œç¨‹ä¼šè¯ç®¡ç†å·¥å…· â€“ screenä½¿ç”¨æ•™ç¨‹","uri":"/posts/ssh-remote-session-management-tool-screen-tutorial.html"},{"categories":["Linux"],"content":"3.4 å…³é—­ screen çš„ä¼šè¯ æ‰§è¡Œï¼šexit ï¼Œä¼šæç¤ºï¼š[screen is terminating]ï¼Œè¡¨ç¤ºå·²ç»æˆåŠŸé€€å‡º screen ä¼šè¯ã€‚ å››ã€è¿œç¨‹æ¼”ç¤º é¦–å…ˆæ¼”ç¤ºè€…å…ˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ screen -S test åˆ›å»ºä¸€ä¸ª screen ä¼šè¯ï¼Œè§‚ä¼—å¯ä»¥é“¾æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œ screen -x test è§‚ä¼—å±å¹•ä¸Šå°±ä¼šå‡ºç°å’Œæ¼”ç¤ºè€…åŒæ­¥ã€‚ äº”ã€å¸¸ç”¨å¿«æ·é”® Ctrl+a c ï¼šåœ¨å½“å‰ screen ä¼šè¯ä¸­åˆ›å»ºçª—å£ Ctrl+a w ï¼šçª—å£åˆ—è¡¨ Ctrl+a n ï¼šä¸‹ä¸€ä¸ªçª—å£ Ctrl+a p ï¼šä¸Šä¸€ä¸ªçª—å£ Ctrl+a 0-9 ï¼šåœ¨ç¬¬ 0 ä¸ªçª—å£å’Œç¬¬ 9 ä¸ªçª—å£ä¹‹é—´åˆ‡æ¢ ","date":"2020-03-28","objectID":"/posts/ssh-remote-session-management-tool-screen-tutorial.html:4:0","series":null,"tags":[],"title":"SSH è¿œç¨‹ä¼šè¯ç®¡ç†å·¥å…· â€“ screenä½¿ç”¨æ•™ç¨‹","uri":"/posts/ssh-remote-session-management-tool-screen-tutorial.html"},{"categories":["Mark"],"content":"ä½ è¿˜åœ¨å‘èµ· ajax è¯·æ±‚æ—¶åœ¨ data é‡Œå†™ä¸Šä¸€å¤§å †å‚æ•°ï¼Œæˆ–æ˜¯æ‰‹åŠ¨æ‹¼æ¥å‚æ•°å­—ç¬¦ä¸²å—ï¼Ÿ var url = \"http://example.com/...\"; $.ajax({ url: url, type: 'POST',//ä½¿ç”¨postæ–¹å¼æäº¤ data:$(\"form\").serialize(),//ä½¿ç”¨jQueryé€‰æ‹©å™¨è·å–formæ ‡ç­¾ä¸­çš„æ•°æ®ï¼Œå¹¶åºåˆ—åŒ– success: function (data) { if (data['code'] == 1) { // ... } else if(data['code'] == 0) { // ... } else { // ... } } }); jQuery Yesï¼ ","date":"2020-02-27","objectID":"/posts/how-to-gracefully-launch-an-ajax-request-with-jquery.html:0:0","series":null,"tags":["JQuery","Ajax"],"title":"JQuery å¦‚ä½•ä¼˜é›…çš„å‘èµ·ä¸€ä¸ª ajax è¯·æ±‚","uri":"/posts/how-to-gracefully-launch-an-ajax-request-with-jquery.html"},{"categories":["news"],"content":"Microsoft å°†äº 2020 å¹´ 1 æœˆ 14 æ—¥å¯¹ Windows 7 ç»ˆæ­¢æ”¯æŒ ä¸€ä¸ªæ—¶ä»£è½å¹•äº†ã€‚ ","date":"2020-01-14","objectID":"/news/goodbye-windows-7.html:0:0","series":null,"tags":[],"title":"å†è§ Windows7","uri":"/news/goodbye-windows-7.html"},{"categories":["é—²èŠ"],"content":"åœ¨è°ƒè¯•è®¾å¤‡çš„æ—¶å€™éœ€è¦æ¥å›åˆ‡æ¢ç¬”è®°æœ¬ç”µè„‘æ— çº¿ç½‘å¡çš„é™æ€ IP åœ°å€ï¼Œéå¸¸éº»çƒ¦ã€‚æ‰€ä»¥å†™äº†ä¸¤ä¸ª .bat çš„æ‰¹å¤„ç†è„šæœ¬ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚ ä¸€ã€DHCP å°†å¦‚ä¸‹å†…å®¹ä¿å­˜ä¸º set_WLAN_DHCP.bat æ–‡ä»¶ è®¾ç½®ä¸ºè‡ªåŠ¨è·å–IP/DNS @echo off % è®¾ç½®UTF-8 é˜²æ­¢ä¸­æ–‡ä¹±ç  % chcp 65001 echo è®¾ç½®IPä¿¡æ¯è‡ªåŠ¨è·å– netsh interface ip set address \"WLAN\" source=dhcp echo è®¾ç½®DNSè‡ªåŠ¨è·å– netsh interface ip set dnsservers \"WLAN\" source=dhcp echo å®Œæˆ pause äºŒã€é™æ€ IP å°†å¦‚ä¸‹å†…å®¹ä¿å­˜ä¸º set_WLAN_StaticIP.bat æ–‡ä»¶ è®¾ç½®ä¸ºé™æ€IP/DNS @echo off % è®¾ç½®UTF-8 é˜²æ­¢ä¸­æ–‡ä¹±ç  % chcp 65001 echo è®¾ç½®IPã€å­ç½‘æ©ç åŠç½‘å…³ netsh interface ip set address name=\"WLAN\" static 192.168.11.119 255.255.255.0 192.168.11.1 1 \u003enul echo è®¾ç½®ä¸»DNS netsh interface ip set dns name=\"WLAN\" static 192.168.11.1 \u003enul echo è®¾ç½®å‰¯DNS netsh interface ip add dns name=\"WLAN\" 114.114.114.114 2 \u003enul echo å®Œæˆ pause PSï¼šä¸¤ä¸ªè„šæœ¬ä¸­çš„ â€œWLANâ€ æ˜¯å› ä¸ºæˆ‘çš„ç¬”è®°æœ¬æ— çº¿ç½‘å¡åç§°ä¸º WLAN ","date":"2019-11-22","objectID":"/posts/setting-up-windows-ip-dns-using-bat-scripts.html:0:0","series":null,"tags":[],"title":"Windows ä½¿ç”¨ .bat æ‰¹å¤„ç†è„šæœ¬è®¾ç½® IPã€DNS ","uri":"/posts/setting-up-windows-ip-dns-using-bat-scripts.html"},{"categories":["è½¯ä»¶"],"content":"Snipaste æ˜¯ä¸€ä¸ªç®€å•ä½†å¼ºå¤§çš„æˆªå›¾å·¥å…·ï¼ŒåŒæ—¶å¯ä»¥è®©ä½ å°†æˆªå›¾è´´åˆ°å±å¹•ä¸Šï¼ä¸‹è½½å¹¶æ‰“å¼€ Snipasteï¼ŒæŒ‰ä¸‹ F1 æ¥å¼€å§‹æˆªå›¾ï¼Œå†æŒ‰ F3ï¼Œæˆªå›¾å°±åœ¨æ¡Œé¢ç½®é¡¶æ˜¾ç¤ºäº†ã€‚å°±è¿™ä¹ˆç®€å•ï¼è€Œä¸”å®ƒæä¾›çš„æˆªå›¾æ“ä½œåŠŸèƒ½ä¹Ÿç›¸å½“å…¨é¢ï¼Œè¶³å¤Ÿå½“æˆä¸€æ¬¾æˆªå›¾å·¥å…·ä½¿ç”¨ã€‚å½“å‰æ”¯æŒ windows / mac å¹³å°ã€‚ å®˜ç½‘ï¼šhttps://www.snipaste.com ä¸­æ–‡å®˜ç½‘ï¼šhttps://zh.snipaste.com ä½ è¿˜å¯ä»¥å°†å‰ªè´´æ¿é‡Œçš„æ–‡å­—æˆ–è€…é¢œè‰²ä¿¡æ¯è½¬åŒ–ä¸ºå›¾ç‰‡çª—å£ï¼Œå¹¶ä¸”å°†å®ƒä»¬è¿›è¡Œç¼©æ”¾ã€æ—‹è½¬ã€ç¿»è½¬ã€è®¾ä¸ºåŠé€æ˜ï¼Œç”šè‡³è®©é¼ æ ‡èƒ½ç©¿é€å®ƒä»¬ï¼å¦‚æœä½ æ˜¯ç¨‹åºå‘˜ã€è®¾è®¡å¸ˆï¼Œæˆ–è€…æ˜¯å¤§éƒ¨åˆ†å·¥ä½œæ—¶é—´éƒ½åœ¨ç”µè„‘å‰ï¼Œè´´å›¾åŠŸèƒ½å°†æ”¹å˜ä½ çš„å·¥ä½œæ–¹å¼ã€æå‡å·¥ä½œæ•ˆç‡ã€‚ Snipaste ä½¿ç”¨å¾ˆç®€å•ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰ä¸€äº›è¾ƒé«˜çº§çš„ç”¨æ³•å¯ä»¥è¿›ä¸€æ­¥æå‡ä½ çš„å·¥ä½œæ•ˆç‡ã€‚æ„Ÿå…´è¶£çš„è¯ï¼Œè¯·æŠ½ç©ºè¯»ä¸€è¯»ç”¨æˆ·æ‰‹å†Œã€‚ Snipaste æ˜¯å…è´¹è½¯ä»¶ï¼Œå®ƒä¹Ÿå¾ˆå®‰å…¨ï¼Œæ²¡æœ‰å¹¿å‘Šã€ä¸ä¼šæ‰«æä½ çš„ç¡¬ç›˜ã€æ›´ä¸ä¼šä¸Šä¼ ç”¨æˆ·æ•°æ®ï¼Œå®ƒåªåšå®ƒåº”è¯¥åšçš„äº‹ã€‚ ","date":"2019-10-18","objectID":"/posts/snipaste-simple-but-powerful-snipping-tool.html:0:0","series":null,"tags":[],"title":"Snipaste - ç®€å•ä½†å¼ºå¤§çš„æˆªå›¾å·¥å…·","uri":"/posts/snipaste-simple-but-powerful-snipping-tool.html"},{"categories":["Python"],"content":"æ²¡æœ‰å¤šè¿›ç¨‹ï¼Œæ²¡æœ‰ä»»ä½•é»‘ç§‘æŠ€çš„è£¸çˆ¬è™«ã€‚ç»ƒæ‰‹ç”¨ï¼Œçˆ¬è™«è·å–åˆ°çš„æ•°æ®çš†ä¸ºéæ•æ„Ÿä¸”å…¬å¼€çš„ç”¨æˆ·ä¿¡æ¯ã€‚ ä¸€ã€æ€è·¯ åœ¨ GitHub ä¸Šå·²ç»æœ‰ç½‘æ˜“äº‘éŸ³ä¹çš„ node.js APIï¼ˆGitHubï¼šhttps://github.com/Binaryify/NeteaseCloudMusicApiï¼‰ã€‚æ ¹æ®è¿™ä¸ªåº“æä¾›çš„ä¿¡æ¯ï¼Œå¯ä»¥å¾ˆè½»æ˜“çš„è·å–åˆ°ç½‘æ˜“äº‘éŸ³ä¹è·å–æŸä¸ªç”¨æˆ·çš„ç²‰ä¸ä¿¡æ¯æ¥å£çš„å‚æ•°ï¼ˆæ¥å£é™åˆ¶åªèƒ½è·å– 100 ä¸ªï¼‰ï¼Œè¿›è€Œç»§ç»­è·å–è¿™ 100 ä¸ªç²‰ä¸çš„ç²‰ä¸â€¦ ç®€å•çš„å‡ å±‚å¾ªç¯åµŒå¥—å°±èƒ½å¾ˆè½»æ˜“çš„æ‹¿åˆ°åä¸‡çº§åˆ°ç™¾ä¸‡çº§çš„ç”¨æˆ·æ•°æ®ï¼ˆéæ•æ„Ÿç”¨æˆ·ä¿¡æ¯ï¼‰ã€‚ äºŒã€å‚æ•°åŠ å¯†æµç¨‹åˆ†æ __getFormData(data, __get_random_str()) å‚æ•°1ï¼šdataæ˜¯dictæ•°æ®ï¼ŒåŒ…å«äº†è¡¨å•çš„å„ä¸ªå­—æ®µå’Œæ•°æ® å‚æ•°2ï¼š16ä½çš„éšæœºå­—ç¬¦ä¸² æœ€ç»ˆreturnçš„æ˜¯ä¸€ä¸ªdictï¼ŒåŒ…å«äº†paramså’ŒencSecKeyä¸¤ä¸ªå‚æ•° params __get_encText(args1, random16str) å‚æ•°1ï¼šargs1æ˜¯__getFormDataå‡½æ•°çš„å‚æ•°1ï¼Œæ˜¯dictæ•°æ®ï¼ŒåŒ…å«äº†è¡¨å•çš„å„ä¸ªå­—æ®µå’Œæ•°æ® å‚æ•°2ï¼šrandom16stræ˜¯__getFormDataå‡½æ•°çš„å‚æ•°2ï¼Œæ˜¯ä¸€ä¸ª16ä½çš„éšæœºå­—ç¬¦ä¸² æœ€ç»ˆè¿”å›çš„æ˜¯å°†å‚æ•°åŠ å¯†åäº§ç”Ÿçš„params __AES_encrypt(args1, args4) å‚æ•°1ï¼šargs1æ˜¯__get_encTextå‡½æ•°çš„å‚æ•°1ï¼Œæ˜¯dictæ•°æ®ï¼ŒåŒ…å«äº†è¡¨å•çš„å„ä¸ªå­—æ®µå’Œæ•°æ® å‚æ•°2ï¼šarg4æ˜¯ä¸€ä¸ªå›ºå®šå‚æ•° æœ€ç»ˆè¿”å›çš„æ˜¯å°†å‚æ•°ä½¿ç”¨AES CBCåŠ å¯†åå†è¿›è¡Œä¸€æ¬¡base64åŠ å¯†äº§ç”Ÿçš„å­—ç¬¦ä¸² ä½¿ç”¨__AES_encryptå‡½æ•°é¦–å…ˆåŠ å¯†ä¸€æ¬¡å‚æ•°æ˜¯ï¼ˆargs1ï¼Œargs4ï¼‰å¾—åˆ°ä¸€ä¸ªåŠ å¯†çš„å­—ç¬¦ä¸² åœ¨ä½¿ç”¨åŠ å¯†è¿‡ä¸€æ¬¡çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°1ï¼Œå’Œ__get_encTextå‡½æ•°ä¼ å…¥çš„å‚æ•°2 random16str è¿™ä¸ªéšæœº16ä½çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°2ç»§ç»­åŠ å¯†1æ¬¡ æœ€ç»ˆå¾—åˆ°params encSecKey __get_encSecKey(random16str) å‚æ•°1ï¼šrandom16stræ˜¯__getFormDataå‡½æ•°çš„å‚æ•°2ï¼Œæ˜¯ä¸€ä¸ª16ä½çš„éšæœºå­—ç¬¦ä¸² æœ€ç»ˆè¿”å›çš„æ˜¯é€šè¿‡éšæœºå­—ç¬¦ä¸²äº§ç”Ÿçš„encSecKey å›ºå®šå‚æ•°arg2 å›ºå®šå‚æ•°arg3 é€šè¿‡å›ºå®šç®—æ³•ï¼Œä½¿ç”¨éšæœº16ä½çš„å­—ç¬¦ä¸²random16strä¸è¿™ä¸¤ä¸ªå›ºå®šå‚æ•°äº§ç”ŸencSecKey ä¸‰ã€æºç  ","date":"2019-09-12","objectID":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html:0:0","series":null,"tags":[],"title":"æˆ‘ç”¨ä¸€å¤©æ—¶é—´â€œå·äº†â€ç½‘æ˜“äº‘éŸ³ä¹50W+ç”¨æˆ·ä¿¡æ¯","uri":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html"},{"categories":["Python"],"content":"common.py ï¼ˆéœ€è¦ç”¨åˆ°çš„å‡½æ•°ï¼‰ import base64 from Crypto.Cipher import AES import random import codecs import requests from fake_useragent import UserAgent def __AES_encrypt(text, key): ''' è·å–åˆ°åŠ å¯†åçš„æ•°æ® :param text: é¦–å…ˆCBCåŠ å¯†æ–¹æ³•ï¼Œtextå¿…é¡»ä½16ä½æ•°æ® :param key: åŠ å¯†çš„key :return: åŠ å¯†åçš„å­—ç¬¦ä¸² ''' iv = \"0102030405060708\" pad = 16 - len(text) % 16 if isinstance(text, str): text = text + pad * chr(pad) else: text = text.deocde(\"utf-8\") + pad * chr(pad) aes = AES.new(key=bytes(key, encoding=\"utf-8\"), mode=2, IV=bytes(iv, encoding=\"utf-8\")) res = aes.encrypt(bytes(text, encoding=\"utf-8\")) res = base64.b64encode(res).decode(\"utf-8\") return res def __get_encText(args1, random16str): args4 = \"0CoJUm6Qyw8W8jud\" encText = __AES_encrypt(args1, args4) encText = __AES_encrypt(encText, random16str) return encText def __get_encSecKey(random16str): '''é€šè¿‡æŸ¥çœ‹jsä»£ç ï¼Œè·å–encSecKey''' arg2 = \"010001\" arg3 = \"00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7\" text = random16str[::-1] rs = int(codecs.encode(text.encode('utf-8'), 'hex_codec'), 16) ** int(arg2, 16) % int(arg3, 16) return format(rs, 'x').zfill(256) def __get_random_str(): '''è¿™æ˜¯16ä½çš„éšæœºå­—ç¬¦ä¸²''' str_set = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\" random_str = \"\" for i in range(16): index = random.randint(0, len(str_set) - 1) random_str += str_set[index] return random_str def __getFormData(args1, random16str): '''è·å–åˆ°æäº¤çš„æ•°æ®''' data = {\"params\": __get_encText(args1, random16str), \"encSecKey\": __get_encSecKey(random16str)} return data def __getFans(userID): userDict = {} userID = str(userID) # userID=\"6177307\" data = '{\"userId\":\"' + userID + '\",\"time\":\"-1\",\"limit\":\"104334\",\"csrf_token\": \"\"}' formdata = __getFormData(data, __get_random_str()) ua = UserAgent() session = requests.Session() headers = {} headers[\"content-type\"] = \"application/x-www-form-urlencoded\" headers[\"user-agent\"] = ua.random headers[\"referer\"] = \"https://music.163.com/\" response = session.post(url='https://music.163.com/weapi/user/getfolloweds', headers=headers, data=formdata) results = response.json() # print(response.status_code) results = results.get('followeds') for one in results: userDict[one.get('userId')] = one # print(one.get('userId')) # print(str(one)) return userDict ","date":"2019-09-12","objectID":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html:1:0","series":null,"tags":[],"title":"æˆ‘ç”¨ä¸€å¤©æ—¶é—´â€œå·äº†â€ç½‘æ˜“äº‘éŸ³ä¹50W+ç”¨æˆ·ä¿¡æ¯","uri":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html"},{"categories":["Python"],"content":"main.py ï¼ˆä¸»ç¨‹åºï¼‰ # -*- coding: utf-8 -*- import common AllData = {} data = common.__getFans(6177307) AllData.update(data) sum = 0 for item in data: temp = common.__getFans(item) AllData.update(temp) for item1 in temp: temp2 = common.__getFans(item1) AllData.update(temp2) for item2 in temp2: sum += 1 print(sum) temp3 = common.__getFans(item2) AllData.update(temp3) with open('fans.txt', 'a', encoding='utf-8') as f: for one in AllData.items(): f.write(str(one) + '\\n') print(str(one)) å››ã€æ•°æ® æˆ‘æŠŠ main.py æ”¾åˆ°äº†æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œè·‘åˆ°ç¨‹åºç»“æŸå¤§æ¦‚ç”¨äº† 24 å°æ—¶å·¦å³åçœ‹äº†ä¸€ä¸‹å­˜å‚¨çš„æ–‡æœ¬æœ‰ 50W å·¦å³çš„ç”¨æˆ·æ•°æ®ï¼ˆä¸å«æ•æ„Ÿä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹ã€‚ (83543823, {'py': 'mjdtjst', 'time': 1510758264852, 'userId': 83543823, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'ååŠå‹•å¤©å€¦æ”¶å¤©', 'avatarUrl': 'http://p1.music.126.net/uocXBF145t-_V0pLWDwv0w==/3272146604393759.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 13, 'remarkName': None, 'follows': 19, 'authStatus': 0, 'userType': 0, 'vipType': 0, 'signature': 'å¤©ä¸‹è‹¥å€¾ï¼Œå°šæœ‰å„’é—¨ä¸€æ‰‹æ“å¤©ï¼', 'vipRights': None, 'eventCount': 1, 'playlistCount': 5}) (305937375, {'py': 'ttqsunny', 'time': 1510751111003, 'userId': 305937375, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'ç”œç”œåœˆsunny', 'avatarUrl': 'http://p1.music.126.net/v9iyq-6I1WC96R7SlbKvXQ==/3420580709664324.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 4, 'remarkName': None, 'follows': 30, 'authStatus': 0, 'userType': 0, 'vipType': 11, 'signature': None, 'vipRights': {'associator': {'vipCode': 100, 'rights': True}, 'musicPackage': None, 'redVipAnnualCount': -1}, 'eventCount': 0, 'playlistCount': 3}) (359743222, {'py': 'xxwmhjl-_', 'time': 1509411979309, 'userId': 359743222, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'é†’é†’æˆ‘ä»¬å›å®¶äº†-_', 'avatarUrl': 'http://p1.music.126.net/KcAVTPDSC8MrKaFB9_Vd9g==/109951163985306640.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 4, 'remarkName': None, 'follows': 9, 'authStatus': 0, 'userType': 0, 'vipType': 0, 'signature': 'èº«é‚ªä¸æ€•å½±å­æ­£', 'vipRights': None, 'eventCount': 0, 'playlistCount': 7}) (285736292, {'py': 'gzydyzj-', 'time': 1509016136464, 'userId': 285736292, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'å­¤èˆŸå¤œç¯ä¸€æŒå‰‘-', 'avatarUrl': 'http://p1.music.126.net/SsOPGfkTUM0dSEkOuvHfHQ==/109951163351011922.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 13, 'remarkName': None, 'follows': 33, 'authStatus': 0, 'userType': 0, 'vipType': 0, 'signature': 'å¯‚å¯å€™å¿˜äº†å‘å…ˆç”Ÿè¯´å‘Šè¾ï¼', 'vipRights': None, 'eventCount': 39, 'playlistCount': 23}) (79969440, {'py': 'cj', 'time': 1508992729596, 'userId': 79969440, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'å°ºç–¾', 'avatarUrl': 'http://p1.music.126.net/SLdf4abndYLV4Gq8eXbK8w==/109951163788127476.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 9, 'remarkName': None, 'follows': 17, 'authStatus': 0, 'userType': 0, 'vipType': 11, 'signature': 'ç»æƒ…è«è¿‡ç»éŸ³è®¯ï¼Œæ–­çˆ±æ— éæ–­æ„Ÿæƒ…', 'vipRights': {'associator': {'vipCode': 100, 'rights': True}, 'musicPackage': None, 'redVipAnnualCount': -1}, 'eventCount': 0, 'playlistCount': 6}) (413801433, {'py': 'Aresfx', 'time': 1508811460203, 'userId': 413801433, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'Aresé£é›ª', 'avatarUrl': 'http://p1.music.126.net/B1qPhuJvDGuAkQxGvNkxoA==/18828037115798229.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 5, 'remarkName': None, 'follows': 32, 'authStatus': 0, 'userType': 0, 'vipType': 0, 'signature': None, 'vipRights': None, 'eventCount': 6, 'playlistCount': 11}) (385103142, {'py': 'gyw', 'time': 1508734902599, 'userId': 385103142, 'mutual': False, 'followed': False, 'accountStatus': 0, 'nickname': 'å½’äºæ— ', 'avatarUrl': 'http://p1.music.126.net/HjaQMktAYh5dDuf009Fv5A==/18588343580852886.jpg', 'gender': 1, 'expertTags': None, 'experts': None, 'followeds': 1, 'remarkName': None, 'follows': 8, 'authStatus': 0, 'userType': 0, 'vipType': 0, 'signature': None, 'vipRights': None, 'eventCount': 0, 'play","date":"2019-09-12","objectID":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html:2:0","series":null,"tags":[],"title":"æˆ‘ç”¨ä¸€å¤©æ—¶é—´â€œå·äº†â€ç½‘æ˜“äº‘éŸ³ä¹50W+ç”¨æˆ·ä¿¡æ¯","uri":"/posts/i-spent-a-day-stealing-50w-user-information-from-netease-cloud-music.html"},{"categories":["æŠ˜è…¾"],"content":"æ¯”ä¹‹ gitLabï¼Œgogs åœ¨èµ„æºå ç”¨å’Œæ€§èƒ½ä¸Šçš„ä¼˜åŠ¿æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚ååˆ†é€‚åˆé…ç½®å¹¶ä¸é«˜çš„æœåŠ¡å™¨æ­å»ºä½¿ç”¨ã€‚å®˜ç½‘æ˜¯æœ‰æ­å»ºå¥½çš„ demoï¼Œå¯ä»¥åœ¨çº¿ä½“éªŒä¸€ä¸‹ã€‚ æœ¬æ–‡å‘½ä»¤äº CentOS7 ç³»ç»Ÿä¸­æµ‹è¯•é€šè¿‡ã€‚ å®˜ç½‘ï¼šhttps://gogs.io Githubï¼šhttps://github.com/gogs/gogs æ–‡æ¡£ï¼šhttps://gogs.io/docs/installation/install_from_binary æˆ‘æ¯”è¾ƒä¹ æƒ¯é€šè¿‡äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£… gogsï¼Œæ‰€ä»¥æœ¬æ–‡ä»¥äºŒè¿›åˆ¶å®‰è£…ä¸ºä¾‹è¯´æ˜ã€‚æœ‰å…´è¶£ä½¿ç”¨å…¶ä»–æ–¹æ³•çš„æœ‹å‹ä»¬å¯ä»¥è‡ªè¡Œå°è¯•ã€‚ ä¸€ã€æ·»åŠ  nginx ç«™ç‚¹ å°†åŸŸåè§£æåˆ°ä½ è¦å®‰è£…çš„æœåŠ¡å™¨ IP server { listen 80; server_name git.yourdomain.top;#åŸŸåä¿®æ”¹ä¸ºä½ è‡ªå·±çš„ location / { proxy_pass http://localhost:3000; } access_log /home/git/yourdomain_access.log; } äºŒã€å®‰è£…å¹¶é…ç½® gogs adduser git #åˆ›å»ºç”¨æˆ· git passwd git #è®¾ç½®gitç”¨æˆ·çš„å¯†ç  groupadd git #åˆ›å»ºç”¨æˆ·ç»„ git usermod -G git git #å°†gitç”¨æˆ·æ·»åŠ åˆ°gitç”¨æˆ·ç»„ä¸­ su git #åˆ‡æ¢åˆ°gitç”¨æˆ·shell cd ~ #è¿›å…¥/home/git wget https://dl.gogs.io/0.11.91/gogs_0.11.91_linux_amd64.zip #ä¸‹è½½gogs unzip gogs_0.11.91_linux_amd64.zip #è§£å‹gogså‹ç¼©åŒ… su #åˆ‡å›rootç”¨æˆ· cp /home/git/gogs/scripts/systemd/gogs.service /usr/lib/systemd/system/ #å¤åˆ¶serviceæ–‡ä»¶ systemctl enable gogs.service #å¯ç”¨gogsæœåŠ¡ï¼ˆå¼€æœºè‡ªå¯ï¼‰ systemctl start gogs #å¯åŠ¨gogs systemctl status gogs #æŸ¥çœ‹gogsè¿è¡ŒçŠ¶æ€ æ³¨æ„äº‹é¡¹ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ç«¯å£è®¿é—®çš„æ–¹å¼ï¼Œè¯·åœ¨ä¸»æœº IDC æ§åˆ¶å°ï¼ˆé˜¿é‡Œäº‘æˆ–è…¾è®¯äº‘ç­‰ï¼‰è®¾ç½®å¯¹åº”çš„å®‰å…¨ç»„è§„åˆ™ï¼Œå¼€æ”¾å…¥æ–¹å‘çš„ 3000 ç«¯å£ï¼Œå¹¶ä¸”åœ¨å®å¡”çš„å®‰å…¨è®¾ç½®ä¸­å¼€æ”¾ 3000 ç«¯å£ åˆ›å»ºæ•°æ®åº“è¯·ä½¿ç”¨ utf-8 ç¼–ç æ ¼å¼ï¼Œä¸è¦ utf8mb4 ã€‚ ","date":"2019-09-02","objectID":"/posts/building-a-private-gitserver-with-gogs.html:0:0","series":null,"tags":[],"title":"ä½¿ç”¨ Gogs æ­å»ºç§æœ‰çš„ GitServer","uri":"/posts/building-a-private-gitserver-with-gogs.html"},{"categories":["è½¯ä»¶"],"content":"è½¯ä»¶ä½“ç§¯ä¸å¤§ï¼Œåº•å±‚ç”± VC++ ç¼–å†™ï¼Œç”¨èµ·æ¥ä¹Ÿæ˜¯ååˆ†æµç•…ã€‚åŠŸèƒ½ä¹Ÿæ˜¯ååˆ†å¤šæ ·ï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨ç”¨è¿™æ¬¾æ’­æ”¾å™¨ã€‚å®‰åˆ©ä¸€ä¸‹ ä¸‹è½½åœ°å€ https://daumpotplayer.com/download https://potplayer.daum.net ï¼ˆè¿™ä¸ªè²Œä¼¼å·²ç»æ‰“ä¸å¼€äº†ï¼‰ åº¦ç›˜ï¼šhttps://pan.baidu.com/s/1CO5Xq51aAi5b7_9Y-9xKYQ æå–ç ï¼ši018 ","date":"2019-08-31","objectID":"/posts/potplayer-small-and-powerful-video-player.html:0:0","series":null,"tags":[],"title":"potplayer - å°å·§ã€åŠŸèƒ½å¼ºå¤§çš„è§†é¢‘æ’­æ”¾å™¨","uri":"/posts/potplayer-small-and-powerful-video-player.html"},{"categories":["Linux"],"content":"Secure Shellï¼ˆå®‰å…¨å¤–å£³åè®®ï¼Œç®€ç§° SSHï¼‰æ˜¯ä¸€ç§åŠ å¯†çš„ç½‘ç»œä¼ è¾“åè®®ï¼Œå¯åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸­ä¸ºç½‘ç»œæœåŠ¡æä¾›å®‰å…¨çš„ä¼ è¾“ç¯å¢ƒã€‚SSH é€šè¿‡åœ¨ç½‘ç»œä¸­åˆ›å»ºå®‰å…¨éš§é“æ¥å®ç° SSH å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚è™½ç„¶ä»»ä½•ç½‘ç»œæœåŠ¡éƒ½å¯ä»¥é€šè¿‡ SSH å®ç°å®‰å…¨ä¼ è¾“ï¼ŒSSH æœ€å¸¸è§çš„ç”¨é€”æ˜¯è¿œç¨‹ç™»å½•ç³»ç»Ÿï¼Œé€šå¸¸åˆ©ç”¨ SSH æ¥ä¼ è¾“å‘½ä»¤è¡Œç•Œé¢å’Œè¿œç¨‹æ‰§è¡Œå‘½ä»¤ã€‚ åœ¨è®¾è®¡ä¸Šï¼ŒSSH æ˜¯ Telnet å’Œéå®‰å…¨ shell çš„æ›¿ä»£å“ã€‚Telnet å’Œ Berkeley rloginã€rshã€rexec ç­‰åè®®é‡‡ç”¨æ˜æ–‡ä¼ è¾“ï¼Œä½¿ç”¨ä¸å¯é çš„å¯†ç ï¼Œå®¹æ˜“é­åˆ°ç›‘å¬ã€å—…æ¢å’Œä¸­é—´äººæ”»å‡» [5]ã€‚SSH æ—¨åœ¨ä¿è¯éå®‰å…¨ç½‘ç»œç¯å¢ƒï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­ä¿¡æ¯åŠ å¯†å®Œæ•´å¯é ã€‚ ä¸€ã€Windows è¿œç¨‹ç™»å½• Linux ä¸‹è½½ git bash ï¼Œæ–¹ä¾¿æ‰§è¡Œ ssh å‘½ä»¤ã€‚ å®˜ç½‘ï¼šhttps://git-scm.com ","date":"2019-08-25","objectID":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html:0:0","series":null,"tags":["ssh"],"title":"å¦‚ä½•ä½¿ç”¨ SSH è¿œç¨‹ç™»å½• Linux æœåŠ¡å™¨","uri":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html"},{"categories":["Linux"],"content":"1.1ã€ç”Ÿæˆ SSH å¯†é’¥å¯¹ åœ¨ windows ä¸­çš„ cmd ä¸­è¾“å…¥ï¼ˆä½¿ç”¨ git bash å®¢æˆ·ç«¯è¾“å…¥ä¹Ÿå¯ä»¥ï¼‰ ssh-keygen è¿æ‘ 3 ä¸ªå›è½¦å³å¯ã€‚ ç”Ÿæˆçš„ç§˜é’¥æ–‡ä»¶åœ¨ C:\\Users\\Administrator.ssh æ–‡ä»¶å¤¹ä¸‹ ","date":"2019-08-25","objectID":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html:1:0","series":null,"tags":["ssh"],"title":"å¦‚ä½•ä½¿ç”¨ SSH è¿œç¨‹ç™»å½• Linux æœåŠ¡å™¨","uri":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html"},{"categories":["Linux"],"content":"1.2ã€æ·»åŠ å…¬é’¥æ–‡ä»¶è‡³ Linux æœåŠ¡å™¨ æ‰“å¼€ git bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ # å°†192.168.1.1æ›¿æ¢ä¸ºLinuxæœåŠ¡å™¨çš„çœŸå®IPåœ°å€ # rootæ˜¯æœ€é«˜æƒé™ç”¨æˆ·ï¼Œå¯ä»¥æ›¿æ¢ä¸ºä½ æƒ³è¦è¿œç¨‹ç™»å½•çš„æŸä¸ªç”¨æˆ· # sshç«¯å£é»˜è®¤æ˜¯22 ssh-copy-id root@192.168.1.1 -p 22 ä¹‹åçš„æç¤ºè¾“å…¥ yes ï¼Œå†è¾“å…¥ Linux çš„ç”¨æˆ·å¯†ç å°±å¯ä»¥äº†ã€‚ï¼ˆè¾“å…¥å¯†ç æ—¶å®¢æˆ·ç«¯ä¸ä¼šæ˜¾ç¤ºä»»ä½•è¾“å…¥æç¤ºï¼‰ ","date":"2019-08-25","objectID":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html:2:0","series":null,"tags":["ssh"],"title":"å¦‚ä½•ä½¿ç”¨ SSH è¿œç¨‹ç™»å½• Linux æœåŠ¡å™¨","uri":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html"},{"categories":["Linux"],"content":"1.3ã€ç™»é™† æ‰“å¼€ git bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥ç›´æ¥è¿›å…¥è¿œç¨‹ Linux çš„ Shell äº†ã€‚ # å°†192.168.1.1æ›¿æ¢ä¸ºLinuxæœåŠ¡å™¨çš„çœŸå®IPåœ°å€ # rootæ˜¯æœ€é«˜æƒé™ç”¨æˆ·ï¼Œå¯ä»¥æ›¿æ¢ä¸ºä½ æƒ³è¦è¿œç¨‹ç™»å½•çš„æŸä¸ªç”¨æˆ· # sshç«¯å£é»˜è®¤æ˜¯22 ssh root@192.168.1.1 -p 22 ","date":"2019-08-25","objectID":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html:3:0","series":null,"tags":["ssh"],"title":"å¦‚ä½•ä½¿ç”¨ SSH è¿œç¨‹ç™»å½• Linux æœåŠ¡å™¨","uri":"/posts/how-to-use-ssh-to-remotely-log-in-to-a-linux-server.html"},{"categories":["è½¯ä»¶"],"content":"HashCheck å…¨ç§° HashCheck Shell Extensionï¼Œå®‰è£…åæ·»åŠ åˆ°å±æ€§çª—å£ä¸­ï¼Œæ˜¯ä¸€æ¬¾éå¸¸å°å·§å¿«é€Ÿçš„æ–‡ä»¶æ ¡éªŒå·¥å…·ï¼Œè€Œä¸” HashCheck åœ¨ Github ä¸Šå¼€æ”¾äº†æºä»£ç ã€‚è½¯ä»¶ä½“ç§¯å°ï¼Œæ–‡ä»¶ hash å€¼è®¡ç®—é€Ÿåº¦å¿«ã€‚å®‰è£…åè¿å…¥èµ„æºç®¡ç†å™¨çš„å±æ€§ä¸­ï¼ŒæŸ¥çœ‹æ–‡ä»¶ hash å€¼ååˆ†æ–¹ä¾¿ã€‚ ä¸‹è½½åœ°å€ å®˜ç½‘ï¼šhttp://code.kliu.org/hashcheck Githubï¼šhttps://github.com/gurnec/HashCheck åº¦ç›˜ï¼šhttps://pan.baidu.com/s/11yLvdMRYHhFncVMvyumO9Q æå–ç ï¼š1k4a ","date":"2019-08-21","objectID":"/posts/hashcheck-a-small-and-useful-file-verification-tool.html:0:0","series":null,"tags":[],"title":"HashCheck - ä¸€æ¬¾å°å·§ã€å®ç”¨çš„æ–‡ä»¶æ ¡éªŒå·¥å…·","uri":"/posts/hashcheck-a-small-and-useful-file-verification-tool.html"},{"categories":["Python"],"content":"åœ¨å†™è„šæœ¬çš„è¿‡ç¨‹ä¸­æ— æ³•é¿å…çš„éœ€è¦ä¸€äº›é…ç½®æ€§çš„ä¿¡æ¯ï¼Œä½†æ˜¯åˆä¸æƒ³å†™æ­»åœ¨ python æ–‡ä»¶ä¸­ï¼Œåˆšå¥½ python çš„ configparser æ¨¡å—å®ç°äº†ä»¥ä¸Šçš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨æ¥æ“ä½œ .ini é…ç½®æ–‡ä»¶ã€‚ ä¸€ã€æ–°å»ºé…ç½®æ–‡ä»¶ åœ¨ python é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª conf æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª conf.ini çš„æ–‡ä»¶ç”¨äºå­˜å‚¨é…ç½®ä¿¡æ¯ã€‚ æ–‡ä»¶è·¯å¾„ï¼š./conf/conf.ini æ–‡ä»¶å†…å®¹ï¼š [EditionInfo] version = 1.0.0 äºŒã€æºç  import configparser import os import sys def get_path(config_name): \"\"\"è·å–è·¯å¾„ è¿”å›è¿è¡Œæœ¬å‡½æ•°çš„æ–‡ä»¶ç»å¯¹è·¯å¾„+config_name determine if application is a script file or frozen exe \"\"\" if getattr(sys, 'frozen', False): application_path = os.path.dirname(sys.executable) elif __file__: application_path = os.path.dirname(__file__) config_path = os.path.join(application_path, config_name) return config_path # è¯»å–conf.ini configPath = \"conf\\\\conf.ini\" config = configparser.ConfigParser() config.read_file(open(get_path(configPath), encoding='UTF-8')) # è·å–confä¸­çš„section sections = config.sections() # è·å–ç¬¬ä¸€ä¸ªsectionä¸­çš„æ‰€æœ‰option paramList = config.options(sections[0]) # ä¿®æ”¹versionçš„å€¼ config.set(sections[0], paramList[0], \"1.0.1\") config.write(open(configPath, \"w\")) # è·å–versionçš„å€¼ æ–¹æ³•1 version = str(config.get(sections[0], paramList[0])) # è·å–versionçš„å€¼ æ–¹æ³•2 # version = str(config.get(\"EditionInfo\", \"version\")) print(version) å¯èƒ½æœ‰å¿ƒäººä¼šæ³¨æ„åˆ° get_path çš„æ–¹æ³•æœ‰ç‚¹æ€ªå¼‚ï¼Œé‚£æ˜¯å› ä¸ºåœ¨å†™ python ç¨‹åºä¸­ï¼Œæœ‰å¯èƒ½éœ€è¦è·å–å½“å‰è¿è¡Œè„šæœ¬çš„è·¯å¾„ã€‚æ‰“åŒ…æˆ exe çš„è„šæœ¬å’Œç›´æ¥è¿è¡Œåœ°è„šæœ¬åœ¨è·å–è·¯å¾„ä¸Šç¨å¾®æœ‰ç‚¹ä¸åŒã€‚ get_path çš„æ–¹æ³•å‚è€ƒäº†è¿™ç¯‡åšå®¢ï¼šhttps://www.cnblogs.com/pzxbc/archive/2012/03/18/2404695.html REF pythonä¸­è·å–æ‰“åŒ…æˆæ‰§è¡Œæ–‡ä»¶(exe)å’Œè„šæœ¬è¿è¡Œæ–‡ä»¶çš„è·¯å¾„ ï¼šhttps://www.cnblogs.com/pzxbc/archive/2012/03/18/2404695.html ","date":"2019-08-19","objectID":"/posts/manipulating-configuration-files-with-the-python-configparser-library.html:0:0","series":null,"tags":[],"title":"Python ä½¿ç”¨ configparser åº“æ“ä½œé…ç½®æ–‡ä»¶","uri":"/posts/manipulating-configuration-files-with-the-python-configparser-library.html"},{"categories":["Linux"],"content":"ä¸€ç›´å­¦ä¸‹ Shell è„šæœ¬çš„ï¼Œå€Ÿé‰´äº†å¾ˆå¤šå¤§ä½¬çš„è„šæœ¬ï¼Œé ç€ Google å†™ã€ŒCtrl+C / Vã€äº†ä¸ª Demo å‡ºæ¥ã€‚ ç›´æ¥æ”¾è„šæœ¬ï¼ŒMark ä¸€ä¸‹é˜²æ­¢ä»¥åå¿˜è®°â€¦ å¤åˆ¶è„šæœ¬å†…å®¹ï¼Œä¿å­˜ä¸º *.sh æ–‡ä»¶ï¼Œè¿è¡Œ bash *.sh ç»“åˆæŸ¥çœ‹è„šæœ¬çš„è¾“å‡ºæƒ…å†µæ¥ç†è§£å‘½ä»¤æ›´ä½³ã€‚ #!/bin/bash :\u003c\u003cEOF è¿™æ˜¯å¤šè¡Œæ³¨é‡ŠåŒºå— $0 å½“å‰è„šæœ¬çš„æ–‡ä»¶å $n ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ã€‚n æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬å‡ ä¸ªå‚æ•°ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯$1ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯$2ã€‚ $# ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚ $* ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚ $@ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚è¢«åŒå¼•å·(\" \")åŒ…å«æ—¶ï¼Œä¸ $* ç¨æœ‰ä¸åŒï¼Œä¸‹é¢å°†ä¼šè®²åˆ°ã€‚ $? ä¸Šä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œæˆ–å‡½æ•°çš„è¿”å›å€¼ã€‚ $$ å½“å‰Shellè¿›ç¨‹IDã€‚å¯¹äº Shell è„šæœ¬ï¼Œå°±æ˜¯è¿™äº›è„šæœ¬æ‰€åœ¨çš„è¿›ç¨‹IDã€‚ EOF str=\"frist shell script\" #å­—ç¬¦ä¸²æ‹¼æ¥ echo \"1ï¼šdo u know this is my $str\" #å­—ç¬¦ä¸²é•¿åº¦ echo \"2ï¼š${#str}\" #æå–å­å­—ç¬¦ä¸² echo \"3ï¼š${str:1:4}\" #æŸ¥æ‰¾å­å­—ç¬¦ä¸² æŸ¥æ‰¾å­—ç¬¦ i æˆ– s çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª) echo \"4ï¼š`expr index \"$str\" is`\" #æ•°ç»„å®šä¹‰ array_test=(1 'A' 2 4) #è·å–æ•°ç»„å…ƒç´ å€¼ echo \"5ï¼š${array_test[0]}\" echo \"6ï¼š${array_test[1]}\" echo \"7ï¼š${array_test[*]}\" echo \"8ï¼š${array_test[@]}\" #è·å–æ•°ç»„çš„é•¿åº¦ echo \"9ï¼š${#array_test[@]}\" #åŠ æ³•è¿ç®— val=`expr 2 + 2` echo \"10ï¼šä¸¤æ•°ä¹‹å’Œä¸º : $val\" #åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆlogæ–‡ä»¶ log_path=\"test.log\" echo \"11ï¼šå¾€å½“å‰ç›®å½•ä¸‹çš„logæ–‡ä»¶å†™å…¥å†…å®¹,å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºã€‚\" #å¦‚æœä¸å¸Œæœ›æ–‡ä»¶å†…å®¹è¢«è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨ \u003e\u003e è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ echo \"It is a test\" \u003e $log_path #æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ echo \"12ï¼šæ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œç»“æœ ls\" echo `ls` :\u003c\u003cEOF %s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦ %-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†… å¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚ %-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚ EOF #printfæ˜¾ç¤ºè¡¨æ ¼ echo -e \"13ï¼šprintfæ˜¾ç¤ºè¡¨æ ¼\" printf \"%-10s %-8s %-4s\\n\" å§“å æ€§åˆ« ä½“é‡kg printf \"%-10s %-8s %-4.2f\\n\" éƒ­é– ç”· 66.1234 printf \"%-10s %-8s %-4.2f\\n\" æ¨è¿‡ ç”· 48.6543 printf \"%-10s %-8s %-4.2f\\n\" éƒ­èŠ™ å¥³ 47.9876 # æ ¼å¼åªæŒ‡å®šäº†ä¸€ä¸ªå‚æ•°ï¼Œä½†å¤šå‡ºçš„å‚æ•°ä»ç„¶ä¼šæŒ‰ç…§è¯¥æ ¼å¼è¾“å‡ºï¼Œformat-string è¢«é‡ç”¨ echo -e \"14ï¼šformat-string é‡ç”¨\" printf \"%s\\n\" abc df printf \"%s %s %s\\n\" a b c d e f g h i j #if echo \"14ï¼šifè¯­å¥\" a=102 b=101 if [ $a -eq $b ] then echo 'ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼' elif [ $a -gt $b ] then echo 'aå¤§äºbï¼' else echo 'aå°äºbï¼' fi a=101 b=101 if [[ $a \u003e $b || $a == $b ]] then echo 'cå¤§ç­‰äºd' else echo 'cå°äºd' fi #å­—ç¬¦ä¸²æ¯”è¾ƒ c='sss' d='sss' if [[ $c == $d ]] then echo 'cå’Œdç›¸ç­‰ï¼' else echo 'cå’Œdä¸ç›¸ç­‰ï¼' fi #forå¾ªç¯ echo -e \"15ï¼šforå¾ªç¯è¾“å‡ºæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ \" for vo in ${array_test[*]} do echo $vo done #whileå¾ªç¯ echo -e \"15ï¼šwhileå¾ªç¯è¾“å‡ºæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ \" array_length=${#array_test[*]} temp=1 while [ $temp -lt $array_length ] do echo $temp let \"temp++\" done #untilå¾ªç¯ #until å¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ã€‚ temp=1 echo \"16ï¼šuntilå¾ªç¯è¾“å‡ºæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ \" until [ $temp -eq $array_length ] do echo $temp let \"temp++\" done #è¯»å–ç”¨æˆ·è¾“å…¥ echo \"17ï¼šè¯»å–ç”¨æˆ·è¾“å…¥\" echo \u0026\u0026 read -e -p \"è¯·è¾“å…¥æ•°å­— [1-4]ï¼š\" aNum case $aNum in 1) echo 'ä½ é€‰æ‹©äº† 1' ;; 2) echo 'ä½ é€‰æ‹©äº† 2' ;; 3) echo 'ä½ é€‰æ‹©äº† 3' ;; 4) echo 'ä½ é€‰æ‹©äº† 4' ;; *) echo 'ä½ æ²¡æœ‰è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—' ;; esac #å‡½æ•°å®šä¹‰ è°ƒç”¨ echo \"18ï¼šå‡½æ•°å®šä¹‰ è°ƒç”¨\" demoFun(){ echo \"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!\" } echo \"-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----\" demoFun echo \"-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----\" ","date":"2019-05-31","objectID":"/posts/getting-started-with-linux-shell-scripting.html:0:0","series":null,"tags":["shell"],"title":"Linux Shell è„šæœ¬å…¥é—¨","uri":"/posts/getting-started-with-linux-shell-scripting.html"},{"categories":["Linux"],"content":"åœ¨ Linux æœåŠ¡å™¨ IP å¯èƒ½å‘ç”Ÿå˜åŠ¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ DDNSï¼ˆDynamic Domain Name Server / åŠ¨æ€åŸŸåæœåŠ¡ï¼‰å¯ä»¥éšæ—¶å°†æœ¬åœ°æœåŠ¡å™¨çš„ IP æ›´æ–°è‡³åŸŸåè§£æã€‚DDNS çš„ä½œç”¨å’Œé€‚ç”¨èŒƒå›´ä¸å†èµ˜è¿°ï¼Œä¸‹é¢è¯´æ˜å¦‚ä½•é…ç½®ã€‚ ä¸€ã€å‡†å¤‡å·¥ä½œ æ³¨å†Œä¸€ä¸ª cloudflare è´¦å·åï¼ŒæŒ‰ç…§ cloudflare ç»™å‡ºçš„æç¤ºï¼Œå°†åŸŸåæ¥å…¥ cloudflareï¼Œè®© cloudflare æ¥ç®¡ä½ çš„åŸŸåã€‚ äºŒã€è·å–è´¦å· global key æ‰“å¼€ç½‘é¡µï¼šhttps://dash.cloudflare.com/profile åœ¨é¡µé¢ä¸‹æ–¹æ‰¾åˆ°ã€Global API Keyã€‘ï¼Œç‚¹å‡»å³ä¾§çš„ View æŸ¥çœ‹ Keyï¼Œå¹¶ä¿å­˜ä¸‹æ¥ ä¸‰ã€è®¾ç½®ç”¨äº DDNS è§£æçš„äºŒçº§åŸŸå åœ¨ Cloudflare ä¸­æ–°å»ºä¸€ä¸ª A è®°å½•ï¼Œå¦‚ï¼šddns.yourdomain.comï¼ŒæŒ‡å‘ 1.1.1.1ï¼ˆå¯éšæ„æŒ‡å®šï¼Œå¦‚ 123.123.123.123 ç­‰ç­‰ï¼Œä¸»è¦ç”¨äºåç»­æŸ¥çœ‹ DDNS æ˜¯å¦ç”Ÿæ•ˆï¼‰ å››ã€ä¸‹è½½ DDNS è„šæœ¬ï¼Œä¿®æ”¹é…ç½® wget -N --no-check-certificate https://raw.githubusercontent.com/yulewang/cloudflare-api-v4-ddns/master/cf-v4-ddns.sh vim cf-v4-ddns.sh 1.CFKEY å°±æ˜¯ç¬¬ä¸€æ­¥è·å–çš„ global key 2.CFUSER æ˜¯ç™»å½• cloudflare çš„é‚®ç®± 3.CFZONE_NAME æ˜¯ä½ çš„ä¸€çº§åŸŸå 4.CFRECORD_NAME åˆ™æ˜¯ç”¨äº DDNS çš„äºŒçº§åŸŸå 5.CFTTL æ˜¯åŸŸåç”Ÿæ•ˆçš„ ttlï¼Œé»˜è®¤ 120 å³å¯ äº”ã€è„šæœ¬æˆæƒå¹¶æ‰§è¡Œ chmod +x cf-v4-ddns.sh ./cf-v4-ddns.sh å¦‚æœè„šæœ¬ç›¸å…³ä¿¡æ¯å¡«å†™æ­£ç¡®ï¼Œè¾“å‡ºå†…å®¹ä¼šæ˜¾ç¤ºæœåŠ¡å™¨å½“å‰ IPï¼Œç™»å½• Cloudflare DNS é€‰é¡¹ æŸ¥çœ‹ä¹‹å‰è®¾ç½®çš„ 1.1.1.1 å·²å˜ä¸ºå½“å‰æœåŠ¡å™¨çš„ IPã€‚ å…­ã€è®¾ç½® crontab å®šæ—¶ä»»åŠ¡ # ç¼–è¾‘å®šæ—¶ä»»åŠ¡ crontab -e # å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°crontabä¸­ # æ— æ—¥å¿— */2 * * * * /root/cf-v4-ddns.sh \u003e/dev/null 2\u003e\u00261 å¦‚æœéœ€è¦æ—¥å¿—æ–‡ä»¶ï¼Œå¯å°†ä¸Šè¿°ä»£ç è¯·æ›¿æ¢æˆä¸‹è¿°ä»£ç  */2 * * * * /root/cf-v4-ddns.sh \u003e\u003e /var/log/cf-ddns.log 2\u003e\u00261 ","date":"2019-05-25","objectID":"/posts/linux-server-using-cloudflare-to-build-ddns-service.html:0:0","series":null,"tags":["cloudflare","ddns"],"title":"Linux æœåŠ¡å™¨ä½¿ç”¨ Cloudflare æ­å»º DDNS","uri":"/posts/linux-server-using-cloudflare-to-build-ddns-service.html"},{"categories":["Linux"],"content":"crontab å‘½ä»¤å¸¸è§äº Unix å’Œç±» Unix çš„æ“ä½œç³»ç»Ÿä¹‹ä¸­ï¼Œç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ ä¸€ã€å‘½ä»¤æ ¼å¼åŠå…¶å«ä¹‰ #è¯­ä¹‰ * * * * * command â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”—â”éœ€è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬çš„è·¯å¾„ â”ƒ â”ƒ â”ƒ â”ƒ â”—â”â”â”æ˜ŸæœŸ å–å€¼èŒƒå›´ 0-6 â”ƒ â”ƒ â”ƒ â”—â”â”â”â”æœˆä»½ å–å€¼èŒƒå›´ 1-12 â”ƒ â”ƒ â”—â”â”â”â”â” æ—¥ å–å€¼èŒƒå›´ 1-31 â”ƒ â”—â”â”â”â”â”â” å°æ—¶ å–å€¼èŒƒå›´ 0-23 â”—â”â”â”â”â”â”â”â” åˆ†é’Ÿ å–å€¼èŒƒå›´ 0-59 #ç¼–è¾‘crontabä»»åŠ¡ï¼Œå†™å…¥åä¿å­˜é€€å‡ºç”Ÿæ•ˆ crontab -e #åˆ—å‡ºå·²ç»å­˜åœ¨çš„crontabä»»åŠ¡ crontab -l äºŒã€Demo #æ¯å¤©7:00é‡å¯ 0 7 * * * reboot #æ¯å‘¨å…­å‡Œæ™¨4:00é‡å¯ 0 4 * * 6 reboot #æ¯å‘¨å…­å‡Œæ™¨4:05æ‰§è¡Œè„šæœ¬ 5 4 * * 6 /root/clearLog.sh #æ¯å‘¨å…­å‡Œæ™¨4:15æ‰§è¡Œ 15 4 * * 6 /root/clearLog.sh #æ¯å¤©8:40æ‰§è¡Œ 40 8 * * * /root/clearLog.sh #æ¯å‘¨ä¸€åˆ°å‘¨äº”çš„11:41å¼€å§‹ï¼Œæ¯éš”10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ 41,51 11 * * 1-5 /root/clearLog.sh 1-59/10 12-23 * * 1-5 /root/clearLog.sh #åœ¨æ¯å¤©çš„10:31å¼€å§‹ï¼Œæ¯éš”2å°æ—¶é‡å¤ä¸€æ¬¡ 31 10-23/2 * * * /root/clearLog.sh #æ¯å¤©23:50æ‰§è¡Œ 50 23 * * * /root/clearLog.sh #æ¯å¤©10:00ã€16:00æ‰§è¡Œ 0 10,16 * * * /root/clearLog.sh REF Linux è®¡åˆ’ä»»åŠ¡ Crontab å®ä¾‹è¯¦è§£ï¼šhttps://www.osyunwei.com/archives/5039.html ","date":"2019-05-20","objectID":"/posts/linux-using-crontab-to-execute-timed-tasks.html:0:0","series":null,"tags":["crontab"],"title":"Linux ä½¿ç”¨ crontab æ‰§è¡Œå®šæ—¶ä»»åŠ¡","uri":"/posts/linux-using-crontab-to-execute-timed-tasks.html"},{"categories":["Linux"],"content":"ç›®å‰ç«¯å£æ‰«æå¯ä»¥é€šè¿‡ web ç‰ˆæœ¬çš„ç«¯å£æ‰«æè¿›è¡Œç®€å•çš„æµ‹è¯•ï¼Œä¸€æ¬¡æ€§æ‰«æçš„ç«¯å£æ•°é‡ä¸€èˆ¬ä¹Ÿä¼šæœ‰é™åˆ¶ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä»…ä»…æ˜¯æ‰«æä¸€äº›å¸¸ç”¨ç«¯å£ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºçš„ç½‘é¡µç‰ˆç«¯å£æ‰«æå¯ä»¥æ»¡è¶³ã€‚å¦‚æœæƒ³æŠ˜è…¾ä¸€ä¸‹ï¼Œæˆ–è€…æ˜¯å¯¹è‡ªå·±çš„ä¸»æœºè¿›è¡Œå®‰å…¨æ£€æŸ¥ä¹‹ç±»çš„ï¼Œè¿˜æ˜¯ä½¿ç”¨ Linux ç³»ç»Ÿä¸‹çš„ nmap å·¥å…·è¿›è¡Œæ‰«æä¼šæ¯”è¾ƒæ–¹ä¾¿ä¸€ç‚¹ã€‚ ä¸€ã€å®‰è£… nmap ä½¿ç”¨ yum å®‰è£… nmap #æ›´æ–°ä¸€ä¸‹æº yum update -y #å®‰è£… yum install nmap -y äºŒã€nmap å‘½ä»¤ #æ‰«ææœ¬æœºå¼€æ”¾çš„ç«¯å£ã€Œ127.0.0.1 ä¸€èˆ¬æŒ‡ä»£æœ¬æœºã€ nmap 127.0.0.1 -p 1-65535 å…ˆå’•å’•å’•â€¦ æ—¥åå†è¡¥æ‰¹é‡æ‰« IP æ®µå¹¶å°†ç»“æœå†™å…¥æ—¥å¿— ","date":"2019-05-19","objectID":"/posts/using-nmap-for-port-scanning-on-linux-systems.html:0:0","series":null,"tags":["nmap","ç«¯å£æ‰«æ"],"title":"Linux ä½¿ç”¨ nmap è¿›è¡Œç«¯å£æ‰«æ","uri":"/posts/using-nmap-for-port-scanning-on-linux-systems.html"},{"categories":["é—²èŠ"],"content":"About Content and Tools Iâ€™ve been trying to use some note taking software for about half a year now, and Iâ€™ve gradually fallen into the swamp of searching and experiencing all kinds of note taking software, which seems to be a strange circle that shouldnâ€™t exist: looking for a note taking app, experiencing it, and looking for the next note taking app, but we shouldnâ€™t be like this, originally wanting to find a good weapon to fight with, but finally becoming a shopkeeper of a weapon store. Recently gradually realized, should gradually return to the original heart, think of what content, find the right place to start writing immediately, the content is far more important than the carrier. No longer go to spend a lot of time looking for good tools, focus on content output, improve their own, obviously more important. ","date":"2019-05-18","objectID":"/posts/en/about.html:0:0","series":null,"tags":[],"title":"About blog","uri":"/posts/en/about.html"},{"categories":["é—²èŠ"],"content":"å…³äºå†…å®¹å’Œå·¥å…·ã€‚ å¤§æ¦‚åœ¨åŠå¹´å‰ï¼Œå°è¯•å¹¶ä¸”ä½¿ç”¨äº†ä¸€äº›ç¬”è®°è½¯ä»¶ï¼Œäºæ˜¯é€æ¸é™·å…¥å¯»æ‰¾çš„æ²¼æ³½é‡Œï¼Œä¸€å‘ä¸å¯æ”¶æ‹¾ï¼Œå¼€å§‹ä½“éªŒå„ç§ç¬”è®°è½¯ä»¶ï¼Œè¿™ä¼¼ä¹æ˜¯é™·å…¥äº†ä¸€ä¸ªä¸åº”è¯¥å­˜åœ¨çš„æ€ªåœˆï¼šæ‰¾ç¬”è®°APPï¼Œä½“éªŒï¼Œæ‰¾ä¸‹ä¸€ä¸ªç¬”è®°APPã€‚è€Œæˆ‘ä»¬æœ¬å¿ƒä¸è¯¥æ˜¯è¿™æ ·çš„ï¼Œæœ¬æ¥æ˜¯æƒ³æ‰¾ä¸ªç§°æ‰‹çš„å…µå™¨æ‰“ä»—ï¼Œæœ€åå´å˜æˆäº†æ­¦å™¨å•†åº—çš„åº—é•¿ã€‚ è¿‘æœŸé€æ¸æ„è¯†åˆ°äº†ï¼Œåº”è¯¥é€æ¸å›å½’åˆå¿ƒï¼Œæƒ³åˆ°ä»€ä¹ˆå†…å®¹ï¼Œå°±æ‰¾åˆé€‚çš„åœ°æ–¹é©¬ä¸Šå¼€å§‹å†™ï¼Œå†…å®¹è¿œæ¯”è½½ä½“é‡è¦çš„å¤šã€‚ ä¸å†å»æŠŠå¤§é‡çš„æ—¶é—´èŠ±åœ¨å¯»æ‰¾å¥½å·¥å…·ä¸Šäº†ï¼Œä¸“æ³¨äºå†…å®¹äº§å‡ºï¼Œæå‡è‡ªå·±ï¼Œæ˜¾ç„¶æ›´åŠ é‡è¦ã€‚ ","date":"2019-05-18","objectID":"/posts/about.html:0:0","series":null,"tags":[],"title":"å…³äºåšå®¢","uri":"/posts/about.html"}]